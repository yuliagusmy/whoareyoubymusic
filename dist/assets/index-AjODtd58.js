(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const o of document.querySelectorAll('link[rel="modulepreload"]'))i(o);new MutationObserver(o=>{for(const l of o)if(l.type==="childList")for(const f of l.addedNodes)f.tagName==="LINK"&&f.rel==="modulepreload"&&i(f)}).observe(document,{childList:!0,subtree:!0});function t(o){const l={};return o.integrity&&(l.integrity=o.integrity),o.referrerPolicy&&(l.referrerPolicy=o.referrerPolicy),o.crossOrigin==="use-credentials"?l.credentials="include":o.crossOrigin==="anonymous"?l.credentials="omit":l.credentials="same-origin",l}function i(o){if(o.ep)return;o.ep=!0;const l=t(o);fetch(o.href,l)}})();function ST(a){return a&&a.__esModule&&Object.prototype.hasOwnProperty.call(a,"default")?a.default:a}function CT(a){if(Object.prototype.hasOwnProperty.call(a,"__esModule"))return a;var e=a.default;if(typeof e=="function"){var t=function i(){return this instanceof i?Reflect.construct(e,arguments,this.constructor):e.apply(this,arguments)};t.prototype=e.prototype}else t={};return Object.defineProperty(t,"__esModule",{value:!0}),Object.keys(a).forEach(function(i){var o=Object.getOwnPropertyDescriptor(a,i);Object.defineProperty(t,i,o.get?o:{enumerable:!0,get:function(){return a[i]}})}),t}var Mc={exports:{}},Za={};/**
 * @license React
 * react-jsx-runtime.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var bp;function ET(){if(bp)return Za;bp=1;var a=Symbol.for("react.transitional.element"),e=Symbol.for("react.fragment");function t(i,o,l){var f=null;if(l!==void 0&&(f=""+l),o.key!==void 0&&(f=""+o.key),"key"in o){l={};for(var m in o)m!=="key"&&(l[m]=o[m])}else l=o;return o=l.ref,{$$typeof:a,type:i,key:f,ref:o!==void 0?o:null,props:l}}return Za.Fragment=e,Za.jsx=t,Za.jsxs=t,Za}var Rp;function AT(){return Rp||(Rp=1,Mc.exports=ET()),Mc.exports}var re=AT(),Dc={exports:{}},ge={};/**
 * @license React
 * react.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Mp;function wT(){if(Mp)return ge;Mp=1;var a=Symbol.for("react.transitional.element"),e=Symbol.for("react.portal"),t=Symbol.for("react.fragment"),i=Symbol.for("react.strict_mode"),o=Symbol.for("react.profiler"),l=Symbol.for("react.consumer"),f=Symbol.for("react.context"),m=Symbol.for("react.forward_ref"),g=Symbol.for("react.suspense"),p=Symbol.for("react.memo"),v=Symbol.for("react.lazy"),_=Symbol.iterator;function S(x){return x===null||typeof x!="object"?null:(x=_&&x[_]||x["@@iterator"],typeof x=="function"?x:null)}var E={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},A=Object.assign,b={};function N(x,$,Q){this.props=x,this.context=$,this.refs=b,this.updater=Q||E}N.prototype.isReactComponent={},N.prototype.setState=function(x,$){if(typeof x!="object"&&typeof x!="function"&&x!=null)throw Error("takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,x,$,"setState")},N.prototype.forceUpdate=function(x){this.updater.enqueueForceUpdate(this,x,"forceUpdate")};function O(){}O.prototype=N.prototype;function q(x,$,Q){this.props=x,this.context=$,this.refs=b,this.updater=Q||E}var H=q.prototype=new O;H.constructor=q,A(H,N.prototype),H.isPureReactComponent=!0;var J=Array.isArray,F={H:null,A:null,T:null,S:null,V:null},oe=Object.prototype.hasOwnProperty;function se(x,$,Q,z,Z,de){return Q=de.ref,{$$typeof:a,type:x,key:$,ref:Q!==void 0?Q:null,props:de}}function ve(x,$){return se(x.type,$,void 0,void 0,void 0,x.props)}function te(x){return typeof x=="object"&&x!==null&&x.$$typeof===a}function me(x){var $={"=":"=0",":":"=2"};return"$"+x.replace(/[=:]/g,function(Q){return $[Q]})}var ze=/\/+/g;function Xe(x,$){return typeof x=="object"&&x!==null&&x.key!=null?me(""+x.key):$.toString(36)}function Lt(){}function nt(x){switch(x.status){case"fulfilled":return x.value;case"rejected":throw x.reason;default:switch(typeof x.status=="string"?x.then(Lt,Lt):(x.status="pending",x.then(function($){x.status==="pending"&&(x.status="fulfilled",x.value=$)},function($){x.status==="pending"&&(x.status="rejected",x.reason=$)})),x.status){case"fulfilled":return x.value;case"rejected":throw x.reason}}throw x}function Je(x,$,Q,z,Z){var de=typeof x;(de==="undefined"||de==="boolean")&&(x=null);var W=!1;if(x===null)W=!0;else switch(de){case"bigint":case"string":case"number":W=!0;break;case"object":switch(x.$$typeof){case a:case e:W=!0;break;case v:return W=x._init,Je(W(x._payload),$,Q,z,Z)}}if(W)return Z=Z(x),W=z===""?"."+Xe(x,0):z,J(Z)?(Q="",W!=null&&(Q=W.replace(ze,"$&/")+"/"),Je(Z,$,Q,"",function(Jt){return Jt})):Z!=null&&(te(Z)&&(Z=ve(Z,Q+(Z.key==null||x&&x.key===Z.key?"":(""+Z.key).replace(ze,"$&/")+"/")+W)),$.push(Z)),1;W=0;var Re=z===""?".":z+":";if(J(x))for(var xe=0;xe<x.length;xe++)z=x[xe],de=Re+Xe(z,xe),W+=Je(z,$,Q,de,Z);else if(xe=S(x),typeof xe=="function")for(x=xe.call(x),xe=0;!(z=x.next()).done;)z=z.value,de=Re+Xe(z,xe++),W+=Je(z,$,Q,de,Z);else if(de==="object"){if(typeof x.then=="function")return Je(nt(x),$,Q,z,Z);throw $=String(x),Error("Objects are not valid as a React child (found: "+($==="[object Object]"?"object with keys {"+Object.keys(x).join(", ")+"}":$)+"). If you meant to render a collection of children, use an array instead.")}return W}function P(x,$,Q){if(x==null)return x;var z=[],Z=0;return Je(x,z,"","",function(de){return $.call(Q,de,Z++)}),z}function K(x){if(x._status===-1){var $=x._result;$=$(),$.then(function(Q){(x._status===0||x._status===-1)&&(x._status=1,x._result=Q)},function(Q){(x._status===0||x._status===-1)&&(x._status=2,x._result=Q)}),x._status===-1&&(x._status=0,x._result=$)}if(x._status===1)return x._result.default;throw x._result}var ae=typeof reportError=="function"?reportError:function(x){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var $=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof x=="object"&&x!==null&&typeof x.message=="string"?String(x.message):String(x),error:x});if(!window.dispatchEvent($))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",x);return}console.error(x)};function ke(){}return ge.Children={map:P,forEach:function(x,$,Q){P(x,function(){$.apply(this,arguments)},Q)},count:function(x){var $=0;return P(x,function(){$++}),$},toArray:function(x){return P(x,function($){return $})||[]},only:function(x){if(!te(x))throw Error("React.Children.only expected to receive a single React element child.");return x}},ge.Component=N,ge.Fragment=t,ge.Profiler=o,ge.PureComponent=q,ge.StrictMode=i,ge.Suspense=g,ge.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=F,ge.__COMPILER_RUNTIME={__proto__:null,c:function(x){return F.H.useMemoCache(x)}},ge.cache=function(x){return function(){return x.apply(null,arguments)}},ge.cloneElement=function(x,$,Q){if(x==null)throw Error("The argument must be a React element, but you passed "+x+".");var z=A({},x.props),Z=x.key,de=void 0;if($!=null)for(W in $.ref!==void 0&&(de=void 0),$.key!==void 0&&(Z=""+$.key),$)!oe.call($,W)||W==="key"||W==="__self"||W==="__source"||W==="ref"&&$.ref===void 0||(z[W]=$[W]);var W=arguments.length-2;if(W===1)z.children=Q;else if(1<W){for(var Re=Array(W),xe=0;xe<W;xe++)Re[xe]=arguments[xe+2];z.children=Re}return se(x.type,Z,void 0,void 0,de,z)},ge.createContext=function(x){return x={$$typeof:f,_currentValue:x,_currentValue2:x,_threadCount:0,Provider:null,Consumer:null},x.Provider=x,x.Consumer={$$typeof:l,_context:x},x},ge.createElement=function(x,$,Q){var z,Z={},de=null;if($!=null)for(z in $.key!==void 0&&(de=""+$.key),$)oe.call($,z)&&z!=="key"&&z!=="__self"&&z!=="__source"&&(Z[z]=$[z]);var W=arguments.length-2;if(W===1)Z.children=Q;else if(1<W){for(var Re=Array(W),xe=0;xe<W;xe++)Re[xe]=arguments[xe+2];Z.children=Re}if(x&&x.defaultProps)for(z in W=x.defaultProps,W)Z[z]===void 0&&(Z[z]=W[z]);return se(x,de,void 0,void 0,null,Z)},ge.createRef=function(){return{current:null}},ge.forwardRef=function(x){return{$$typeof:m,render:x}},ge.isValidElement=te,ge.lazy=function(x){return{$$typeof:v,_payload:{_status:-1,_result:x},_init:K}},ge.memo=function(x,$){return{$$typeof:p,type:x,compare:$===void 0?null:$}},ge.startTransition=function(x){var $=F.T,Q={};F.T=Q;try{var z=x(),Z=F.S;Z!==null&&Z(Q,z),typeof z=="object"&&z!==null&&typeof z.then=="function"&&z.then(ke,ae)}catch(de){ae(de)}finally{F.T=$}},ge.unstable_useCacheRefresh=function(){return F.H.useCacheRefresh()},ge.use=function(x){return F.H.use(x)},ge.useActionState=function(x,$,Q){return F.H.useActionState(x,$,Q)},ge.useCallback=function(x,$){return F.H.useCallback(x,$)},ge.useContext=function(x){return F.H.useContext(x)},ge.useDebugValue=function(){},ge.useDeferredValue=function(x,$){return F.H.useDeferredValue(x,$)},ge.useEffect=function(x,$,Q){var z=F.H;if(typeof Q=="function")throw Error("useEffect CRUD overload is not enabled in this build of React.");return z.useEffect(x,$)},ge.useId=function(){return F.H.useId()},ge.useImperativeHandle=function(x,$,Q){return F.H.useImperativeHandle(x,$,Q)},ge.useInsertionEffect=function(x,$){return F.H.useInsertionEffect(x,$)},ge.useLayoutEffect=function(x,$){return F.H.useLayoutEffect(x,$)},ge.useMemo=function(x,$){return F.H.useMemo(x,$)},ge.useOptimistic=function(x,$){return F.H.useOptimistic(x,$)},ge.useReducer=function(x,$,Q){return F.H.useReducer(x,$,Q)},ge.useRef=function(x){return F.H.useRef(x)},ge.useState=function(x){return F.H.useState(x)},ge.useSyncExternalStore=function(x,$,Q){return F.H.useSyncExternalStore(x,$,Q)},ge.useTransition=function(){return F.H.useTransition()},ge.version="19.1.0",ge}var Dp;function Tf(){return Dp||(Dp=1,Dc.exports=wT()),Dc.exports}var L=Tf(),Nc={exports:{}},Ka={},kc={exports:{}},Uc={};/**
 * @license React
 * scheduler.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Np;function xT(){return Np||(Np=1,function(a){function e(P,K){var ae=P.length;P.push(K);e:for(;0<ae;){var ke=ae-1>>>1,x=P[ke];if(0<o(x,K))P[ke]=K,P[ae]=x,ae=ke;else break e}}function t(P){return P.length===0?null:P[0]}function i(P){if(P.length===0)return null;var K=P[0],ae=P.pop();if(ae!==K){P[0]=ae;e:for(var ke=0,x=P.length,$=x>>>1;ke<$;){var Q=2*(ke+1)-1,z=P[Q],Z=Q+1,de=P[Z];if(0>o(z,ae))Z<x&&0>o(de,z)?(P[ke]=de,P[Z]=ae,ke=Z):(P[ke]=z,P[Q]=ae,ke=Q);else if(Z<x&&0>o(de,ae))P[ke]=de,P[Z]=ae,ke=Z;else break e}}return K}function o(P,K){var ae=P.sortIndex-K.sortIndex;return ae!==0?ae:P.id-K.id}if(a.unstable_now=void 0,typeof performance=="object"&&typeof performance.now=="function"){var l=performance;a.unstable_now=function(){return l.now()}}else{var f=Date,m=f.now();a.unstable_now=function(){return f.now()-m}}var g=[],p=[],v=1,_=null,S=3,E=!1,A=!1,b=!1,N=!1,O=typeof setTimeout=="function"?setTimeout:null,q=typeof clearTimeout=="function"?clearTimeout:null,H=typeof setImmediate<"u"?setImmediate:null;function J(P){for(var K=t(p);K!==null;){if(K.callback===null)i(p);else if(K.startTime<=P)i(p),K.sortIndex=K.expirationTime,e(g,K);else break;K=t(p)}}function F(P){if(b=!1,J(P),!A)if(t(g)!==null)A=!0,oe||(oe=!0,Xe());else{var K=t(p);K!==null&&Je(F,K.startTime-P)}}var oe=!1,se=-1,ve=5,te=-1;function me(){return N?!0:!(a.unstable_now()-te<ve)}function ze(){if(N=!1,oe){var P=a.unstable_now();te=P;var K=!0;try{e:{A=!1,b&&(b=!1,q(se),se=-1),E=!0;var ae=S;try{t:{for(J(P),_=t(g);_!==null&&!(_.expirationTime>P&&me());){var ke=_.callback;if(typeof ke=="function"){_.callback=null,S=_.priorityLevel;var x=ke(_.expirationTime<=P);if(P=a.unstable_now(),typeof x=="function"){_.callback=x,J(P),K=!0;break t}_===t(g)&&i(g),J(P)}else i(g);_=t(g)}if(_!==null)K=!0;else{var $=t(p);$!==null&&Je(F,$.startTime-P),K=!1}}break e}finally{_=null,S=ae,E=!1}K=void 0}}finally{K?Xe():oe=!1}}}var Xe;if(typeof H=="function")Xe=function(){H(ze)};else if(typeof MessageChannel<"u"){var Lt=new MessageChannel,nt=Lt.port2;Lt.port1.onmessage=ze,Xe=function(){nt.postMessage(null)}}else Xe=function(){O(ze,0)};function Je(P,K){se=O(function(){P(a.unstable_now())},K)}a.unstable_IdlePriority=5,a.unstable_ImmediatePriority=1,a.unstable_LowPriority=4,a.unstable_NormalPriority=3,a.unstable_Profiling=null,a.unstable_UserBlockingPriority=2,a.unstable_cancelCallback=function(P){P.callback=null},a.unstable_forceFrameRate=function(P){0>P||125<P?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):ve=0<P?Math.floor(1e3/P):5},a.unstable_getCurrentPriorityLevel=function(){return S},a.unstable_next=function(P){switch(S){case 1:case 2:case 3:var K=3;break;default:K=S}var ae=S;S=K;try{return P()}finally{S=ae}},a.unstable_requestPaint=function(){N=!0},a.unstable_runWithPriority=function(P,K){switch(P){case 1:case 2:case 3:case 4:case 5:break;default:P=3}var ae=S;S=P;try{return K()}finally{S=ae}},a.unstable_scheduleCallback=function(P,K,ae){var ke=a.unstable_now();switch(typeof ae=="object"&&ae!==null?(ae=ae.delay,ae=typeof ae=="number"&&0<ae?ke+ae:ke):ae=ke,P){case 1:var x=-1;break;case 2:x=250;break;case 5:x=1073741823;break;case 4:x=1e4;break;default:x=5e3}return x=ae+x,P={id:v++,callback:K,priorityLevel:P,startTime:ae,expirationTime:x,sortIndex:-1},ae>ke?(P.sortIndex=ae,e(p,P),t(g)===null&&P===t(p)&&(b?(q(se),se=-1):b=!0,Je(F,ae-ke))):(P.sortIndex=x,e(g,P),A||E||(A=!0,oe||(oe=!0,Xe()))),P},a.unstable_shouldYield=me,a.unstable_wrapCallback=function(P){var K=S;return function(){var ae=S;S=K;try{return P.apply(this,arguments)}finally{S=ae}}}}(Uc)),Uc}var kp;function bT(){return kp||(kp=1,kc.exports=xT()),kc.exports}var Ic={exports:{}},gt={};/**
 * @license React
 * react-dom.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Up;function RT(){if(Up)return gt;Up=1;var a=Tf();function e(g){var p="https://react.dev/errors/"+g;if(1<arguments.length){p+="?args[]="+encodeURIComponent(arguments[1]);for(var v=2;v<arguments.length;v++)p+="&args[]="+encodeURIComponent(arguments[v])}return"Minified React error #"+g+"; visit "+p+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function t(){}var i={d:{f:t,r:function(){throw Error(e(522))},D:t,C:t,L:t,m:t,X:t,S:t,M:t},p:0,findDOMNode:null},o=Symbol.for("react.portal");function l(g,p,v){var _=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:o,key:_==null?null:""+_,children:g,containerInfo:p,implementation:v}}var f=a.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE;function m(g,p){if(g==="font")return"";if(typeof p=="string")return p==="use-credentials"?p:""}return gt.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=i,gt.createPortal=function(g,p){var v=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!p||p.nodeType!==1&&p.nodeType!==9&&p.nodeType!==11)throw Error(e(299));return l(g,p,null,v)},gt.flushSync=function(g){var p=f.T,v=i.p;try{if(f.T=null,i.p=2,g)return g()}finally{f.T=p,i.p=v,i.d.f()}},gt.preconnect=function(g,p){typeof g=="string"&&(p?(p=p.crossOrigin,p=typeof p=="string"?p==="use-credentials"?p:"":void 0):p=null,i.d.C(g,p))},gt.prefetchDNS=function(g){typeof g=="string"&&i.d.D(g)},gt.preinit=function(g,p){if(typeof g=="string"&&p&&typeof p.as=="string"){var v=p.as,_=m(v,p.crossOrigin),S=typeof p.integrity=="string"?p.integrity:void 0,E=typeof p.fetchPriority=="string"?p.fetchPriority:void 0;v==="style"?i.d.S(g,typeof p.precedence=="string"?p.precedence:void 0,{crossOrigin:_,integrity:S,fetchPriority:E}):v==="script"&&i.d.X(g,{crossOrigin:_,integrity:S,fetchPriority:E,nonce:typeof p.nonce=="string"?p.nonce:void 0})}},gt.preinitModule=function(g,p){if(typeof g=="string")if(typeof p=="object"&&p!==null){if(p.as==null||p.as==="script"){var v=m(p.as,p.crossOrigin);i.d.M(g,{crossOrigin:v,integrity:typeof p.integrity=="string"?p.integrity:void 0,nonce:typeof p.nonce=="string"?p.nonce:void 0})}}else p==null&&i.d.M(g)},gt.preload=function(g,p){if(typeof g=="string"&&typeof p=="object"&&p!==null&&typeof p.as=="string"){var v=p.as,_=m(v,p.crossOrigin);i.d.L(g,v,{crossOrigin:_,integrity:typeof p.integrity=="string"?p.integrity:void 0,nonce:typeof p.nonce=="string"?p.nonce:void 0,type:typeof p.type=="string"?p.type:void 0,fetchPriority:typeof p.fetchPriority=="string"?p.fetchPriority:void 0,referrerPolicy:typeof p.referrerPolicy=="string"?p.referrerPolicy:void 0,imageSrcSet:typeof p.imageSrcSet=="string"?p.imageSrcSet:void 0,imageSizes:typeof p.imageSizes=="string"?p.imageSizes:void 0,media:typeof p.media=="string"?p.media:void 0})}},gt.preloadModule=function(g,p){if(typeof g=="string")if(p){var v=m(p.as,p.crossOrigin);i.d.m(g,{as:typeof p.as=="string"&&p.as!=="script"?p.as:void 0,crossOrigin:v,integrity:typeof p.integrity=="string"?p.integrity:void 0})}else i.d.m(g)},gt.requestFormReset=function(g){i.d.r(g)},gt.unstable_batchedUpdates=function(g,p){return g(p)},gt.useFormState=function(g,p,v){return f.H.useFormState(g,p,v)},gt.useFormStatus=function(){return f.H.useHostTransitionStatus()},gt.version="19.1.0",gt}var Ip;function MT(){if(Ip)return Ic.exports;Ip=1;function a(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(a)}catch(e){console.error(e)}}return a(),Ic.exports=RT(),Ic.exports}/**
 * @license React
 * react-dom-client.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Op;function DT(){if(Op)return Ka;Op=1;var a=bT(),e=Tf(),t=MT();function i(n){var r="https://react.dev/errors/"+n;if(1<arguments.length){r+="?args[]="+encodeURIComponent(arguments[1]);for(var s=2;s<arguments.length;s++)r+="&args[]="+encodeURIComponent(arguments[s])}return"Minified React error #"+n+"; visit "+r+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function o(n){return!(!n||n.nodeType!==1&&n.nodeType!==9&&n.nodeType!==11)}function l(n){var r=n,s=n;if(n.alternate)for(;r.return;)r=r.return;else{n=r;do r=n,(r.flags&4098)!==0&&(s=r.return),n=r.return;while(n)}return r.tag===3?s:null}function f(n){if(n.tag===13){var r=n.memoizedState;if(r===null&&(n=n.alternate,n!==null&&(r=n.memoizedState)),r!==null)return r.dehydrated}return null}function m(n){if(l(n)!==n)throw Error(i(188))}function g(n){var r=n.alternate;if(!r){if(r=l(n),r===null)throw Error(i(188));return r!==n?null:n}for(var s=n,u=r;;){var h=s.return;if(h===null)break;var y=h.alternate;if(y===null){if(u=h.return,u!==null){s=u;continue}break}if(h.child===y.child){for(y=h.child;y;){if(y===s)return m(h),n;if(y===u)return m(h),r;y=y.sibling}throw Error(i(188))}if(s.return!==u.return)s=h,u=y;else{for(var T=!1,C=h.child;C;){if(C===s){T=!0,s=h,u=y;break}if(C===u){T=!0,u=h,s=y;break}C=C.sibling}if(!T){for(C=y.child;C;){if(C===s){T=!0,s=y,u=h;break}if(C===u){T=!0,u=y,s=h;break}C=C.sibling}if(!T)throw Error(i(189))}}if(s.alternate!==u)throw Error(i(190))}if(s.tag!==3)throw Error(i(188));return s.stateNode.current===s?n:r}function p(n){var r=n.tag;if(r===5||r===26||r===27||r===6)return n;for(n=n.child;n!==null;){if(r=p(n),r!==null)return r;n=n.sibling}return null}var v=Object.assign,_=Symbol.for("react.element"),S=Symbol.for("react.transitional.element"),E=Symbol.for("react.portal"),A=Symbol.for("react.fragment"),b=Symbol.for("react.strict_mode"),N=Symbol.for("react.profiler"),O=Symbol.for("react.provider"),q=Symbol.for("react.consumer"),H=Symbol.for("react.context"),J=Symbol.for("react.forward_ref"),F=Symbol.for("react.suspense"),oe=Symbol.for("react.suspense_list"),se=Symbol.for("react.memo"),ve=Symbol.for("react.lazy"),te=Symbol.for("react.activity"),me=Symbol.for("react.memo_cache_sentinel"),ze=Symbol.iterator;function Xe(n){return n===null||typeof n!="object"?null:(n=ze&&n[ze]||n["@@iterator"],typeof n=="function"?n:null)}var Lt=Symbol.for("react.client.reference");function nt(n){if(n==null)return null;if(typeof n=="function")return n.$$typeof===Lt?null:n.displayName||n.name||null;if(typeof n=="string")return n;switch(n){case A:return"Fragment";case N:return"Profiler";case b:return"StrictMode";case F:return"Suspense";case oe:return"SuspenseList";case te:return"Activity"}if(typeof n=="object")switch(n.$$typeof){case E:return"Portal";case H:return(n.displayName||"Context")+".Provider";case q:return(n._context.displayName||"Context")+".Consumer";case J:var r=n.render;return n=n.displayName,n||(n=r.displayName||r.name||"",n=n!==""?"ForwardRef("+n+")":"ForwardRef"),n;case se:return r=n.displayName||null,r!==null?r:nt(n.type)||"Memo";case ve:r=n._payload,n=n._init;try{return nt(n(r))}catch{}}return null}var Je=Array.isArray,P=e.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,K=t.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,ae={pending:!1,data:null,method:null,action:null},ke=[],x=-1;function $(n){return{current:n}}function Q(n){0>x||(n.current=ke[x],ke[x]=null,x--)}function z(n,r){x++,ke[x]=n.current,n.current=r}var Z=$(null),de=$(null),W=$(null),Re=$(null);function xe(n,r){switch(z(W,r),z(de,n),z(Z,null),r.nodeType){case 9:case 11:n=(n=r.documentElement)&&(n=n.namespaceURI)?tp(n):0;break;default:if(n=r.tagName,r=r.namespaceURI)r=tp(r),n=np(r,n);else switch(n){case"svg":n=1;break;case"math":n=2;break;default:n=0}}Q(Z),z(Z,n)}function Jt(){Q(Z),Q(de),Q(W)}function ml(n){n.memoizedState!==null&&z(Re,n);var r=Z.current,s=np(r,n.type);r!==s&&(z(de,n),z(Z,s))}function To(n){de.current===n&&(Q(Z),Q(de)),Re.current===n&&(Q(Re),Ha._currentValue=ae)}var pl=Object.prototype.hasOwnProperty,gl=a.unstable_scheduleCallback,yl=a.unstable_cancelCallback,jv=a.unstable_shouldYield,e_=a.unstable_requestPaint,jt=a.unstable_now,t_=a.unstable_getCurrentPriorityLevel,Of=a.unstable_ImmediatePriority,Lf=a.unstable_UserBlockingPriority,So=a.unstable_NormalPriority,n_=a.unstable_LowPriority,Pf=a.unstable_IdlePriority,i_=a.log,r_=a.unstable_setDisableYieldValue,Qr=null,xt=null;function In(n){if(typeof i_=="function"&&r_(n),xt&&typeof xt.setStrictMode=="function")try{xt.setStrictMode(Qr,n)}catch{}}var bt=Math.clz32?Math.clz32:s_,a_=Math.log,o_=Math.LN2;function s_(n){return n>>>=0,n===0?32:31-(a_(n)/o_|0)|0}var Co=256,Eo=4194304;function mi(n){var r=n&42;if(r!==0)return r;switch(n&-n){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:return 64;case 128:return 128;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return n&4194048;case 4194304:case 8388608:case 16777216:case 33554432:return n&62914560;case 67108864:return 67108864;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 0;default:return n}}function Ao(n,r,s){var u=n.pendingLanes;if(u===0)return 0;var h=0,y=n.suspendedLanes,T=n.pingedLanes;n=n.warmLanes;var C=u&134217727;return C!==0?(u=C&~y,u!==0?h=mi(u):(T&=C,T!==0?h=mi(T):s||(s=C&~n,s!==0&&(h=mi(s))))):(C=u&~y,C!==0?h=mi(C):T!==0?h=mi(T):s||(s=u&~n,s!==0&&(h=mi(s)))),h===0?0:r!==0&&r!==h&&(r&y)===0&&(y=h&-h,s=r&-r,y>=s||y===32&&(s&4194048)!==0)?r:h}function Wr(n,r){return(n.pendingLanes&~(n.suspendedLanes&~n.pingedLanes)&r)===0}function l_(n,r){switch(n){case 1:case 2:case 4:case 8:case 64:return r+250;case 16:case 32:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return r+5e3;case 4194304:case 8388608:case 16777216:case 33554432:return-1;case 67108864:case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function Vf(){var n=Co;return Co<<=1,(Co&4194048)===0&&(Co=256),n}function qf(){var n=Eo;return Eo<<=1,(Eo&62914560)===0&&(Eo=4194304),n}function vl(n){for(var r=[],s=0;31>s;s++)r.push(n);return r}function jr(n,r){n.pendingLanes|=r,r!==268435456&&(n.suspendedLanes=0,n.pingedLanes=0,n.warmLanes=0)}function u_(n,r,s,u,h,y){var T=n.pendingLanes;n.pendingLanes=s,n.suspendedLanes=0,n.pingedLanes=0,n.warmLanes=0,n.expiredLanes&=s,n.entangledLanes&=s,n.errorRecoveryDisabledLanes&=s,n.shellSuspendCounter=0;var C=n.entanglements,w=n.expirationTimes,k=n.hiddenUpdates;for(s=T&~s;0<s;){var V=31-bt(s),G=1<<V;C[V]=0,w[V]=-1;var U=k[V];if(U!==null)for(k[V]=null,V=0;V<U.length;V++){var I=U[V];I!==null&&(I.lane&=-536870913)}s&=~G}u!==0&&Bf(n,u,0),y!==0&&h===0&&n.tag!==0&&(n.suspendedLanes|=y&~(T&~r))}function Bf(n,r,s){n.pendingLanes|=r,n.suspendedLanes&=~r;var u=31-bt(r);n.entangledLanes|=r,n.entanglements[u]=n.entanglements[u]|1073741824|s&4194090}function zf(n,r){var s=n.entangledLanes|=r;for(n=n.entanglements;s;){var u=31-bt(s),h=1<<u;h&r|n[u]&r&&(n[u]|=r),s&=~h}}function _l(n){switch(n){case 2:n=1;break;case 8:n=4;break;case 32:n=16;break;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:n=128;break;case 268435456:n=134217728;break;default:n=0}return n}function Tl(n){return n&=-n,2<n?8<n?(n&134217727)!==0?32:268435456:8:2}function Gf(){var n=K.p;return n!==0?n:(n=window.event,n===void 0?32:Sp(n.type))}function c_(n,r){var s=K.p;try{return K.p=n,r()}finally{K.p=s}}var On=Math.random().toString(36).slice(2),mt="__reactFiber$"+On,_t="__reactProps$"+On,zi="__reactContainer$"+On,Sl="__reactEvents$"+On,f_="__reactListeners$"+On,d_="__reactHandles$"+On,Hf="__reactResources$"+On,ea="__reactMarker$"+On;function Cl(n){delete n[mt],delete n[_t],delete n[Sl],delete n[f_],delete n[d_]}function Gi(n){var r=n[mt];if(r)return r;for(var s=n.parentNode;s;){if(r=s[zi]||s[mt]){if(s=r.alternate,r.child!==null||s!==null&&s.child!==null)for(n=op(n);n!==null;){if(s=n[mt])return s;n=op(n)}return r}n=s,s=n.parentNode}return null}function Hi(n){if(n=n[mt]||n[zi]){var r=n.tag;if(r===5||r===6||r===13||r===26||r===27||r===3)return n}return null}function ta(n){var r=n.tag;if(r===5||r===26||r===27||r===6)return n.stateNode;throw Error(i(33))}function $i(n){var r=n[Hf];return r||(r=n[Hf]={hoistableStyles:new Map,hoistableScripts:new Map}),r}function at(n){n[ea]=!0}var $f=new Set,Ff={};function pi(n,r){Fi(n,r),Fi(n+"Capture",r)}function Fi(n,r){for(Ff[n]=r,n=0;n<r.length;n++)$f.add(r[n])}var h_=RegExp("^[:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD][:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD\\-.0-9\\u00B7\\u0300-\\u036F\\u203F-\\u2040]*$"),Yf={},Jf={};function m_(n){return pl.call(Jf,n)?!0:pl.call(Yf,n)?!1:h_.test(n)?Jf[n]=!0:(Yf[n]=!0,!1)}function wo(n,r,s){if(m_(r))if(s===null)n.removeAttribute(r);else{switch(typeof s){case"undefined":case"function":case"symbol":n.removeAttribute(r);return;case"boolean":var u=r.toLowerCase().slice(0,5);if(u!=="data-"&&u!=="aria-"){n.removeAttribute(r);return}}n.setAttribute(r,""+s)}}function xo(n,r,s){if(s===null)n.removeAttribute(r);else{switch(typeof s){case"undefined":case"function":case"symbol":case"boolean":n.removeAttribute(r);return}n.setAttribute(r,""+s)}}function mn(n,r,s,u){if(u===null)n.removeAttribute(s);else{switch(typeof u){case"undefined":case"function":case"symbol":case"boolean":n.removeAttribute(s);return}n.setAttributeNS(r,s,""+u)}}var El,Zf;function Yi(n){if(El===void 0)try{throw Error()}catch(s){var r=s.stack.trim().match(/\n( *(at )?)/);El=r&&r[1]||"",Zf=-1<s.stack.indexOf(`
    at`)?" (<anonymous>)":-1<s.stack.indexOf("@")?"@unknown:0:0":""}return`
`+El+n+Zf}var Al=!1;function wl(n,r){if(!n||Al)return"";Al=!0;var s=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{var u={DetermineComponentFrameRoot:function(){try{if(r){var G=function(){throw Error()};if(Object.defineProperty(G.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(G,[])}catch(I){var U=I}Reflect.construct(n,[],G)}else{try{G.call()}catch(I){U=I}n.call(G.prototype)}}else{try{throw Error()}catch(I){U=I}(G=n())&&typeof G.catch=="function"&&G.catch(function(){})}}catch(I){if(I&&U&&typeof I.stack=="string")return[I.stack,U.stack]}return[null,null]}};u.DetermineComponentFrameRoot.displayName="DetermineComponentFrameRoot";var h=Object.getOwnPropertyDescriptor(u.DetermineComponentFrameRoot,"name");h&&h.configurable&&Object.defineProperty(u.DetermineComponentFrameRoot,"name",{value:"DetermineComponentFrameRoot"});var y=u.DetermineComponentFrameRoot(),T=y[0],C=y[1];if(T&&C){var w=T.split(`
`),k=C.split(`
`);for(h=u=0;u<w.length&&!w[u].includes("DetermineComponentFrameRoot");)u++;for(;h<k.length&&!k[h].includes("DetermineComponentFrameRoot");)h++;if(u===w.length||h===k.length)for(u=w.length-1,h=k.length-1;1<=u&&0<=h&&w[u]!==k[h];)h--;for(;1<=u&&0<=h;u--,h--)if(w[u]!==k[h]){if(u!==1||h!==1)do if(u--,h--,0>h||w[u]!==k[h]){var V=`
`+w[u].replace(" at new "," at ");return n.displayName&&V.includes("<anonymous>")&&(V=V.replace("<anonymous>",n.displayName)),V}while(1<=u&&0<=h);break}}}finally{Al=!1,Error.prepareStackTrace=s}return(s=n?n.displayName||n.name:"")?Yi(s):""}function p_(n){switch(n.tag){case 26:case 27:case 5:return Yi(n.type);case 16:return Yi("Lazy");case 13:return Yi("Suspense");case 19:return Yi("SuspenseList");case 0:case 15:return wl(n.type,!1);case 11:return wl(n.type.render,!1);case 1:return wl(n.type,!0);case 31:return Yi("Activity");default:return""}}function Kf(n){try{var r="";do r+=p_(n),n=n.return;while(n);return r}catch(s){return`
Error generating stack: `+s.message+`
`+s.stack}}function Pt(n){switch(typeof n){case"bigint":case"boolean":case"number":case"string":case"undefined":return n;case"object":return n;default:return""}}function Xf(n){var r=n.type;return(n=n.nodeName)&&n.toLowerCase()==="input"&&(r==="checkbox"||r==="radio")}function g_(n){var r=Xf(n)?"checked":"value",s=Object.getOwnPropertyDescriptor(n.constructor.prototype,r),u=""+n[r];if(!n.hasOwnProperty(r)&&typeof s<"u"&&typeof s.get=="function"&&typeof s.set=="function"){var h=s.get,y=s.set;return Object.defineProperty(n,r,{configurable:!0,get:function(){return h.call(this)},set:function(T){u=""+T,y.call(this,T)}}),Object.defineProperty(n,r,{enumerable:s.enumerable}),{getValue:function(){return u},setValue:function(T){u=""+T},stopTracking:function(){n._valueTracker=null,delete n[r]}}}}function bo(n){n._valueTracker||(n._valueTracker=g_(n))}function Qf(n){if(!n)return!1;var r=n._valueTracker;if(!r)return!0;var s=r.getValue(),u="";return n&&(u=Xf(n)?n.checked?"true":"false":n.value),n=u,n!==s?(r.setValue(n),!0):!1}function Ro(n){if(n=n||(typeof document<"u"?document:void 0),typeof n>"u")return null;try{return n.activeElement||n.body}catch{return n.body}}var y_=/[\n"\\]/g;function Vt(n){return n.replace(y_,function(r){return"\\"+r.charCodeAt(0).toString(16)+" "})}function xl(n,r,s,u,h,y,T,C){n.name="",T!=null&&typeof T!="function"&&typeof T!="symbol"&&typeof T!="boolean"?n.type=T:n.removeAttribute("type"),r!=null?T==="number"?(r===0&&n.value===""||n.value!=r)&&(n.value=""+Pt(r)):n.value!==""+Pt(r)&&(n.value=""+Pt(r)):T!=="submit"&&T!=="reset"||n.removeAttribute("value"),r!=null?bl(n,T,Pt(r)):s!=null?bl(n,T,Pt(s)):u!=null&&n.removeAttribute("value"),h==null&&y!=null&&(n.defaultChecked=!!y),h!=null&&(n.checked=h&&typeof h!="function"&&typeof h!="symbol"),C!=null&&typeof C!="function"&&typeof C!="symbol"&&typeof C!="boolean"?n.name=""+Pt(C):n.removeAttribute("name")}function Wf(n,r,s,u,h,y,T,C){if(y!=null&&typeof y!="function"&&typeof y!="symbol"&&typeof y!="boolean"&&(n.type=y),r!=null||s!=null){if(!(y!=="submit"&&y!=="reset"||r!=null))return;s=s!=null?""+Pt(s):"",r=r!=null?""+Pt(r):s,C||r===n.value||(n.value=r),n.defaultValue=r}u=u??h,u=typeof u!="function"&&typeof u!="symbol"&&!!u,n.checked=C?n.checked:!!u,n.defaultChecked=!!u,T!=null&&typeof T!="function"&&typeof T!="symbol"&&typeof T!="boolean"&&(n.name=T)}function bl(n,r,s){r==="number"&&Ro(n.ownerDocument)===n||n.defaultValue===""+s||(n.defaultValue=""+s)}function Ji(n,r,s,u){if(n=n.options,r){r={};for(var h=0;h<s.length;h++)r["$"+s[h]]=!0;for(s=0;s<n.length;s++)h=r.hasOwnProperty("$"+n[s].value),n[s].selected!==h&&(n[s].selected=h),h&&u&&(n[s].defaultSelected=!0)}else{for(s=""+Pt(s),r=null,h=0;h<n.length;h++){if(n[h].value===s){n[h].selected=!0,u&&(n[h].defaultSelected=!0);return}r!==null||n[h].disabled||(r=n[h])}r!==null&&(r.selected=!0)}}function jf(n,r,s){if(r!=null&&(r=""+Pt(r),r!==n.value&&(n.value=r),s==null)){n.defaultValue!==r&&(n.defaultValue=r);return}n.defaultValue=s!=null?""+Pt(s):""}function ed(n,r,s,u){if(r==null){if(u!=null){if(s!=null)throw Error(i(92));if(Je(u)){if(1<u.length)throw Error(i(93));u=u[0]}s=u}s==null&&(s=""),r=s}s=Pt(r),n.defaultValue=s,u=n.textContent,u===s&&u!==""&&u!==null&&(n.value=u)}function Zi(n,r){if(r){var s=n.firstChild;if(s&&s===n.lastChild&&s.nodeType===3){s.nodeValue=r;return}}n.textContent=r}var v_=new Set("animationIterationCount aspectRatio borderImageOutset borderImageSlice borderImageWidth boxFlex boxFlexGroup boxOrdinalGroup columnCount columns flex flexGrow flexPositive flexShrink flexNegative flexOrder gridArea gridRow gridRowEnd gridRowSpan gridRowStart gridColumn gridColumnEnd gridColumnSpan gridColumnStart fontWeight lineClamp lineHeight opacity order orphans scale tabSize widows zIndex zoom fillOpacity floodOpacity stopOpacity strokeDasharray strokeDashoffset strokeMiterlimit strokeOpacity strokeWidth MozAnimationIterationCount MozBoxFlex MozBoxFlexGroup MozLineClamp msAnimationIterationCount msFlex msZoom msFlexGrow msFlexNegative msFlexOrder msFlexPositive msFlexShrink msGridColumn msGridColumnSpan msGridRow msGridRowSpan WebkitAnimationIterationCount WebkitBoxFlex WebKitBoxFlexGroup WebkitBoxOrdinalGroup WebkitColumnCount WebkitColumns WebkitFlex WebkitFlexGrow WebkitFlexPositive WebkitFlexShrink WebkitLineClamp".split(" "));function td(n,r,s){var u=r.indexOf("--")===0;s==null||typeof s=="boolean"||s===""?u?n.setProperty(r,""):r==="float"?n.cssFloat="":n[r]="":u?n.setProperty(r,s):typeof s!="number"||s===0||v_.has(r)?r==="float"?n.cssFloat=s:n[r]=(""+s).trim():n[r]=s+"px"}function nd(n,r,s){if(r!=null&&typeof r!="object")throw Error(i(62));if(n=n.style,s!=null){for(var u in s)!s.hasOwnProperty(u)||r!=null&&r.hasOwnProperty(u)||(u.indexOf("--")===0?n.setProperty(u,""):u==="float"?n.cssFloat="":n[u]="");for(var h in r)u=r[h],r.hasOwnProperty(h)&&s[h]!==u&&td(n,h,u)}else for(var y in r)r.hasOwnProperty(y)&&td(n,y,r[y])}function Rl(n){if(n.indexOf("-")===-1)return!1;switch(n){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var __=new Map([["acceptCharset","accept-charset"],["htmlFor","for"],["httpEquiv","http-equiv"],["crossOrigin","crossorigin"],["accentHeight","accent-height"],["alignmentBaseline","alignment-baseline"],["arabicForm","arabic-form"],["baselineShift","baseline-shift"],["capHeight","cap-height"],["clipPath","clip-path"],["clipRule","clip-rule"],["colorInterpolation","color-interpolation"],["colorInterpolationFilters","color-interpolation-filters"],["colorProfile","color-profile"],["colorRendering","color-rendering"],["dominantBaseline","dominant-baseline"],["enableBackground","enable-background"],["fillOpacity","fill-opacity"],["fillRule","fill-rule"],["floodColor","flood-color"],["floodOpacity","flood-opacity"],["fontFamily","font-family"],["fontSize","font-size"],["fontSizeAdjust","font-size-adjust"],["fontStretch","font-stretch"],["fontStyle","font-style"],["fontVariant","font-variant"],["fontWeight","font-weight"],["glyphName","glyph-name"],["glyphOrientationHorizontal","glyph-orientation-horizontal"],["glyphOrientationVertical","glyph-orientation-vertical"],["horizAdvX","horiz-adv-x"],["horizOriginX","horiz-origin-x"],["imageRendering","image-rendering"],["letterSpacing","letter-spacing"],["lightingColor","lighting-color"],["markerEnd","marker-end"],["markerMid","marker-mid"],["markerStart","marker-start"],["overlinePosition","overline-position"],["overlineThickness","overline-thickness"],["paintOrder","paint-order"],["panose-1","panose-1"],["pointerEvents","pointer-events"],["renderingIntent","rendering-intent"],["shapeRendering","shape-rendering"],["stopColor","stop-color"],["stopOpacity","stop-opacity"],["strikethroughPosition","strikethrough-position"],["strikethroughThickness","strikethrough-thickness"],["strokeDasharray","stroke-dasharray"],["strokeDashoffset","stroke-dashoffset"],["strokeLinecap","stroke-linecap"],["strokeLinejoin","stroke-linejoin"],["strokeMiterlimit","stroke-miterlimit"],["strokeOpacity","stroke-opacity"],["strokeWidth","stroke-width"],["textAnchor","text-anchor"],["textDecoration","text-decoration"],["textRendering","text-rendering"],["transformOrigin","transform-origin"],["underlinePosition","underline-position"],["underlineThickness","underline-thickness"],["unicodeBidi","unicode-bidi"],["unicodeRange","unicode-range"],["unitsPerEm","units-per-em"],["vAlphabetic","v-alphabetic"],["vHanging","v-hanging"],["vIdeographic","v-ideographic"],["vMathematical","v-mathematical"],["vectorEffect","vector-effect"],["vertAdvY","vert-adv-y"],["vertOriginX","vert-origin-x"],["vertOriginY","vert-origin-y"],["wordSpacing","word-spacing"],["writingMode","writing-mode"],["xmlnsXlink","xmlns:xlink"],["xHeight","x-height"]]),T_=/^[\u0000-\u001F ]*j[\r\n\t]*a[\r\n\t]*v[\r\n\t]*a[\r\n\t]*s[\r\n\t]*c[\r\n\t]*r[\r\n\t]*i[\r\n\t]*p[\r\n\t]*t[\r\n\t]*:/i;function Mo(n){return T_.test(""+n)?"javascript:throw new Error('React has blocked a javascript: URL as a security precaution.')":n}var Ml=null;function Dl(n){return n=n.target||n.srcElement||window,n.correspondingUseElement&&(n=n.correspondingUseElement),n.nodeType===3?n.parentNode:n}var Ki=null,Xi=null;function id(n){var r=Hi(n);if(r&&(n=r.stateNode)){var s=n[_t]||null;e:switch(n=r.stateNode,r.type){case"input":if(xl(n,s.value,s.defaultValue,s.defaultValue,s.checked,s.defaultChecked,s.type,s.name),r=s.name,s.type==="radio"&&r!=null){for(s=n;s.parentNode;)s=s.parentNode;for(s=s.querySelectorAll('input[name="'+Vt(""+r)+'"][type="radio"]'),r=0;r<s.length;r++){var u=s[r];if(u!==n&&u.form===n.form){var h=u[_t]||null;if(!h)throw Error(i(90));xl(u,h.value,h.defaultValue,h.defaultValue,h.checked,h.defaultChecked,h.type,h.name)}}for(r=0;r<s.length;r++)u=s[r],u.form===n.form&&Qf(u)}break e;case"textarea":jf(n,s.value,s.defaultValue);break e;case"select":r=s.value,r!=null&&Ji(n,!!s.multiple,r,!1)}}}var Nl=!1;function rd(n,r,s){if(Nl)return n(r,s);Nl=!0;try{var u=n(r);return u}finally{if(Nl=!1,(Ki!==null||Xi!==null)&&(ms(),Ki&&(r=Ki,n=Xi,Xi=Ki=null,id(r),n)))for(r=0;r<n.length;r++)id(n[r])}}function na(n,r){var s=n.stateNode;if(s===null)return null;var u=s[_t]||null;if(u===null)return null;s=u[r];e:switch(r){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(u=!u.disabled)||(n=n.type,u=!(n==="button"||n==="input"||n==="select"||n==="textarea")),n=!u;break e;default:n=!1}if(n)return null;if(s&&typeof s!="function")throw Error(i(231,r,typeof s));return s}var pn=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),kl=!1;if(pn)try{var ia={};Object.defineProperty(ia,"passive",{get:function(){kl=!0}}),window.addEventListener("test",ia,ia),window.removeEventListener("test",ia,ia)}catch{kl=!1}var Ln=null,Ul=null,Do=null;function ad(){if(Do)return Do;var n,r=Ul,s=r.length,u,h="value"in Ln?Ln.value:Ln.textContent,y=h.length;for(n=0;n<s&&r[n]===h[n];n++);var T=s-n;for(u=1;u<=T&&r[s-u]===h[y-u];u++);return Do=h.slice(n,1<u?1-u:void 0)}function No(n){var r=n.keyCode;return"charCode"in n?(n=n.charCode,n===0&&r===13&&(n=13)):n=r,n===10&&(n=13),32<=n||n===13?n:0}function ko(){return!0}function od(){return!1}function Tt(n){function r(s,u,h,y,T){this._reactName=s,this._targetInst=h,this.type=u,this.nativeEvent=y,this.target=T,this.currentTarget=null;for(var C in n)n.hasOwnProperty(C)&&(s=n[C],this[C]=s?s(y):y[C]);return this.isDefaultPrevented=(y.defaultPrevented!=null?y.defaultPrevented:y.returnValue===!1)?ko:od,this.isPropagationStopped=od,this}return v(r.prototype,{preventDefault:function(){this.defaultPrevented=!0;var s=this.nativeEvent;s&&(s.preventDefault?s.preventDefault():typeof s.returnValue!="unknown"&&(s.returnValue=!1),this.isDefaultPrevented=ko)},stopPropagation:function(){var s=this.nativeEvent;s&&(s.stopPropagation?s.stopPropagation():typeof s.cancelBubble!="unknown"&&(s.cancelBubble=!0),this.isPropagationStopped=ko)},persist:function(){},isPersistent:ko}),r}var gi={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(n){return n.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},Uo=Tt(gi),ra=v({},gi,{view:0,detail:0}),S_=Tt(ra),Il,Ol,aa,Io=v({},ra,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:Pl,button:0,buttons:0,relatedTarget:function(n){return n.relatedTarget===void 0?n.fromElement===n.srcElement?n.toElement:n.fromElement:n.relatedTarget},movementX:function(n){return"movementX"in n?n.movementX:(n!==aa&&(aa&&n.type==="mousemove"?(Il=n.screenX-aa.screenX,Ol=n.screenY-aa.screenY):Ol=Il=0,aa=n),Il)},movementY:function(n){return"movementY"in n?n.movementY:Ol}}),sd=Tt(Io),C_=v({},Io,{dataTransfer:0}),E_=Tt(C_),A_=v({},ra,{relatedTarget:0}),Ll=Tt(A_),w_=v({},gi,{animationName:0,elapsedTime:0,pseudoElement:0}),x_=Tt(w_),b_=v({},gi,{clipboardData:function(n){return"clipboardData"in n?n.clipboardData:window.clipboardData}}),R_=Tt(b_),M_=v({},gi,{data:0}),ld=Tt(M_),D_={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},N_={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},k_={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function U_(n){var r=this.nativeEvent;return r.getModifierState?r.getModifierState(n):(n=k_[n])?!!r[n]:!1}function Pl(){return U_}var I_=v({},ra,{key:function(n){if(n.key){var r=D_[n.key]||n.key;if(r!=="Unidentified")return r}return n.type==="keypress"?(n=No(n),n===13?"Enter":String.fromCharCode(n)):n.type==="keydown"||n.type==="keyup"?N_[n.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:Pl,charCode:function(n){return n.type==="keypress"?No(n):0},keyCode:function(n){return n.type==="keydown"||n.type==="keyup"?n.keyCode:0},which:function(n){return n.type==="keypress"?No(n):n.type==="keydown"||n.type==="keyup"?n.keyCode:0}}),O_=Tt(I_),L_=v({},Io,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),ud=Tt(L_),P_=v({},ra,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:Pl}),V_=Tt(P_),q_=v({},gi,{propertyName:0,elapsedTime:0,pseudoElement:0}),B_=Tt(q_),z_=v({},Io,{deltaX:function(n){return"deltaX"in n?n.deltaX:"wheelDeltaX"in n?-n.wheelDeltaX:0},deltaY:function(n){return"deltaY"in n?n.deltaY:"wheelDeltaY"in n?-n.wheelDeltaY:"wheelDelta"in n?-n.wheelDelta:0},deltaZ:0,deltaMode:0}),G_=Tt(z_),H_=v({},gi,{newState:0,oldState:0}),$_=Tt(H_),F_=[9,13,27,32],Vl=pn&&"CompositionEvent"in window,oa=null;pn&&"documentMode"in document&&(oa=document.documentMode);var Y_=pn&&"TextEvent"in window&&!oa,cd=pn&&(!Vl||oa&&8<oa&&11>=oa),fd=" ",dd=!1;function hd(n,r){switch(n){case"keyup":return F_.indexOf(r.keyCode)!==-1;case"keydown":return r.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function md(n){return n=n.detail,typeof n=="object"&&"data"in n?n.data:null}var Qi=!1;function J_(n,r){switch(n){case"compositionend":return md(r);case"keypress":return r.which!==32?null:(dd=!0,fd);case"textInput":return n=r.data,n===fd&&dd?null:n;default:return null}}function Z_(n,r){if(Qi)return n==="compositionend"||!Vl&&hd(n,r)?(n=ad(),Do=Ul=Ln=null,Qi=!1,n):null;switch(n){case"paste":return null;case"keypress":if(!(r.ctrlKey||r.altKey||r.metaKey)||r.ctrlKey&&r.altKey){if(r.char&&1<r.char.length)return r.char;if(r.which)return String.fromCharCode(r.which)}return null;case"compositionend":return cd&&r.locale!=="ko"?null:r.data;default:return null}}var K_={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function pd(n){var r=n&&n.nodeName&&n.nodeName.toLowerCase();return r==="input"?!!K_[n.type]:r==="textarea"}function gd(n,r,s,u){Ki?Xi?Xi.push(u):Xi=[u]:Ki=u,r=Ts(r,"onChange"),0<r.length&&(s=new Uo("onChange","change",null,s,u),n.push({event:s,listeners:r}))}var sa=null,la=null;function X_(n){Xm(n,0)}function Oo(n){var r=ta(n);if(Qf(r))return n}function yd(n,r){if(n==="change")return r}var vd=!1;if(pn){var ql;if(pn){var Bl="oninput"in document;if(!Bl){var _d=document.createElement("div");_d.setAttribute("oninput","return;"),Bl=typeof _d.oninput=="function"}ql=Bl}else ql=!1;vd=ql&&(!document.documentMode||9<document.documentMode)}function Td(){sa&&(sa.detachEvent("onpropertychange",Sd),la=sa=null)}function Sd(n){if(n.propertyName==="value"&&Oo(la)){var r=[];gd(r,la,n,Dl(n)),rd(X_,r)}}function Q_(n,r,s){n==="focusin"?(Td(),sa=r,la=s,sa.attachEvent("onpropertychange",Sd)):n==="focusout"&&Td()}function W_(n){if(n==="selectionchange"||n==="keyup"||n==="keydown")return Oo(la)}function j_(n,r){if(n==="click")return Oo(r)}function e0(n,r){if(n==="input"||n==="change")return Oo(r)}function t0(n,r){return n===r&&(n!==0||1/n===1/r)||n!==n&&r!==r}var Rt=typeof Object.is=="function"?Object.is:t0;function ua(n,r){if(Rt(n,r))return!0;if(typeof n!="object"||n===null||typeof r!="object"||r===null)return!1;var s=Object.keys(n),u=Object.keys(r);if(s.length!==u.length)return!1;for(u=0;u<s.length;u++){var h=s[u];if(!pl.call(r,h)||!Rt(n[h],r[h]))return!1}return!0}function Cd(n){for(;n&&n.firstChild;)n=n.firstChild;return n}function Ed(n,r){var s=Cd(n);n=0;for(var u;s;){if(s.nodeType===3){if(u=n+s.textContent.length,n<=r&&u>=r)return{node:s,offset:r-n};n=u}e:{for(;s;){if(s.nextSibling){s=s.nextSibling;break e}s=s.parentNode}s=void 0}s=Cd(s)}}function Ad(n,r){return n&&r?n===r?!0:n&&n.nodeType===3?!1:r&&r.nodeType===3?Ad(n,r.parentNode):"contains"in n?n.contains(r):n.compareDocumentPosition?!!(n.compareDocumentPosition(r)&16):!1:!1}function wd(n){n=n!=null&&n.ownerDocument!=null&&n.ownerDocument.defaultView!=null?n.ownerDocument.defaultView:window;for(var r=Ro(n.document);r instanceof n.HTMLIFrameElement;){try{var s=typeof r.contentWindow.location.href=="string"}catch{s=!1}if(s)n=r.contentWindow;else break;r=Ro(n.document)}return r}function zl(n){var r=n&&n.nodeName&&n.nodeName.toLowerCase();return r&&(r==="input"&&(n.type==="text"||n.type==="search"||n.type==="tel"||n.type==="url"||n.type==="password")||r==="textarea"||n.contentEditable==="true")}var n0=pn&&"documentMode"in document&&11>=document.documentMode,Wi=null,Gl=null,ca=null,Hl=!1;function xd(n,r,s){var u=s.window===s?s.document:s.nodeType===9?s:s.ownerDocument;Hl||Wi==null||Wi!==Ro(u)||(u=Wi,"selectionStart"in u&&zl(u)?u={start:u.selectionStart,end:u.selectionEnd}:(u=(u.ownerDocument&&u.ownerDocument.defaultView||window).getSelection(),u={anchorNode:u.anchorNode,anchorOffset:u.anchorOffset,focusNode:u.focusNode,focusOffset:u.focusOffset}),ca&&ua(ca,u)||(ca=u,u=Ts(Gl,"onSelect"),0<u.length&&(r=new Uo("onSelect","select",null,r,s),n.push({event:r,listeners:u}),r.target=Wi)))}function yi(n,r){var s={};return s[n.toLowerCase()]=r.toLowerCase(),s["Webkit"+n]="webkit"+r,s["Moz"+n]="moz"+r,s}var ji={animationend:yi("Animation","AnimationEnd"),animationiteration:yi("Animation","AnimationIteration"),animationstart:yi("Animation","AnimationStart"),transitionrun:yi("Transition","TransitionRun"),transitionstart:yi("Transition","TransitionStart"),transitioncancel:yi("Transition","TransitionCancel"),transitionend:yi("Transition","TransitionEnd")},$l={},bd={};pn&&(bd=document.createElement("div").style,"AnimationEvent"in window||(delete ji.animationend.animation,delete ji.animationiteration.animation,delete ji.animationstart.animation),"TransitionEvent"in window||delete ji.transitionend.transition);function vi(n){if($l[n])return $l[n];if(!ji[n])return n;var r=ji[n],s;for(s in r)if(r.hasOwnProperty(s)&&s in bd)return $l[n]=r[s];return n}var Rd=vi("animationend"),Md=vi("animationiteration"),Dd=vi("animationstart"),i0=vi("transitionrun"),r0=vi("transitionstart"),a0=vi("transitioncancel"),Nd=vi("transitionend"),kd=new Map,Fl="abort auxClick beforeToggle cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");Fl.push("scrollEnd");function Zt(n,r){kd.set(n,r),pi(r,[n])}var Ud=new WeakMap;function qt(n,r){if(typeof n=="object"&&n!==null){var s=Ud.get(n);return s!==void 0?s:(r={value:n,source:r,stack:Kf(r)},Ud.set(n,r),r)}return{value:n,source:r,stack:Kf(r)}}var Bt=[],er=0,Yl=0;function Lo(){for(var n=er,r=Yl=er=0;r<n;){var s=Bt[r];Bt[r++]=null;var u=Bt[r];Bt[r++]=null;var h=Bt[r];Bt[r++]=null;var y=Bt[r];if(Bt[r++]=null,u!==null&&h!==null){var T=u.pending;T===null?h.next=h:(h.next=T.next,T.next=h),u.pending=h}y!==0&&Id(s,h,y)}}function Po(n,r,s,u){Bt[er++]=n,Bt[er++]=r,Bt[er++]=s,Bt[er++]=u,Yl|=u,n.lanes|=u,n=n.alternate,n!==null&&(n.lanes|=u)}function Jl(n,r,s,u){return Po(n,r,s,u),Vo(n)}function tr(n,r){return Po(n,null,null,r),Vo(n)}function Id(n,r,s){n.lanes|=s;var u=n.alternate;u!==null&&(u.lanes|=s);for(var h=!1,y=n.return;y!==null;)y.childLanes|=s,u=y.alternate,u!==null&&(u.childLanes|=s),y.tag===22&&(n=y.stateNode,n===null||n._visibility&1||(h=!0)),n=y,y=y.return;return n.tag===3?(y=n.stateNode,h&&r!==null&&(h=31-bt(s),n=y.hiddenUpdates,u=n[h],u===null?n[h]=[r]:u.push(r),r.lane=s|536870912),y):null}function Vo(n){if(50<Oa)throw Oa=0,ju=null,Error(i(185));for(var r=n.return;r!==null;)n=r,r=n.return;return n.tag===3?n.stateNode:null}var nr={};function o0(n,r,s,u){this.tag=n,this.key=s,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.refCleanup=this.ref=null,this.pendingProps=r,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=u,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Mt(n,r,s,u){return new o0(n,r,s,u)}function Zl(n){return n=n.prototype,!(!n||!n.isReactComponent)}function gn(n,r){var s=n.alternate;return s===null?(s=Mt(n.tag,r,n.key,n.mode),s.elementType=n.elementType,s.type=n.type,s.stateNode=n.stateNode,s.alternate=n,n.alternate=s):(s.pendingProps=r,s.type=n.type,s.flags=0,s.subtreeFlags=0,s.deletions=null),s.flags=n.flags&65011712,s.childLanes=n.childLanes,s.lanes=n.lanes,s.child=n.child,s.memoizedProps=n.memoizedProps,s.memoizedState=n.memoizedState,s.updateQueue=n.updateQueue,r=n.dependencies,s.dependencies=r===null?null:{lanes:r.lanes,firstContext:r.firstContext},s.sibling=n.sibling,s.index=n.index,s.ref=n.ref,s.refCleanup=n.refCleanup,s}function Od(n,r){n.flags&=65011714;var s=n.alternate;return s===null?(n.childLanes=0,n.lanes=r,n.child=null,n.subtreeFlags=0,n.memoizedProps=null,n.memoizedState=null,n.updateQueue=null,n.dependencies=null,n.stateNode=null):(n.childLanes=s.childLanes,n.lanes=s.lanes,n.child=s.child,n.subtreeFlags=0,n.deletions=null,n.memoizedProps=s.memoizedProps,n.memoizedState=s.memoizedState,n.updateQueue=s.updateQueue,n.type=s.type,r=s.dependencies,n.dependencies=r===null?null:{lanes:r.lanes,firstContext:r.firstContext}),n}function qo(n,r,s,u,h,y){var T=0;if(u=n,typeof n=="function")Zl(n)&&(T=1);else if(typeof n=="string")T=lT(n,s,Z.current)?26:n==="html"||n==="head"||n==="body"?27:5;else e:switch(n){case te:return n=Mt(31,s,r,h),n.elementType=te,n.lanes=y,n;case A:return _i(s.children,h,y,r);case b:T=8,h|=24;break;case N:return n=Mt(12,s,r,h|2),n.elementType=N,n.lanes=y,n;case F:return n=Mt(13,s,r,h),n.elementType=F,n.lanes=y,n;case oe:return n=Mt(19,s,r,h),n.elementType=oe,n.lanes=y,n;default:if(typeof n=="object"&&n!==null)switch(n.$$typeof){case O:case H:T=10;break e;case q:T=9;break e;case J:T=11;break e;case se:T=14;break e;case ve:T=16,u=null;break e}T=29,s=Error(i(130,n===null?"null":typeof n,"")),u=null}return r=Mt(T,s,r,h),r.elementType=n,r.type=u,r.lanes=y,r}function _i(n,r,s,u){return n=Mt(7,n,u,r),n.lanes=s,n}function Kl(n,r,s){return n=Mt(6,n,null,r),n.lanes=s,n}function Xl(n,r,s){return r=Mt(4,n.children!==null?n.children:[],n.key,r),r.lanes=s,r.stateNode={containerInfo:n.containerInfo,pendingChildren:null,implementation:n.implementation},r}var ir=[],rr=0,Bo=null,zo=0,zt=[],Gt=0,Ti=null,yn=1,vn="";function Si(n,r){ir[rr++]=zo,ir[rr++]=Bo,Bo=n,zo=r}function Ld(n,r,s){zt[Gt++]=yn,zt[Gt++]=vn,zt[Gt++]=Ti,Ti=n;var u=yn;n=vn;var h=32-bt(u)-1;u&=~(1<<h),s+=1;var y=32-bt(r)+h;if(30<y){var T=h-h%5;y=(u&(1<<T)-1).toString(32),u>>=T,h-=T,yn=1<<32-bt(r)+h|s<<h|u,vn=y+n}else yn=1<<y|s<<h|u,vn=n}function Ql(n){n.return!==null&&(Si(n,1),Ld(n,1,0))}function Wl(n){for(;n===Bo;)Bo=ir[--rr],ir[rr]=null,zo=ir[--rr],ir[rr]=null;for(;n===Ti;)Ti=zt[--Gt],zt[Gt]=null,vn=zt[--Gt],zt[Gt]=null,yn=zt[--Gt],zt[Gt]=null}var yt=null,Ze=null,Ne=!1,Ci=null,en=!1,jl=Error(i(519));function Ei(n){var r=Error(i(418,""));throw ha(qt(r,n)),jl}function Pd(n){var r=n.stateNode,s=n.type,u=n.memoizedProps;switch(r[mt]=n,r[_t]=u,s){case"dialog":Ee("cancel",r),Ee("close",r);break;case"iframe":case"object":case"embed":Ee("load",r);break;case"video":case"audio":for(s=0;s<Pa.length;s++)Ee(Pa[s],r);break;case"source":Ee("error",r);break;case"img":case"image":case"link":Ee("error",r),Ee("load",r);break;case"details":Ee("toggle",r);break;case"input":Ee("invalid",r),Wf(r,u.value,u.defaultValue,u.checked,u.defaultChecked,u.type,u.name,!0),bo(r);break;case"select":Ee("invalid",r);break;case"textarea":Ee("invalid",r),ed(r,u.value,u.defaultValue,u.children),bo(r)}s=u.children,typeof s!="string"&&typeof s!="number"&&typeof s!="bigint"||r.textContent===""+s||u.suppressHydrationWarning===!0||ep(r.textContent,s)?(u.popover!=null&&(Ee("beforetoggle",r),Ee("toggle",r)),u.onScroll!=null&&Ee("scroll",r),u.onScrollEnd!=null&&Ee("scrollend",r),u.onClick!=null&&(r.onclick=Ss),r=!0):r=!1,r||Ei(n)}function Vd(n){for(yt=n.return;yt;)switch(yt.tag){case 5:case 13:en=!1;return;case 27:case 3:en=!0;return;default:yt=yt.return}}function fa(n){if(n!==yt)return!1;if(!Ne)return Vd(n),Ne=!0,!1;var r=n.tag,s;if((s=r!==3&&r!==27)&&((s=r===5)&&(s=n.type,s=!(s!=="form"&&s!=="button")||pc(n.type,n.memoizedProps)),s=!s),s&&Ze&&Ei(n),Vd(n),r===13){if(n=n.memoizedState,n=n!==null?n.dehydrated:null,!n)throw Error(i(317));e:{for(n=n.nextSibling,r=0;n;){if(n.nodeType===8)if(s=n.data,s==="/$"){if(r===0){Ze=Xt(n.nextSibling);break e}r--}else s!=="$"&&s!=="$!"&&s!=="$?"||r++;n=n.nextSibling}Ze=null}}else r===27?(r=Ze,Wn(n.type)?(n=_c,_c=null,Ze=n):Ze=r):Ze=yt?Xt(n.stateNode.nextSibling):null;return!0}function da(){Ze=yt=null,Ne=!1}function qd(){var n=Ci;return n!==null&&(Et===null?Et=n:Et.push.apply(Et,n),Ci=null),n}function ha(n){Ci===null?Ci=[n]:Ci.push(n)}var eu=$(null),Ai=null,_n=null;function Pn(n,r,s){z(eu,r._currentValue),r._currentValue=s}function Tn(n){n._currentValue=eu.current,Q(eu)}function tu(n,r,s){for(;n!==null;){var u=n.alternate;if((n.childLanes&r)!==r?(n.childLanes|=r,u!==null&&(u.childLanes|=r)):u!==null&&(u.childLanes&r)!==r&&(u.childLanes|=r),n===s)break;n=n.return}}function nu(n,r,s,u){var h=n.child;for(h!==null&&(h.return=n);h!==null;){var y=h.dependencies;if(y!==null){var T=h.child;y=y.firstContext;e:for(;y!==null;){var C=y;y=h;for(var w=0;w<r.length;w++)if(C.context===r[w]){y.lanes|=s,C=y.alternate,C!==null&&(C.lanes|=s),tu(y.return,s,n),u||(T=null);break e}y=C.next}}else if(h.tag===18){if(T=h.return,T===null)throw Error(i(341));T.lanes|=s,y=T.alternate,y!==null&&(y.lanes|=s),tu(T,s,n),T=null}else T=h.child;if(T!==null)T.return=h;else for(T=h;T!==null;){if(T===n){T=null;break}if(h=T.sibling,h!==null){h.return=T.return,T=h;break}T=T.return}h=T}}function ma(n,r,s,u){n=null;for(var h=r,y=!1;h!==null;){if(!y){if((h.flags&524288)!==0)y=!0;else if((h.flags&262144)!==0)break}if(h.tag===10){var T=h.alternate;if(T===null)throw Error(i(387));if(T=T.memoizedProps,T!==null){var C=h.type;Rt(h.pendingProps.value,T.value)||(n!==null?n.push(C):n=[C])}}else if(h===Re.current){if(T=h.alternate,T===null)throw Error(i(387));T.memoizedState.memoizedState!==h.memoizedState.memoizedState&&(n!==null?n.push(Ha):n=[Ha])}h=h.return}n!==null&&nu(r,n,s,u),r.flags|=262144}function Go(n){for(n=n.firstContext;n!==null;){if(!Rt(n.context._currentValue,n.memoizedValue))return!0;n=n.next}return!1}function wi(n){Ai=n,_n=null,n=n.dependencies,n!==null&&(n.firstContext=null)}function pt(n){return Bd(Ai,n)}function Ho(n,r){return Ai===null&&wi(n),Bd(n,r)}function Bd(n,r){var s=r._currentValue;if(r={context:r,memoizedValue:s,next:null},_n===null){if(n===null)throw Error(i(308));_n=r,n.dependencies={lanes:0,firstContext:r},n.flags|=524288}else _n=_n.next=r;return s}var s0=typeof AbortController<"u"?AbortController:function(){var n=[],r=this.signal={aborted:!1,addEventListener:function(s,u){n.push(u)}};this.abort=function(){r.aborted=!0,n.forEach(function(s){return s()})}},l0=a.unstable_scheduleCallback,u0=a.unstable_NormalPriority,it={$$typeof:H,Consumer:null,Provider:null,_currentValue:null,_currentValue2:null,_threadCount:0};function iu(){return{controller:new s0,data:new Map,refCount:0}}function pa(n){n.refCount--,n.refCount===0&&l0(u0,function(){n.controller.abort()})}var ga=null,ru=0,ar=0,or=null;function c0(n,r){if(ga===null){var s=ga=[];ru=0,ar=oc(),or={status:"pending",value:void 0,then:function(u){s.push(u)}}}return ru++,r.then(zd,zd),r}function zd(){if(--ru===0&&ga!==null){or!==null&&(or.status="fulfilled");var n=ga;ga=null,ar=0,or=null;for(var r=0;r<n.length;r++)(0,n[r])()}}function f0(n,r){var s=[],u={status:"pending",value:null,reason:null,then:function(h){s.push(h)}};return n.then(function(){u.status="fulfilled",u.value=r;for(var h=0;h<s.length;h++)(0,s[h])(r)},function(h){for(u.status="rejected",u.reason=h,h=0;h<s.length;h++)(0,s[h])(void 0)}),u}var Gd=P.S;P.S=function(n,r){typeof r=="object"&&r!==null&&typeof r.then=="function"&&c0(n,r),Gd!==null&&Gd(n,r)};var xi=$(null);function au(){var n=xi.current;return n!==null?n:qe.pooledCache}function $o(n,r){r===null?z(xi,xi.current):z(xi,r.pool)}function Hd(){var n=au();return n===null?null:{parent:it._currentValue,pool:n}}var ya=Error(i(460)),$d=Error(i(474)),Fo=Error(i(542)),ou={then:function(){}};function Fd(n){return n=n.status,n==="fulfilled"||n==="rejected"}function Yo(){}function Yd(n,r,s){switch(s=n[s],s===void 0?n.push(r):s!==r&&(r.then(Yo,Yo),r=s),r.status){case"fulfilled":return r.value;case"rejected":throw n=r.reason,Zd(n),n;default:if(typeof r.status=="string")r.then(Yo,Yo);else{if(n=qe,n!==null&&100<n.shellSuspendCounter)throw Error(i(482));n=r,n.status="pending",n.then(function(u){if(r.status==="pending"){var h=r;h.status="fulfilled",h.value=u}},function(u){if(r.status==="pending"){var h=r;h.status="rejected",h.reason=u}})}switch(r.status){case"fulfilled":return r.value;case"rejected":throw n=r.reason,Zd(n),n}throw va=r,ya}}var va=null;function Jd(){if(va===null)throw Error(i(459));var n=va;return va=null,n}function Zd(n){if(n===ya||n===Fo)throw Error(i(483))}var Vn=!1;function su(n){n.updateQueue={baseState:n.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,lanes:0,hiddenCallbacks:null},callbacks:null}}function lu(n,r){n=n.updateQueue,r.updateQueue===n&&(r.updateQueue={baseState:n.baseState,firstBaseUpdate:n.firstBaseUpdate,lastBaseUpdate:n.lastBaseUpdate,shared:n.shared,callbacks:null})}function qn(n){return{lane:n,tag:0,payload:null,callback:null,next:null}}function Bn(n,r,s){var u=n.updateQueue;if(u===null)return null;if(u=u.shared,(Ue&2)!==0){var h=u.pending;return h===null?r.next=r:(r.next=h.next,h.next=r),u.pending=r,r=Vo(n),Id(n,null,s),r}return Po(n,u,r,s),Vo(n)}function _a(n,r,s){if(r=r.updateQueue,r!==null&&(r=r.shared,(s&4194048)!==0)){var u=r.lanes;u&=n.pendingLanes,s|=u,r.lanes=s,zf(n,s)}}function uu(n,r){var s=n.updateQueue,u=n.alternate;if(u!==null&&(u=u.updateQueue,s===u)){var h=null,y=null;if(s=s.firstBaseUpdate,s!==null){do{var T={lane:s.lane,tag:s.tag,payload:s.payload,callback:null,next:null};y===null?h=y=T:y=y.next=T,s=s.next}while(s!==null);y===null?h=y=r:y=y.next=r}else h=y=r;s={baseState:u.baseState,firstBaseUpdate:h,lastBaseUpdate:y,shared:u.shared,callbacks:u.callbacks},n.updateQueue=s;return}n=s.lastBaseUpdate,n===null?s.firstBaseUpdate=r:n.next=r,s.lastBaseUpdate=r}var cu=!1;function Ta(){if(cu){var n=or;if(n!==null)throw n}}function Sa(n,r,s,u){cu=!1;var h=n.updateQueue;Vn=!1;var y=h.firstBaseUpdate,T=h.lastBaseUpdate,C=h.shared.pending;if(C!==null){h.shared.pending=null;var w=C,k=w.next;w.next=null,T===null?y=k:T.next=k,T=w;var V=n.alternate;V!==null&&(V=V.updateQueue,C=V.lastBaseUpdate,C!==T&&(C===null?V.firstBaseUpdate=k:C.next=k,V.lastBaseUpdate=w))}if(y!==null){var G=h.baseState;T=0,V=k=w=null,C=y;do{var U=C.lane&-536870913,I=U!==C.lane;if(I?(be&U)===U:(u&U)===U){U!==0&&U===ar&&(cu=!0),V!==null&&(V=V.next={lane:0,tag:C.tag,payload:C.payload,callback:null,next:null});e:{var ce=n,le=C;U=r;var Pe=s;switch(le.tag){case 1:if(ce=le.payload,typeof ce=="function"){G=ce.call(Pe,G,U);break e}G=ce;break e;case 3:ce.flags=ce.flags&-65537|128;case 0:if(ce=le.payload,U=typeof ce=="function"?ce.call(Pe,G,U):ce,U==null)break e;G=v({},G,U);break e;case 2:Vn=!0}}U=C.callback,U!==null&&(n.flags|=64,I&&(n.flags|=8192),I=h.callbacks,I===null?h.callbacks=[U]:I.push(U))}else I={lane:U,tag:C.tag,payload:C.payload,callback:C.callback,next:null},V===null?(k=V=I,w=G):V=V.next=I,T|=U;if(C=C.next,C===null){if(C=h.shared.pending,C===null)break;I=C,C=I.next,I.next=null,h.lastBaseUpdate=I,h.shared.pending=null}}while(!0);V===null&&(w=G),h.baseState=w,h.firstBaseUpdate=k,h.lastBaseUpdate=V,y===null&&(h.shared.lanes=0),Zn|=T,n.lanes=T,n.memoizedState=G}}function Kd(n,r){if(typeof n!="function")throw Error(i(191,n));n.call(r)}function Xd(n,r){var s=n.callbacks;if(s!==null)for(n.callbacks=null,n=0;n<s.length;n++)Kd(s[n],r)}var sr=$(null),Jo=$(0);function Qd(n,r){n=bn,z(Jo,n),z(sr,r),bn=n|r.baseLanes}function fu(){z(Jo,bn),z(sr,sr.current)}function du(){bn=Jo.current,Q(sr),Q(Jo)}var zn=0,Te=null,Oe=null,je=null,Zo=!1,lr=!1,bi=!1,Ko=0,Ca=0,ur=null,d0=0;function Qe(){throw Error(i(321))}function hu(n,r){if(r===null)return!1;for(var s=0;s<r.length&&s<n.length;s++)if(!Rt(n[s],r[s]))return!1;return!0}function mu(n,r,s,u,h,y){return zn=y,Te=r,r.memoizedState=null,r.updateQueue=null,r.lanes=0,P.H=n===null||n.memoizedState===null?Ih:Oh,bi=!1,y=s(u,h),bi=!1,lr&&(y=jd(r,s,u,h)),Wd(n),y}function Wd(n){P.H=ts;var r=Oe!==null&&Oe.next!==null;if(zn=0,je=Oe=Te=null,Zo=!1,Ca=0,ur=null,r)throw Error(i(300));n===null||ot||(n=n.dependencies,n!==null&&Go(n)&&(ot=!0))}function jd(n,r,s,u){Te=n;var h=0;do{if(lr&&(ur=null),Ca=0,lr=!1,25<=h)throw Error(i(301));if(h+=1,je=Oe=null,n.updateQueue!=null){var y=n.updateQueue;y.lastEffect=null,y.events=null,y.stores=null,y.memoCache!=null&&(y.memoCache.index=0)}P.H=_0,y=r(s,u)}while(lr);return y}function h0(){var n=P.H,r=n.useState()[0];return r=typeof r.then=="function"?Ea(r):r,n=n.useState()[0],(Oe!==null?Oe.memoizedState:null)!==n&&(Te.flags|=1024),r}function pu(){var n=Ko!==0;return Ko=0,n}function gu(n,r,s){r.updateQueue=n.updateQueue,r.flags&=-2053,n.lanes&=~s}function yu(n){if(Zo){for(n=n.memoizedState;n!==null;){var r=n.queue;r!==null&&(r.pending=null),n=n.next}Zo=!1}zn=0,je=Oe=Te=null,lr=!1,Ca=Ko=0,ur=null}function St(){var n={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return je===null?Te.memoizedState=je=n:je=je.next=n,je}function et(){if(Oe===null){var n=Te.alternate;n=n!==null?n.memoizedState:null}else n=Oe.next;var r=je===null?Te.memoizedState:je.next;if(r!==null)je=r,Oe=n;else{if(n===null)throw Te.alternate===null?Error(i(467)):Error(i(310));Oe=n,n={memoizedState:Oe.memoizedState,baseState:Oe.baseState,baseQueue:Oe.baseQueue,queue:Oe.queue,next:null},je===null?Te.memoizedState=je=n:je=je.next=n}return je}function vu(){return{lastEffect:null,events:null,stores:null,memoCache:null}}function Ea(n){var r=Ca;return Ca+=1,ur===null&&(ur=[]),n=Yd(ur,n,r),r=Te,(je===null?r.memoizedState:je.next)===null&&(r=r.alternate,P.H=r===null||r.memoizedState===null?Ih:Oh),n}function Xo(n){if(n!==null&&typeof n=="object"){if(typeof n.then=="function")return Ea(n);if(n.$$typeof===H)return pt(n)}throw Error(i(438,String(n)))}function _u(n){var r=null,s=Te.updateQueue;if(s!==null&&(r=s.memoCache),r==null){var u=Te.alternate;u!==null&&(u=u.updateQueue,u!==null&&(u=u.memoCache,u!=null&&(r={data:u.data.map(function(h){return h.slice()}),index:0})))}if(r==null&&(r={data:[],index:0}),s===null&&(s=vu(),Te.updateQueue=s),s.memoCache=r,s=r.data[r.index],s===void 0)for(s=r.data[r.index]=Array(n),u=0;u<n;u++)s[u]=me;return r.index++,s}function Sn(n,r){return typeof r=="function"?r(n):r}function Qo(n){var r=et();return Tu(r,Oe,n)}function Tu(n,r,s){var u=n.queue;if(u===null)throw Error(i(311));u.lastRenderedReducer=s;var h=n.baseQueue,y=u.pending;if(y!==null){if(h!==null){var T=h.next;h.next=y.next,y.next=T}r.baseQueue=h=y,u.pending=null}if(y=n.baseState,h===null)n.memoizedState=y;else{r=h.next;var C=T=null,w=null,k=r,V=!1;do{var G=k.lane&-536870913;if(G!==k.lane?(be&G)===G:(zn&G)===G){var U=k.revertLane;if(U===0)w!==null&&(w=w.next={lane:0,revertLane:0,action:k.action,hasEagerState:k.hasEagerState,eagerState:k.eagerState,next:null}),G===ar&&(V=!0);else if((zn&U)===U){k=k.next,U===ar&&(V=!0);continue}else G={lane:0,revertLane:k.revertLane,action:k.action,hasEagerState:k.hasEagerState,eagerState:k.eagerState,next:null},w===null?(C=w=G,T=y):w=w.next=G,Te.lanes|=U,Zn|=U;G=k.action,bi&&s(y,G),y=k.hasEagerState?k.eagerState:s(y,G)}else U={lane:G,revertLane:k.revertLane,action:k.action,hasEagerState:k.hasEagerState,eagerState:k.eagerState,next:null},w===null?(C=w=U,T=y):w=w.next=U,Te.lanes|=G,Zn|=G;k=k.next}while(k!==null&&k!==r);if(w===null?T=y:w.next=C,!Rt(y,n.memoizedState)&&(ot=!0,V&&(s=or,s!==null)))throw s;n.memoizedState=y,n.baseState=T,n.baseQueue=w,u.lastRenderedState=y}return h===null&&(u.lanes=0),[n.memoizedState,u.dispatch]}function Su(n){var r=et(),s=r.queue;if(s===null)throw Error(i(311));s.lastRenderedReducer=n;var u=s.dispatch,h=s.pending,y=r.memoizedState;if(h!==null){s.pending=null;var T=h=h.next;do y=n(y,T.action),T=T.next;while(T!==h);Rt(y,r.memoizedState)||(ot=!0),r.memoizedState=y,r.baseQueue===null&&(r.baseState=y),s.lastRenderedState=y}return[y,u]}function eh(n,r,s){var u=Te,h=et(),y=Ne;if(y){if(s===void 0)throw Error(i(407));s=s()}else s=r();var T=!Rt((Oe||h).memoizedState,s);T&&(h.memoizedState=s,ot=!0),h=h.queue;var C=ih.bind(null,u,h,n);if(Aa(2048,8,C,[n]),h.getSnapshot!==r||T||je!==null&&je.memoizedState.tag&1){if(u.flags|=2048,cr(9,Wo(),nh.bind(null,u,h,s,r),null),qe===null)throw Error(i(349));y||(zn&124)!==0||th(u,r,s)}return s}function th(n,r,s){n.flags|=16384,n={getSnapshot:r,value:s},r=Te.updateQueue,r===null?(r=vu(),Te.updateQueue=r,r.stores=[n]):(s=r.stores,s===null?r.stores=[n]:s.push(n))}function nh(n,r,s,u){r.value=s,r.getSnapshot=u,rh(r)&&ah(n)}function ih(n,r,s){return s(function(){rh(r)&&ah(n)})}function rh(n){var r=n.getSnapshot;n=n.value;try{var s=r();return!Rt(n,s)}catch{return!0}}function ah(n){var r=tr(n,2);r!==null&&It(r,n,2)}function Cu(n){var r=St();if(typeof n=="function"){var s=n;if(n=s(),bi){In(!0);try{s()}finally{In(!1)}}}return r.memoizedState=r.baseState=n,r.queue={pending:null,lanes:0,dispatch:null,lastRenderedReducer:Sn,lastRenderedState:n},r}function oh(n,r,s,u){return n.baseState=s,Tu(n,Oe,typeof u=="function"?u:Sn)}function m0(n,r,s,u,h){if(es(n))throw Error(i(485));if(n=r.action,n!==null){var y={payload:h,action:n,next:null,isTransition:!0,status:"pending",value:null,reason:null,listeners:[],then:function(T){y.listeners.push(T)}};P.T!==null?s(!0):y.isTransition=!1,u(y),s=r.pending,s===null?(y.next=r.pending=y,sh(r,y)):(y.next=s.next,r.pending=s.next=y)}}function sh(n,r){var s=r.action,u=r.payload,h=n.state;if(r.isTransition){var y=P.T,T={};P.T=T;try{var C=s(h,u),w=P.S;w!==null&&w(T,C),lh(n,r,C)}catch(k){Eu(n,r,k)}finally{P.T=y}}else try{y=s(h,u),lh(n,r,y)}catch(k){Eu(n,r,k)}}function lh(n,r,s){s!==null&&typeof s=="object"&&typeof s.then=="function"?s.then(function(u){uh(n,r,u)},function(u){return Eu(n,r,u)}):uh(n,r,s)}function uh(n,r,s){r.status="fulfilled",r.value=s,ch(r),n.state=s,r=n.pending,r!==null&&(s=r.next,s===r?n.pending=null:(s=s.next,r.next=s,sh(n,s)))}function Eu(n,r,s){var u=n.pending;if(n.pending=null,u!==null){u=u.next;do r.status="rejected",r.reason=s,ch(r),r=r.next;while(r!==u)}n.action=null}function ch(n){n=n.listeners;for(var r=0;r<n.length;r++)(0,n[r])()}function fh(n,r){return r}function dh(n,r){if(Ne){var s=qe.formState;if(s!==null){e:{var u=Te;if(Ne){if(Ze){t:{for(var h=Ze,y=en;h.nodeType!==8;){if(!y){h=null;break t}if(h=Xt(h.nextSibling),h===null){h=null;break t}}y=h.data,h=y==="F!"||y==="F"?h:null}if(h){Ze=Xt(h.nextSibling),u=h.data==="F!";break e}}Ei(u)}u=!1}u&&(r=s[0])}}return s=St(),s.memoizedState=s.baseState=r,u={pending:null,lanes:0,dispatch:null,lastRenderedReducer:fh,lastRenderedState:r},s.queue=u,s=Nh.bind(null,Te,u),u.dispatch=s,u=Cu(!1),y=Ru.bind(null,Te,!1,u.queue),u=St(),h={state:r,dispatch:null,action:n,pending:null},u.queue=h,s=m0.bind(null,Te,h,y,s),h.dispatch=s,u.memoizedState=n,[r,s,!1]}function hh(n){var r=et();return mh(r,Oe,n)}function mh(n,r,s){if(r=Tu(n,r,fh)[0],n=Qo(Sn)[0],typeof r=="object"&&r!==null&&typeof r.then=="function")try{var u=Ea(r)}catch(T){throw T===ya?Fo:T}else u=r;r=et();var h=r.queue,y=h.dispatch;return s!==r.memoizedState&&(Te.flags|=2048,cr(9,Wo(),p0.bind(null,h,s),null)),[u,y,n]}function p0(n,r){n.action=r}function ph(n){var r=et(),s=Oe;if(s!==null)return mh(r,s,n);et(),r=r.memoizedState,s=et();var u=s.queue.dispatch;return s.memoizedState=n,[r,u,!1]}function cr(n,r,s,u){return n={tag:n,create:s,deps:u,inst:r,next:null},r=Te.updateQueue,r===null&&(r=vu(),Te.updateQueue=r),s=r.lastEffect,s===null?r.lastEffect=n.next=n:(u=s.next,s.next=n,n.next=u,r.lastEffect=n),n}function Wo(){return{destroy:void 0,resource:void 0}}function gh(){return et().memoizedState}function jo(n,r,s,u){var h=St();u=u===void 0?null:u,Te.flags|=n,h.memoizedState=cr(1|r,Wo(),s,u)}function Aa(n,r,s,u){var h=et();u=u===void 0?null:u;var y=h.memoizedState.inst;Oe!==null&&u!==null&&hu(u,Oe.memoizedState.deps)?h.memoizedState=cr(r,y,s,u):(Te.flags|=n,h.memoizedState=cr(1|r,y,s,u))}function yh(n,r){jo(8390656,8,n,r)}function vh(n,r){Aa(2048,8,n,r)}function _h(n,r){return Aa(4,2,n,r)}function Th(n,r){return Aa(4,4,n,r)}function Sh(n,r){if(typeof r=="function"){n=n();var s=r(n);return function(){typeof s=="function"?s():r(null)}}if(r!=null)return n=n(),r.current=n,function(){r.current=null}}function Ch(n,r,s){s=s!=null?s.concat([n]):null,Aa(4,4,Sh.bind(null,r,n),s)}function Au(){}function Eh(n,r){var s=et();r=r===void 0?null:r;var u=s.memoizedState;return r!==null&&hu(r,u[1])?u[0]:(s.memoizedState=[n,r],n)}function Ah(n,r){var s=et();r=r===void 0?null:r;var u=s.memoizedState;if(r!==null&&hu(r,u[1]))return u[0];if(u=n(),bi){In(!0);try{n()}finally{In(!1)}}return s.memoizedState=[u,r],u}function wu(n,r,s){return s===void 0||(zn&1073741824)!==0?n.memoizedState=r:(n.memoizedState=s,n=bm(),Te.lanes|=n,Zn|=n,s)}function wh(n,r,s,u){return Rt(s,r)?s:sr.current!==null?(n=wu(n,s,u),Rt(n,r)||(ot=!0),n):(zn&42)===0?(ot=!0,n.memoizedState=s):(n=bm(),Te.lanes|=n,Zn|=n,r)}function xh(n,r,s,u,h){var y=K.p;K.p=y!==0&&8>y?y:8;var T=P.T,C={};P.T=C,Ru(n,!1,r,s);try{var w=h(),k=P.S;if(k!==null&&k(C,w),w!==null&&typeof w=="object"&&typeof w.then=="function"){var V=f0(w,u);wa(n,r,V,Ut(n))}else wa(n,r,u,Ut(n))}catch(G){wa(n,r,{then:function(){},status:"rejected",reason:G},Ut())}finally{K.p=y,P.T=T}}function g0(){}function xu(n,r,s,u){if(n.tag!==5)throw Error(i(476));var h=bh(n).queue;xh(n,h,r,ae,s===null?g0:function(){return Rh(n),s(u)})}function bh(n){var r=n.memoizedState;if(r!==null)return r;r={memoizedState:ae,baseState:ae,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:Sn,lastRenderedState:ae},next:null};var s={};return r.next={memoizedState:s,baseState:s,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:Sn,lastRenderedState:s},next:null},n.memoizedState=r,n=n.alternate,n!==null&&(n.memoizedState=r),r}function Rh(n){var r=bh(n).next.queue;wa(n,r,{},Ut())}function bu(){return pt(Ha)}function Mh(){return et().memoizedState}function Dh(){return et().memoizedState}function y0(n){for(var r=n.return;r!==null;){switch(r.tag){case 24:case 3:var s=Ut();n=qn(s);var u=Bn(r,n,s);u!==null&&(It(u,r,s),_a(u,r,s)),r={cache:iu()},n.payload=r;return}r=r.return}}function v0(n,r,s){var u=Ut();s={lane:u,revertLane:0,action:s,hasEagerState:!1,eagerState:null,next:null},es(n)?kh(r,s):(s=Jl(n,r,s,u),s!==null&&(It(s,n,u),Uh(s,r,u)))}function Nh(n,r,s){var u=Ut();wa(n,r,s,u)}function wa(n,r,s,u){var h={lane:u,revertLane:0,action:s,hasEagerState:!1,eagerState:null,next:null};if(es(n))kh(r,h);else{var y=n.alternate;if(n.lanes===0&&(y===null||y.lanes===0)&&(y=r.lastRenderedReducer,y!==null))try{var T=r.lastRenderedState,C=y(T,s);if(h.hasEagerState=!0,h.eagerState=C,Rt(C,T))return Po(n,r,h,0),qe===null&&Lo(),!1}catch{}finally{}if(s=Jl(n,r,h,u),s!==null)return It(s,n,u),Uh(s,r,u),!0}return!1}function Ru(n,r,s,u){if(u={lane:2,revertLane:oc(),action:u,hasEagerState:!1,eagerState:null,next:null},es(n)){if(r)throw Error(i(479))}else r=Jl(n,s,u,2),r!==null&&It(r,n,2)}function es(n){var r=n.alternate;return n===Te||r!==null&&r===Te}function kh(n,r){lr=Zo=!0;var s=n.pending;s===null?r.next=r:(r.next=s.next,s.next=r),n.pending=r}function Uh(n,r,s){if((s&4194048)!==0){var u=r.lanes;u&=n.pendingLanes,s|=u,r.lanes=s,zf(n,s)}}var ts={readContext:pt,use:Xo,useCallback:Qe,useContext:Qe,useEffect:Qe,useImperativeHandle:Qe,useLayoutEffect:Qe,useInsertionEffect:Qe,useMemo:Qe,useReducer:Qe,useRef:Qe,useState:Qe,useDebugValue:Qe,useDeferredValue:Qe,useTransition:Qe,useSyncExternalStore:Qe,useId:Qe,useHostTransitionStatus:Qe,useFormState:Qe,useActionState:Qe,useOptimistic:Qe,useMemoCache:Qe,useCacheRefresh:Qe},Ih={readContext:pt,use:Xo,useCallback:function(n,r){return St().memoizedState=[n,r===void 0?null:r],n},useContext:pt,useEffect:yh,useImperativeHandle:function(n,r,s){s=s!=null?s.concat([n]):null,jo(4194308,4,Sh.bind(null,r,n),s)},useLayoutEffect:function(n,r){return jo(4194308,4,n,r)},useInsertionEffect:function(n,r){jo(4,2,n,r)},useMemo:function(n,r){var s=St();r=r===void 0?null:r;var u=n();if(bi){In(!0);try{n()}finally{In(!1)}}return s.memoizedState=[u,r],u},useReducer:function(n,r,s){var u=St();if(s!==void 0){var h=s(r);if(bi){In(!0);try{s(r)}finally{In(!1)}}}else h=r;return u.memoizedState=u.baseState=h,n={pending:null,lanes:0,dispatch:null,lastRenderedReducer:n,lastRenderedState:h},u.queue=n,n=n.dispatch=v0.bind(null,Te,n),[u.memoizedState,n]},useRef:function(n){var r=St();return n={current:n},r.memoizedState=n},useState:function(n){n=Cu(n);var r=n.queue,s=Nh.bind(null,Te,r);return r.dispatch=s,[n.memoizedState,s]},useDebugValue:Au,useDeferredValue:function(n,r){var s=St();return wu(s,n,r)},useTransition:function(){var n=Cu(!1);return n=xh.bind(null,Te,n.queue,!0,!1),St().memoizedState=n,[!1,n]},useSyncExternalStore:function(n,r,s){var u=Te,h=St();if(Ne){if(s===void 0)throw Error(i(407));s=s()}else{if(s=r(),qe===null)throw Error(i(349));(be&124)!==0||th(u,r,s)}h.memoizedState=s;var y={value:s,getSnapshot:r};return h.queue=y,yh(ih.bind(null,u,y,n),[n]),u.flags|=2048,cr(9,Wo(),nh.bind(null,u,y,s,r),null),s},useId:function(){var n=St(),r=qe.identifierPrefix;if(Ne){var s=vn,u=yn;s=(u&~(1<<32-bt(u)-1)).toString(32)+s,r="«"+r+"R"+s,s=Ko++,0<s&&(r+="H"+s.toString(32)),r+="»"}else s=d0++,r="«"+r+"r"+s.toString(32)+"»";return n.memoizedState=r},useHostTransitionStatus:bu,useFormState:dh,useActionState:dh,useOptimistic:function(n){var r=St();r.memoizedState=r.baseState=n;var s={pending:null,lanes:0,dispatch:null,lastRenderedReducer:null,lastRenderedState:null};return r.queue=s,r=Ru.bind(null,Te,!0,s),s.dispatch=r,[n,r]},useMemoCache:_u,useCacheRefresh:function(){return St().memoizedState=y0.bind(null,Te)}},Oh={readContext:pt,use:Xo,useCallback:Eh,useContext:pt,useEffect:vh,useImperativeHandle:Ch,useInsertionEffect:_h,useLayoutEffect:Th,useMemo:Ah,useReducer:Qo,useRef:gh,useState:function(){return Qo(Sn)},useDebugValue:Au,useDeferredValue:function(n,r){var s=et();return wh(s,Oe.memoizedState,n,r)},useTransition:function(){var n=Qo(Sn)[0],r=et().memoizedState;return[typeof n=="boolean"?n:Ea(n),r]},useSyncExternalStore:eh,useId:Mh,useHostTransitionStatus:bu,useFormState:hh,useActionState:hh,useOptimistic:function(n,r){var s=et();return oh(s,Oe,n,r)},useMemoCache:_u,useCacheRefresh:Dh},_0={readContext:pt,use:Xo,useCallback:Eh,useContext:pt,useEffect:vh,useImperativeHandle:Ch,useInsertionEffect:_h,useLayoutEffect:Th,useMemo:Ah,useReducer:Su,useRef:gh,useState:function(){return Su(Sn)},useDebugValue:Au,useDeferredValue:function(n,r){var s=et();return Oe===null?wu(s,n,r):wh(s,Oe.memoizedState,n,r)},useTransition:function(){var n=Su(Sn)[0],r=et().memoizedState;return[typeof n=="boolean"?n:Ea(n),r]},useSyncExternalStore:eh,useId:Mh,useHostTransitionStatus:bu,useFormState:ph,useActionState:ph,useOptimistic:function(n,r){var s=et();return Oe!==null?oh(s,Oe,n,r):(s.baseState=n,[n,s.queue.dispatch])},useMemoCache:_u,useCacheRefresh:Dh},fr=null,xa=0;function ns(n){var r=xa;return xa+=1,fr===null&&(fr=[]),Yd(fr,n,r)}function ba(n,r){r=r.props.ref,n.ref=r!==void 0?r:null}function is(n,r){throw r.$$typeof===_?Error(i(525)):(n=Object.prototype.toString.call(r),Error(i(31,n==="[object Object]"?"object with keys {"+Object.keys(r).join(", ")+"}":n)))}function Lh(n){var r=n._init;return r(n._payload)}function Ph(n){function r(M,R){if(n){var D=M.deletions;D===null?(M.deletions=[R],M.flags|=16):D.push(R)}}function s(M,R){if(!n)return null;for(;R!==null;)r(M,R),R=R.sibling;return null}function u(M){for(var R=new Map;M!==null;)M.key!==null?R.set(M.key,M):R.set(M.index,M),M=M.sibling;return R}function h(M,R){return M=gn(M,R),M.index=0,M.sibling=null,M}function y(M,R,D){return M.index=D,n?(D=M.alternate,D!==null?(D=D.index,D<R?(M.flags|=67108866,R):D):(M.flags|=67108866,R)):(M.flags|=1048576,R)}function T(M){return n&&M.alternate===null&&(M.flags|=67108866),M}function C(M,R,D,B){return R===null||R.tag!==6?(R=Kl(D,M.mode,B),R.return=M,R):(R=h(R,D),R.return=M,R)}function w(M,R,D,B){var j=D.type;return j===A?V(M,R,D.props.children,B,D.key):R!==null&&(R.elementType===j||typeof j=="object"&&j!==null&&j.$$typeof===ve&&Lh(j)===R.type)?(R=h(R,D.props),ba(R,D),R.return=M,R):(R=qo(D.type,D.key,D.props,null,M.mode,B),ba(R,D),R.return=M,R)}function k(M,R,D,B){return R===null||R.tag!==4||R.stateNode.containerInfo!==D.containerInfo||R.stateNode.implementation!==D.implementation?(R=Xl(D,M.mode,B),R.return=M,R):(R=h(R,D.children||[]),R.return=M,R)}function V(M,R,D,B,j){return R===null||R.tag!==7?(R=_i(D,M.mode,B,j),R.return=M,R):(R=h(R,D),R.return=M,R)}function G(M,R,D){if(typeof R=="string"&&R!==""||typeof R=="number"||typeof R=="bigint")return R=Kl(""+R,M.mode,D),R.return=M,R;if(typeof R=="object"&&R!==null){switch(R.$$typeof){case S:return D=qo(R.type,R.key,R.props,null,M.mode,D),ba(D,R),D.return=M,D;case E:return R=Xl(R,M.mode,D),R.return=M,R;case ve:var B=R._init;return R=B(R._payload),G(M,R,D)}if(Je(R)||Xe(R))return R=_i(R,M.mode,D,null),R.return=M,R;if(typeof R.then=="function")return G(M,ns(R),D);if(R.$$typeof===H)return G(M,Ho(M,R),D);is(M,R)}return null}function U(M,R,D,B){var j=R!==null?R.key:null;if(typeof D=="string"&&D!==""||typeof D=="number"||typeof D=="bigint")return j!==null?null:C(M,R,""+D,B);if(typeof D=="object"&&D!==null){switch(D.$$typeof){case S:return D.key===j?w(M,R,D,B):null;case E:return D.key===j?k(M,R,D,B):null;case ve:return j=D._init,D=j(D._payload),U(M,R,D,B)}if(Je(D)||Xe(D))return j!==null?null:V(M,R,D,B,null);if(typeof D.then=="function")return U(M,R,ns(D),B);if(D.$$typeof===H)return U(M,R,Ho(M,D),B);is(M,D)}return null}function I(M,R,D,B,j){if(typeof B=="string"&&B!==""||typeof B=="number"||typeof B=="bigint")return M=M.get(D)||null,C(R,M,""+B,j);if(typeof B=="object"&&B!==null){switch(B.$$typeof){case S:return M=M.get(B.key===null?D:B.key)||null,w(R,M,B,j);case E:return M=M.get(B.key===null?D:B.key)||null,k(R,M,B,j);case ve:var Se=B._init;return B=Se(B._payload),I(M,R,D,B,j)}if(Je(B)||Xe(B))return M=M.get(D)||null,V(R,M,B,j,null);if(typeof B.then=="function")return I(M,R,D,ns(B),j);if(B.$$typeof===H)return I(M,R,D,Ho(R,B),j);is(R,B)}return null}function ce(M,R,D,B){for(var j=null,Se=null,ie=R,ue=R=0,lt=null;ie!==null&&ue<D.length;ue++){ie.index>ue?(lt=ie,ie=null):lt=ie.sibling;var Me=U(M,ie,D[ue],B);if(Me===null){ie===null&&(ie=lt);break}n&&ie&&Me.alternate===null&&r(M,ie),R=y(Me,R,ue),Se===null?j=Me:Se.sibling=Me,Se=Me,ie=lt}if(ue===D.length)return s(M,ie),Ne&&Si(M,ue),j;if(ie===null){for(;ue<D.length;ue++)ie=G(M,D[ue],B),ie!==null&&(R=y(ie,R,ue),Se===null?j=ie:Se.sibling=ie,Se=ie);return Ne&&Si(M,ue),j}for(ie=u(ie);ue<D.length;ue++)lt=I(ie,M,ue,D[ue],B),lt!==null&&(n&&lt.alternate!==null&&ie.delete(lt.key===null?ue:lt.key),R=y(lt,R,ue),Se===null?j=lt:Se.sibling=lt,Se=lt);return n&&ie.forEach(function(ii){return r(M,ii)}),Ne&&Si(M,ue),j}function le(M,R,D,B){if(D==null)throw Error(i(151));for(var j=null,Se=null,ie=R,ue=R=0,lt=null,Me=D.next();ie!==null&&!Me.done;ue++,Me=D.next()){ie.index>ue?(lt=ie,ie=null):lt=ie.sibling;var ii=U(M,ie,Me.value,B);if(ii===null){ie===null&&(ie=lt);break}n&&ie&&ii.alternate===null&&r(M,ie),R=y(ii,R,ue),Se===null?j=ii:Se.sibling=ii,Se=ii,ie=lt}if(Me.done)return s(M,ie),Ne&&Si(M,ue),j;if(ie===null){for(;!Me.done;ue++,Me=D.next())Me=G(M,Me.value,B),Me!==null&&(R=y(Me,R,ue),Se===null?j=Me:Se.sibling=Me,Se=Me);return Ne&&Si(M,ue),j}for(ie=u(ie);!Me.done;ue++,Me=D.next())Me=I(ie,M,ue,Me.value,B),Me!==null&&(n&&Me.alternate!==null&&ie.delete(Me.key===null?ue:Me.key),R=y(Me,R,ue),Se===null?j=Me:Se.sibling=Me,Se=Me);return n&&ie.forEach(function(TT){return r(M,TT)}),Ne&&Si(M,ue),j}function Pe(M,R,D,B){if(typeof D=="object"&&D!==null&&D.type===A&&D.key===null&&(D=D.props.children),typeof D=="object"&&D!==null){switch(D.$$typeof){case S:e:{for(var j=D.key;R!==null;){if(R.key===j){if(j=D.type,j===A){if(R.tag===7){s(M,R.sibling),B=h(R,D.props.children),B.return=M,M=B;break e}}else if(R.elementType===j||typeof j=="object"&&j!==null&&j.$$typeof===ve&&Lh(j)===R.type){s(M,R.sibling),B=h(R,D.props),ba(B,D),B.return=M,M=B;break e}s(M,R);break}else r(M,R);R=R.sibling}D.type===A?(B=_i(D.props.children,M.mode,B,D.key),B.return=M,M=B):(B=qo(D.type,D.key,D.props,null,M.mode,B),ba(B,D),B.return=M,M=B)}return T(M);case E:e:{for(j=D.key;R!==null;){if(R.key===j)if(R.tag===4&&R.stateNode.containerInfo===D.containerInfo&&R.stateNode.implementation===D.implementation){s(M,R.sibling),B=h(R,D.children||[]),B.return=M,M=B;break e}else{s(M,R);break}else r(M,R);R=R.sibling}B=Xl(D,M.mode,B),B.return=M,M=B}return T(M);case ve:return j=D._init,D=j(D._payload),Pe(M,R,D,B)}if(Je(D))return ce(M,R,D,B);if(Xe(D)){if(j=Xe(D),typeof j!="function")throw Error(i(150));return D=j.call(D),le(M,R,D,B)}if(typeof D.then=="function")return Pe(M,R,ns(D),B);if(D.$$typeof===H)return Pe(M,R,Ho(M,D),B);is(M,D)}return typeof D=="string"&&D!==""||typeof D=="number"||typeof D=="bigint"?(D=""+D,R!==null&&R.tag===6?(s(M,R.sibling),B=h(R,D),B.return=M,M=B):(s(M,R),B=Kl(D,M.mode,B),B.return=M,M=B),T(M)):s(M,R)}return function(M,R,D,B){try{xa=0;var j=Pe(M,R,D,B);return fr=null,j}catch(ie){if(ie===ya||ie===Fo)throw ie;var Se=Mt(29,ie,null,M.mode);return Se.lanes=B,Se.return=M,Se}finally{}}}var dr=Ph(!0),Vh=Ph(!1),Ht=$(null),tn=null;function Gn(n){var r=n.alternate;z(rt,rt.current&1),z(Ht,n),tn===null&&(r===null||sr.current!==null||r.memoizedState!==null)&&(tn=n)}function qh(n){if(n.tag===22){if(z(rt,rt.current),z(Ht,n),tn===null){var r=n.alternate;r!==null&&r.memoizedState!==null&&(tn=n)}}else Hn()}function Hn(){z(rt,rt.current),z(Ht,Ht.current)}function Cn(n){Q(Ht),tn===n&&(tn=null),Q(rt)}var rt=$(0);function rs(n){for(var r=n;r!==null;){if(r.tag===13){var s=r.memoizedState;if(s!==null&&(s=s.dehydrated,s===null||s.data==="$?"||vc(s)))return r}else if(r.tag===19&&r.memoizedProps.revealOrder!==void 0){if((r.flags&128)!==0)return r}else if(r.child!==null){r.child.return=r,r=r.child;continue}if(r===n)break;for(;r.sibling===null;){if(r.return===null||r.return===n)return null;r=r.return}r.sibling.return=r.return,r=r.sibling}return null}function Mu(n,r,s,u){r=n.memoizedState,s=s(u,r),s=s==null?r:v({},r,s),n.memoizedState=s,n.lanes===0&&(n.updateQueue.baseState=s)}var Du={enqueueSetState:function(n,r,s){n=n._reactInternals;var u=Ut(),h=qn(u);h.payload=r,s!=null&&(h.callback=s),r=Bn(n,h,u),r!==null&&(It(r,n,u),_a(r,n,u))},enqueueReplaceState:function(n,r,s){n=n._reactInternals;var u=Ut(),h=qn(u);h.tag=1,h.payload=r,s!=null&&(h.callback=s),r=Bn(n,h,u),r!==null&&(It(r,n,u),_a(r,n,u))},enqueueForceUpdate:function(n,r){n=n._reactInternals;var s=Ut(),u=qn(s);u.tag=2,r!=null&&(u.callback=r),r=Bn(n,u,s),r!==null&&(It(r,n,s),_a(r,n,s))}};function Bh(n,r,s,u,h,y,T){return n=n.stateNode,typeof n.shouldComponentUpdate=="function"?n.shouldComponentUpdate(u,y,T):r.prototype&&r.prototype.isPureReactComponent?!ua(s,u)||!ua(h,y):!0}function zh(n,r,s,u){n=r.state,typeof r.componentWillReceiveProps=="function"&&r.componentWillReceiveProps(s,u),typeof r.UNSAFE_componentWillReceiveProps=="function"&&r.UNSAFE_componentWillReceiveProps(s,u),r.state!==n&&Du.enqueueReplaceState(r,r.state,null)}function Ri(n,r){var s=r;if("ref"in r){s={};for(var u in r)u!=="ref"&&(s[u]=r[u])}if(n=n.defaultProps){s===r&&(s=v({},s));for(var h in n)s[h]===void 0&&(s[h]=n[h])}return s}var as=typeof reportError=="function"?reportError:function(n){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var r=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof n=="object"&&n!==null&&typeof n.message=="string"?String(n.message):String(n),error:n});if(!window.dispatchEvent(r))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",n);return}console.error(n)};function Gh(n){as(n)}function Hh(n){console.error(n)}function $h(n){as(n)}function os(n,r){try{var s=n.onUncaughtError;s(r.value,{componentStack:r.stack})}catch(u){setTimeout(function(){throw u})}}function Fh(n,r,s){try{var u=n.onCaughtError;u(s.value,{componentStack:s.stack,errorBoundary:r.tag===1?r.stateNode:null})}catch(h){setTimeout(function(){throw h})}}function Nu(n,r,s){return s=qn(s),s.tag=3,s.payload={element:null},s.callback=function(){os(n,r)},s}function Yh(n){return n=qn(n),n.tag=3,n}function Jh(n,r,s,u){var h=s.type.getDerivedStateFromError;if(typeof h=="function"){var y=u.value;n.payload=function(){return h(y)},n.callback=function(){Fh(r,s,u)}}var T=s.stateNode;T!==null&&typeof T.componentDidCatch=="function"&&(n.callback=function(){Fh(r,s,u),typeof h!="function"&&(Kn===null?Kn=new Set([this]):Kn.add(this));var C=u.stack;this.componentDidCatch(u.value,{componentStack:C!==null?C:""})})}function T0(n,r,s,u,h){if(s.flags|=32768,u!==null&&typeof u=="object"&&typeof u.then=="function"){if(r=s.alternate,r!==null&&ma(r,s,h,!0),s=Ht.current,s!==null){switch(s.tag){case 13:return tn===null?tc():s.alternate===null&&Ke===0&&(Ke=3),s.flags&=-257,s.flags|=65536,s.lanes=h,u===ou?s.flags|=16384:(r=s.updateQueue,r===null?s.updateQueue=new Set([u]):r.add(u),ic(n,u,h)),!1;case 22:return s.flags|=65536,u===ou?s.flags|=16384:(r=s.updateQueue,r===null?(r={transitions:null,markerInstances:null,retryQueue:new Set([u])},s.updateQueue=r):(s=r.retryQueue,s===null?r.retryQueue=new Set([u]):s.add(u)),ic(n,u,h)),!1}throw Error(i(435,s.tag))}return ic(n,u,h),tc(),!1}if(Ne)return r=Ht.current,r!==null?((r.flags&65536)===0&&(r.flags|=256),r.flags|=65536,r.lanes=h,u!==jl&&(n=Error(i(422),{cause:u}),ha(qt(n,s)))):(u!==jl&&(r=Error(i(423),{cause:u}),ha(qt(r,s))),n=n.current.alternate,n.flags|=65536,h&=-h,n.lanes|=h,u=qt(u,s),h=Nu(n.stateNode,u,h),uu(n,h),Ke!==4&&(Ke=2)),!1;var y=Error(i(520),{cause:u});if(y=qt(y,s),Ia===null?Ia=[y]:Ia.push(y),Ke!==4&&(Ke=2),r===null)return!0;u=qt(u,s),s=r;do{switch(s.tag){case 3:return s.flags|=65536,n=h&-h,s.lanes|=n,n=Nu(s.stateNode,u,n),uu(s,n),!1;case 1:if(r=s.type,y=s.stateNode,(s.flags&128)===0&&(typeof r.getDerivedStateFromError=="function"||y!==null&&typeof y.componentDidCatch=="function"&&(Kn===null||!Kn.has(y))))return s.flags|=65536,h&=-h,s.lanes|=h,h=Yh(h),Jh(h,n,s,u),uu(s,h),!1}s=s.return}while(s!==null);return!1}var Zh=Error(i(461)),ot=!1;function ft(n,r,s,u){r.child=n===null?Vh(r,null,s,u):dr(r,n.child,s,u)}function Kh(n,r,s,u,h){s=s.render;var y=r.ref;if("ref"in u){var T={};for(var C in u)C!=="ref"&&(T[C]=u[C])}else T=u;return wi(r),u=mu(n,r,s,T,y,h),C=pu(),n!==null&&!ot?(gu(n,r,h),En(n,r,h)):(Ne&&C&&Ql(r),r.flags|=1,ft(n,r,u,h),r.child)}function Xh(n,r,s,u,h){if(n===null){var y=s.type;return typeof y=="function"&&!Zl(y)&&y.defaultProps===void 0&&s.compare===null?(r.tag=15,r.type=y,Qh(n,r,y,u,h)):(n=qo(s.type,null,u,r,r.mode,h),n.ref=r.ref,n.return=r,r.child=n)}if(y=n.child,!qu(n,h)){var T=y.memoizedProps;if(s=s.compare,s=s!==null?s:ua,s(T,u)&&n.ref===r.ref)return En(n,r,h)}return r.flags|=1,n=gn(y,u),n.ref=r.ref,n.return=r,r.child=n}function Qh(n,r,s,u,h){if(n!==null){var y=n.memoizedProps;if(ua(y,u)&&n.ref===r.ref)if(ot=!1,r.pendingProps=u=y,qu(n,h))(n.flags&131072)!==0&&(ot=!0);else return r.lanes=n.lanes,En(n,r,h)}return ku(n,r,s,u,h)}function Wh(n,r,s){var u=r.pendingProps,h=u.children,y=n!==null?n.memoizedState:null;if(u.mode==="hidden"){if((r.flags&128)!==0){if(u=y!==null?y.baseLanes|s:s,n!==null){for(h=r.child=n.child,y=0;h!==null;)y=y|h.lanes|h.childLanes,h=h.sibling;r.childLanes=y&~u}else r.childLanes=0,r.child=null;return jh(n,r,u,s)}if((s&536870912)!==0)r.memoizedState={baseLanes:0,cachePool:null},n!==null&&$o(r,y!==null?y.cachePool:null),y!==null?Qd(r,y):fu(),qh(r);else return r.lanes=r.childLanes=536870912,jh(n,r,y!==null?y.baseLanes|s:s,s)}else y!==null?($o(r,y.cachePool),Qd(r,y),Hn(),r.memoizedState=null):(n!==null&&$o(r,null),fu(),Hn());return ft(n,r,h,s),r.child}function jh(n,r,s,u){var h=au();return h=h===null?null:{parent:it._currentValue,pool:h},r.memoizedState={baseLanes:s,cachePool:h},n!==null&&$o(r,null),fu(),qh(r),n!==null&&ma(n,r,u,!0),null}function ss(n,r){var s=r.ref;if(s===null)n!==null&&n.ref!==null&&(r.flags|=4194816);else{if(typeof s!="function"&&typeof s!="object")throw Error(i(284));(n===null||n.ref!==s)&&(r.flags|=4194816)}}function ku(n,r,s,u,h){return wi(r),s=mu(n,r,s,u,void 0,h),u=pu(),n!==null&&!ot?(gu(n,r,h),En(n,r,h)):(Ne&&u&&Ql(r),r.flags|=1,ft(n,r,s,h),r.child)}function em(n,r,s,u,h,y){return wi(r),r.updateQueue=null,s=jd(r,u,s,h),Wd(n),u=pu(),n!==null&&!ot?(gu(n,r,y),En(n,r,y)):(Ne&&u&&Ql(r),r.flags|=1,ft(n,r,s,y),r.child)}function tm(n,r,s,u,h){if(wi(r),r.stateNode===null){var y=nr,T=s.contextType;typeof T=="object"&&T!==null&&(y=pt(T)),y=new s(u,y),r.memoizedState=y.state!==null&&y.state!==void 0?y.state:null,y.updater=Du,r.stateNode=y,y._reactInternals=r,y=r.stateNode,y.props=u,y.state=r.memoizedState,y.refs={},su(r),T=s.contextType,y.context=typeof T=="object"&&T!==null?pt(T):nr,y.state=r.memoizedState,T=s.getDerivedStateFromProps,typeof T=="function"&&(Mu(r,s,T,u),y.state=r.memoizedState),typeof s.getDerivedStateFromProps=="function"||typeof y.getSnapshotBeforeUpdate=="function"||typeof y.UNSAFE_componentWillMount!="function"&&typeof y.componentWillMount!="function"||(T=y.state,typeof y.componentWillMount=="function"&&y.componentWillMount(),typeof y.UNSAFE_componentWillMount=="function"&&y.UNSAFE_componentWillMount(),T!==y.state&&Du.enqueueReplaceState(y,y.state,null),Sa(r,u,y,h),Ta(),y.state=r.memoizedState),typeof y.componentDidMount=="function"&&(r.flags|=4194308),u=!0}else if(n===null){y=r.stateNode;var C=r.memoizedProps,w=Ri(s,C);y.props=w;var k=y.context,V=s.contextType;T=nr,typeof V=="object"&&V!==null&&(T=pt(V));var G=s.getDerivedStateFromProps;V=typeof G=="function"||typeof y.getSnapshotBeforeUpdate=="function",C=r.pendingProps!==C,V||typeof y.UNSAFE_componentWillReceiveProps!="function"&&typeof y.componentWillReceiveProps!="function"||(C||k!==T)&&zh(r,y,u,T),Vn=!1;var U=r.memoizedState;y.state=U,Sa(r,u,y,h),Ta(),k=r.memoizedState,C||U!==k||Vn?(typeof G=="function"&&(Mu(r,s,G,u),k=r.memoizedState),(w=Vn||Bh(r,s,w,u,U,k,T))?(V||typeof y.UNSAFE_componentWillMount!="function"&&typeof y.componentWillMount!="function"||(typeof y.componentWillMount=="function"&&y.componentWillMount(),typeof y.UNSAFE_componentWillMount=="function"&&y.UNSAFE_componentWillMount()),typeof y.componentDidMount=="function"&&(r.flags|=4194308)):(typeof y.componentDidMount=="function"&&(r.flags|=4194308),r.memoizedProps=u,r.memoizedState=k),y.props=u,y.state=k,y.context=T,u=w):(typeof y.componentDidMount=="function"&&(r.flags|=4194308),u=!1)}else{y=r.stateNode,lu(n,r),T=r.memoizedProps,V=Ri(s,T),y.props=V,G=r.pendingProps,U=y.context,k=s.contextType,w=nr,typeof k=="object"&&k!==null&&(w=pt(k)),C=s.getDerivedStateFromProps,(k=typeof C=="function"||typeof y.getSnapshotBeforeUpdate=="function")||typeof y.UNSAFE_componentWillReceiveProps!="function"&&typeof y.componentWillReceiveProps!="function"||(T!==G||U!==w)&&zh(r,y,u,w),Vn=!1,U=r.memoizedState,y.state=U,Sa(r,u,y,h),Ta();var I=r.memoizedState;T!==G||U!==I||Vn||n!==null&&n.dependencies!==null&&Go(n.dependencies)?(typeof C=="function"&&(Mu(r,s,C,u),I=r.memoizedState),(V=Vn||Bh(r,s,V,u,U,I,w)||n!==null&&n.dependencies!==null&&Go(n.dependencies))?(k||typeof y.UNSAFE_componentWillUpdate!="function"&&typeof y.componentWillUpdate!="function"||(typeof y.componentWillUpdate=="function"&&y.componentWillUpdate(u,I,w),typeof y.UNSAFE_componentWillUpdate=="function"&&y.UNSAFE_componentWillUpdate(u,I,w)),typeof y.componentDidUpdate=="function"&&(r.flags|=4),typeof y.getSnapshotBeforeUpdate=="function"&&(r.flags|=1024)):(typeof y.componentDidUpdate!="function"||T===n.memoizedProps&&U===n.memoizedState||(r.flags|=4),typeof y.getSnapshotBeforeUpdate!="function"||T===n.memoizedProps&&U===n.memoizedState||(r.flags|=1024),r.memoizedProps=u,r.memoizedState=I),y.props=u,y.state=I,y.context=w,u=V):(typeof y.componentDidUpdate!="function"||T===n.memoizedProps&&U===n.memoizedState||(r.flags|=4),typeof y.getSnapshotBeforeUpdate!="function"||T===n.memoizedProps&&U===n.memoizedState||(r.flags|=1024),u=!1)}return y=u,ss(n,r),u=(r.flags&128)!==0,y||u?(y=r.stateNode,s=u&&typeof s.getDerivedStateFromError!="function"?null:y.render(),r.flags|=1,n!==null&&u?(r.child=dr(r,n.child,null,h),r.child=dr(r,null,s,h)):ft(n,r,s,h),r.memoizedState=y.state,n=r.child):n=En(n,r,h),n}function nm(n,r,s,u){return da(),r.flags|=256,ft(n,r,s,u),r.child}var Uu={dehydrated:null,treeContext:null,retryLane:0,hydrationErrors:null};function Iu(n){return{baseLanes:n,cachePool:Hd()}}function Ou(n,r,s){return n=n!==null?n.childLanes&~s:0,r&&(n|=$t),n}function im(n,r,s){var u=r.pendingProps,h=!1,y=(r.flags&128)!==0,T;if((T=y)||(T=n!==null&&n.memoizedState===null?!1:(rt.current&2)!==0),T&&(h=!0,r.flags&=-129),T=(r.flags&32)!==0,r.flags&=-33,n===null){if(Ne){if(h?Gn(r):Hn(),Ne){var C=Ze,w;if(w=C){e:{for(w=C,C=en;w.nodeType!==8;){if(!C){C=null;break e}if(w=Xt(w.nextSibling),w===null){C=null;break e}}C=w}C!==null?(r.memoizedState={dehydrated:C,treeContext:Ti!==null?{id:yn,overflow:vn}:null,retryLane:536870912,hydrationErrors:null},w=Mt(18,null,null,0),w.stateNode=C,w.return=r,r.child=w,yt=r,Ze=null,w=!0):w=!1}w||Ei(r)}if(C=r.memoizedState,C!==null&&(C=C.dehydrated,C!==null))return vc(C)?r.lanes=32:r.lanes=536870912,null;Cn(r)}return C=u.children,u=u.fallback,h?(Hn(),h=r.mode,C=ls({mode:"hidden",children:C},h),u=_i(u,h,s,null),C.return=r,u.return=r,C.sibling=u,r.child=C,h=r.child,h.memoizedState=Iu(s),h.childLanes=Ou(n,T,s),r.memoizedState=Uu,u):(Gn(r),Lu(r,C))}if(w=n.memoizedState,w!==null&&(C=w.dehydrated,C!==null)){if(y)r.flags&256?(Gn(r),r.flags&=-257,r=Pu(n,r,s)):r.memoizedState!==null?(Hn(),r.child=n.child,r.flags|=128,r=null):(Hn(),h=u.fallback,C=r.mode,u=ls({mode:"visible",children:u.children},C),h=_i(h,C,s,null),h.flags|=2,u.return=r,h.return=r,u.sibling=h,r.child=u,dr(r,n.child,null,s),u=r.child,u.memoizedState=Iu(s),u.childLanes=Ou(n,T,s),r.memoizedState=Uu,r=h);else if(Gn(r),vc(C)){if(T=C.nextSibling&&C.nextSibling.dataset,T)var k=T.dgst;T=k,u=Error(i(419)),u.stack="",u.digest=T,ha({value:u,source:null,stack:null}),r=Pu(n,r,s)}else if(ot||ma(n,r,s,!1),T=(s&n.childLanes)!==0,ot||T){if(T=qe,T!==null&&(u=s&-s,u=(u&42)!==0?1:_l(u),u=(u&(T.suspendedLanes|s))!==0?0:u,u!==0&&u!==w.retryLane))throw w.retryLane=u,tr(n,u),It(T,n,u),Zh;C.data==="$?"||tc(),r=Pu(n,r,s)}else C.data==="$?"?(r.flags|=192,r.child=n.child,r=null):(n=w.treeContext,Ze=Xt(C.nextSibling),yt=r,Ne=!0,Ci=null,en=!1,n!==null&&(zt[Gt++]=yn,zt[Gt++]=vn,zt[Gt++]=Ti,yn=n.id,vn=n.overflow,Ti=r),r=Lu(r,u.children),r.flags|=4096);return r}return h?(Hn(),h=u.fallback,C=r.mode,w=n.child,k=w.sibling,u=gn(w,{mode:"hidden",children:u.children}),u.subtreeFlags=w.subtreeFlags&65011712,k!==null?h=gn(k,h):(h=_i(h,C,s,null),h.flags|=2),h.return=r,u.return=r,u.sibling=h,r.child=u,u=h,h=r.child,C=n.child.memoizedState,C===null?C=Iu(s):(w=C.cachePool,w!==null?(k=it._currentValue,w=w.parent!==k?{parent:k,pool:k}:w):w=Hd(),C={baseLanes:C.baseLanes|s,cachePool:w}),h.memoizedState=C,h.childLanes=Ou(n,T,s),r.memoizedState=Uu,u):(Gn(r),s=n.child,n=s.sibling,s=gn(s,{mode:"visible",children:u.children}),s.return=r,s.sibling=null,n!==null&&(T=r.deletions,T===null?(r.deletions=[n],r.flags|=16):T.push(n)),r.child=s,r.memoizedState=null,s)}function Lu(n,r){return r=ls({mode:"visible",children:r},n.mode),r.return=n,n.child=r}function ls(n,r){return n=Mt(22,n,null,r),n.lanes=0,n.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null},n}function Pu(n,r,s){return dr(r,n.child,null,s),n=Lu(r,r.pendingProps.children),n.flags|=2,r.memoizedState=null,n}function rm(n,r,s){n.lanes|=r;var u=n.alternate;u!==null&&(u.lanes|=r),tu(n.return,r,s)}function Vu(n,r,s,u,h){var y=n.memoizedState;y===null?n.memoizedState={isBackwards:r,rendering:null,renderingStartTime:0,last:u,tail:s,tailMode:h}:(y.isBackwards=r,y.rendering=null,y.renderingStartTime=0,y.last=u,y.tail=s,y.tailMode=h)}function am(n,r,s){var u=r.pendingProps,h=u.revealOrder,y=u.tail;if(ft(n,r,u.children,s),u=rt.current,(u&2)!==0)u=u&1|2,r.flags|=128;else{if(n!==null&&(n.flags&128)!==0)e:for(n=r.child;n!==null;){if(n.tag===13)n.memoizedState!==null&&rm(n,s,r);else if(n.tag===19)rm(n,s,r);else if(n.child!==null){n.child.return=n,n=n.child;continue}if(n===r)break e;for(;n.sibling===null;){if(n.return===null||n.return===r)break e;n=n.return}n.sibling.return=n.return,n=n.sibling}u&=1}switch(z(rt,u),h){case"forwards":for(s=r.child,h=null;s!==null;)n=s.alternate,n!==null&&rs(n)===null&&(h=s),s=s.sibling;s=h,s===null?(h=r.child,r.child=null):(h=s.sibling,s.sibling=null),Vu(r,!1,h,s,y);break;case"backwards":for(s=null,h=r.child,r.child=null;h!==null;){if(n=h.alternate,n!==null&&rs(n)===null){r.child=h;break}n=h.sibling,h.sibling=s,s=h,h=n}Vu(r,!0,s,null,y);break;case"together":Vu(r,!1,null,null,void 0);break;default:r.memoizedState=null}return r.child}function En(n,r,s){if(n!==null&&(r.dependencies=n.dependencies),Zn|=r.lanes,(s&r.childLanes)===0)if(n!==null){if(ma(n,r,s,!1),(s&r.childLanes)===0)return null}else return null;if(n!==null&&r.child!==n.child)throw Error(i(153));if(r.child!==null){for(n=r.child,s=gn(n,n.pendingProps),r.child=s,s.return=r;n.sibling!==null;)n=n.sibling,s=s.sibling=gn(n,n.pendingProps),s.return=r;s.sibling=null}return r.child}function qu(n,r){return(n.lanes&r)!==0?!0:(n=n.dependencies,!!(n!==null&&Go(n)))}function S0(n,r,s){switch(r.tag){case 3:xe(r,r.stateNode.containerInfo),Pn(r,it,n.memoizedState.cache),da();break;case 27:case 5:ml(r);break;case 4:xe(r,r.stateNode.containerInfo);break;case 10:Pn(r,r.type,r.memoizedProps.value);break;case 13:var u=r.memoizedState;if(u!==null)return u.dehydrated!==null?(Gn(r),r.flags|=128,null):(s&r.child.childLanes)!==0?im(n,r,s):(Gn(r),n=En(n,r,s),n!==null?n.sibling:null);Gn(r);break;case 19:var h=(n.flags&128)!==0;if(u=(s&r.childLanes)!==0,u||(ma(n,r,s,!1),u=(s&r.childLanes)!==0),h){if(u)return am(n,r,s);r.flags|=128}if(h=r.memoizedState,h!==null&&(h.rendering=null,h.tail=null,h.lastEffect=null),z(rt,rt.current),u)break;return null;case 22:case 23:return r.lanes=0,Wh(n,r,s);case 24:Pn(r,it,n.memoizedState.cache)}return En(n,r,s)}function om(n,r,s){if(n!==null)if(n.memoizedProps!==r.pendingProps)ot=!0;else{if(!qu(n,s)&&(r.flags&128)===0)return ot=!1,S0(n,r,s);ot=(n.flags&131072)!==0}else ot=!1,Ne&&(r.flags&1048576)!==0&&Ld(r,zo,r.index);switch(r.lanes=0,r.tag){case 16:e:{n=r.pendingProps;var u=r.elementType,h=u._init;if(u=h(u._payload),r.type=u,typeof u=="function")Zl(u)?(n=Ri(u,n),r.tag=1,r=tm(null,r,u,n,s)):(r.tag=0,r=ku(null,r,u,n,s));else{if(u!=null){if(h=u.$$typeof,h===J){r.tag=11,r=Kh(null,r,u,n,s);break e}else if(h===se){r.tag=14,r=Xh(null,r,u,n,s);break e}}throw r=nt(u)||u,Error(i(306,r,""))}}return r;case 0:return ku(n,r,r.type,r.pendingProps,s);case 1:return u=r.type,h=Ri(u,r.pendingProps),tm(n,r,u,h,s);case 3:e:{if(xe(r,r.stateNode.containerInfo),n===null)throw Error(i(387));u=r.pendingProps;var y=r.memoizedState;h=y.element,lu(n,r),Sa(r,u,null,s);var T=r.memoizedState;if(u=T.cache,Pn(r,it,u),u!==y.cache&&nu(r,[it],s,!0),Ta(),u=T.element,y.isDehydrated)if(y={element:u,isDehydrated:!1,cache:T.cache},r.updateQueue.baseState=y,r.memoizedState=y,r.flags&256){r=nm(n,r,u,s);break e}else if(u!==h){h=qt(Error(i(424)),r),ha(h),r=nm(n,r,u,s);break e}else{switch(n=r.stateNode.containerInfo,n.nodeType){case 9:n=n.body;break;default:n=n.nodeName==="HTML"?n.ownerDocument.body:n}for(Ze=Xt(n.firstChild),yt=r,Ne=!0,Ci=null,en=!0,s=Vh(r,null,u,s),r.child=s;s;)s.flags=s.flags&-3|4096,s=s.sibling}else{if(da(),u===h){r=En(n,r,s);break e}ft(n,r,u,s)}r=r.child}return r;case 26:return ss(n,r),n===null?(s=cp(r.type,null,r.pendingProps,null))?r.memoizedState=s:Ne||(s=r.type,n=r.pendingProps,u=Cs(W.current).createElement(s),u[mt]=r,u[_t]=n,ht(u,s,n),at(u),r.stateNode=u):r.memoizedState=cp(r.type,n.memoizedProps,r.pendingProps,n.memoizedState),null;case 27:return ml(r),n===null&&Ne&&(u=r.stateNode=sp(r.type,r.pendingProps,W.current),yt=r,en=!0,h=Ze,Wn(r.type)?(_c=h,Ze=Xt(u.firstChild)):Ze=h),ft(n,r,r.pendingProps.children,s),ss(n,r),n===null&&(r.flags|=4194304),r.child;case 5:return n===null&&Ne&&((h=u=Ze)&&(u=K0(u,r.type,r.pendingProps,en),u!==null?(r.stateNode=u,yt=r,Ze=Xt(u.firstChild),en=!1,h=!0):h=!1),h||Ei(r)),ml(r),h=r.type,y=r.pendingProps,T=n!==null?n.memoizedProps:null,u=y.children,pc(h,y)?u=null:T!==null&&pc(h,T)&&(r.flags|=32),r.memoizedState!==null&&(h=mu(n,r,h0,null,null,s),Ha._currentValue=h),ss(n,r),ft(n,r,u,s),r.child;case 6:return n===null&&Ne&&((n=s=Ze)&&(s=X0(s,r.pendingProps,en),s!==null?(r.stateNode=s,yt=r,Ze=null,n=!0):n=!1),n||Ei(r)),null;case 13:return im(n,r,s);case 4:return xe(r,r.stateNode.containerInfo),u=r.pendingProps,n===null?r.child=dr(r,null,u,s):ft(n,r,u,s),r.child;case 11:return Kh(n,r,r.type,r.pendingProps,s);case 7:return ft(n,r,r.pendingProps,s),r.child;case 8:return ft(n,r,r.pendingProps.children,s),r.child;case 12:return ft(n,r,r.pendingProps.children,s),r.child;case 10:return u=r.pendingProps,Pn(r,r.type,u.value),ft(n,r,u.children,s),r.child;case 9:return h=r.type._context,u=r.pendingProps.children,wi(r),h=pt(h),u=u(h),r.flags|=1,ft(n,r,u,s),r.child;case 14:return Xh(n,r,r.type,r.pendingProps,s);case 15:return Qh(n,r,r.type,r.pendingProps,s);case 19:return am(n,r,s);case 31:return u=r.pendingProps,s=r.mode,u={mode:u.mode,children:u.children},n===null?(s=ls(u,s),s.ref=r.ref,r.child=s,s.return=r,r=s):(s=gn(n.child,u),s.ref=r.ref,r.child=s,s.return=r,r=s),r;case 22:return Wh(n,r,s);case 24:return wi(r),u=pt(it),n===null?(h=au(),h===null&&(h=qe,y=iu(),h.pooledCache=y,y.refCount++,y!==null&&(h.pooledCacheLanes|=s),h=y),r.memoizedState={parent:u,cache:h},su(r),Pn(r,it,h)):((n.lanes&s)!==0&&(lu(n,r),Sa(r,null,null,s),Ta()),h=n.memoizedState,y=r.memoizedState,h.parent!==u?(h={parent:u,cache:u},r.memoizedState=h,r.lanes===0&&(r.memoizedState=r.updateQueue.baseState=h),Pn(r,it,u)):(u=y.cache,Pn(r,it,u),u!==h.cache&&nu(r,[it],s,!0))),ft(n,r,r.pendingProps.children,s),r.child;case 29:throw r.pendingProps}throw Error(i(156,r.tag))}function An(n){n.flags|=4}function sm(n,r){if(r.type!=="stylesheet"||(r.state.loading&4)!==0)n.flags&=-16777217;else if(n.flags|=16777216,!pp(r)){if(r=Ht.current,r!==null&&((be&4194048)===be?tn!==null:(be&62914560)!==be&&(be&536870912)===0||r!==tn))throw va=ou,$d;n.flags|=8192}}function us(n,r){r!==null&&(n.flags|=4),n.flags&16384&&(r=n.tag!==22?qf():536870912,n.lanes|=r,gr|=r)}function Ra(n,r){if(!Ne)switch(n.tailMode){case"hidden":r=n.tail;for(var s=null;r!==null;)r.alternate!==null&&(s=r),r=r.sibling;s===null?n.tail=null:s.sibling=null;break;case"collapsed":s=n.tail;for(var u=null;s!==null;)s.alternate!==null&&(u=s),s=s.sibling;u===null?r||n.tail===null?n.tail=null:n.tail.sibling=null:u.sibling=null}}function $e(n){var r=n.alternate!==null&&n.alternate.child===n.child,s=0,u=0;if(r)for(var h=n.child;h!==null;)s|=h.lanes|h.childLanes,u|=h.subtreeFlags&65011712,u|=h.flags&65011712,h.return=n,h=h.sibling;else for(h=n.child;h!==null;)s|=h.lanes|h.childLanes,u|=h.subtreeFlags,u|=h.flags,h.return=n,h=h.sibling;return n.subtreeFlags|=u,n.childLanes=s,r}function C0(n,r,s){var u=r.pendingProps;switch(Wl(r),r.tag){case 31:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return $e(r),null;case 1:return $e(r),null;case 3:return s=r.stateNode,u=null,n!==null&&(u=n.memoizedState.cache),r.memoizedState.cache!==u&&(r.flags|=2048),Tn(it),Jt(),s.pendingContext&&(s.context=s.pendingContext,s.pendingContext=null),(n===null||n.child===null)&&(fa(r)?An(r):n===null||n.memoizedState.isDehydrated&&(r.flags&256)===0||(r.flags|=1024,qd())),$e(r),null;case 26:return s=r.memoizedState,n===null?(An(r),s!==null?($e(r),sm(r,s)):($e(r),r.flags&=-16777217)):s?s!==n.memoizedState?(An(r),$e(r),sm(r,s)):($e(r),r.flags&=-16777217):(n.memoizedProps!==u&&An(r),$e(r),r.flags&=-16777217),null;case 27:To(r),s=W.current;var h=r.type;if(n!==null&&r.stateNode!=null)n.memoizedProps!==u&&An(r);else{if(!u){if(r.stateNode===null)throw Error(i(166));return $e(r),null}n=Z.current,fa(r)?Pd(r):(n=sp(h,u,s),r.stateNode=n,An(r))}return $e(r),null;case 5:if(To(r),s=r.type,n!==null&&r.stateNode!=null)n.memoizedProps!==u&&An(r);else{if(!u){if(r.stateNode===null)throw Error(i(166));return $e(r),null}if(n=Z.current,fa(r))Pd(r);else{switch(h=Cs(W.current),n){case 1:n=h.createElementNS("http://www.w3.org/2000/svg",s);break;case 2:n=h.createElementNS("http://www.w3.org/1998/Math/MathML",s);break;default:switch(s){case"svg":n=h.createElementNS("http://www.w3.org/2000/svg",s);break;case"math":n=h.createElementNS("http://www.w3.org/1998/Math/MathML",s);break;case"script":n=h.createElement("div"),n.innerHTML="<script><\/script>",n=n.removeChild(n.firstChild);break;case"select":n=typeof u.is=="string"?h.createElement("select",{is:u.is}):h.createElement("select"),u.multiple?n.multiple=!0:u.size&&(n.size=u.size);break;default:n=typeof u.is=="string"?h.createElement(s,{is:u.is}):h.createElement(s)}}n[mt]=r,n[_t]=u;e:for(h=r.child;h!==null;){if(h.tag===5||h.tag===6)n.appendChild(h.stateNode);else if(h.tag!==4&&h.tag!==27&&h.child!==null){h.child.return=h,h=h.child;continue}if(h===r)break e;for(;h.sibling===null;){if(h.return===null||h.return===r)break e;h=h.return}h.sibling.return=h.return,h=h.sibling}r.stateNode=n;e:switch(ht(n,s,u),s){case"button":case"input":case"select":case"textarea":n=!!u.autoFocus;break e;case"img":n=!0;break e;default:n=!1}n&&An(r)}}return $e(r),r.flags&=-16777217,null;case 6:if(n&&r.stateNode!=null)n.memoizedProps!==u&&An(r);else{if(typeof u!="string"&&r.stateNode===null)throw Error(i(166));if(n=W.current,fa(r)){if(n=r.stateNode,s=r.memoizedProps,u=null,h=yt,h!==null)switch(h.tag){case 27:case 5:u=h.memoizedProps}n[mt]=r,n=!!(n.nodeValue===s||u!==null&&u.suppressHydrationWarning===!0||ep(n.nodeValue,s)),n||Ei(r)}else n=Cs(n).createTextNode(u),n[mt]=r,r.stateNode=n}return $e(r),null;case 13:if(u=r.memoizedState,n===null||n.memoizedState!==null&&n.memoizedState.dehydrated!==null){if(h=fa(r),u!==null&&u.dehydrated!==null){if(n===null){if(!h)throw Error(i(318));if(h=r.memoizedState,h=h!==null?h.dehydrated:null,!h)throw Error(i(317));h[mt]=r}else da(),(r.flags&128)===0&&(r.memoizedState=null),r.flags|=4;$e(r),h=!1}else h=qd(),n!==null&&n.memoizedState!==null&&(n.memoizedState.hydrationErrors=h),h=!0;if(!h)return r.flags&256?(Cn(r),r):(Cn(r),null)}if(Cn(r),(r.flags&128)!==0)return r.lanes=s,r;if(s=u!==null,n=n!==null&&n.memoizedState!==null,s){u=r.child,h=null,u.alternate!==null&&u.alternate.memoizedState!==null&&u.alternate.memoizedState.cachePool!==null&&(h=u.alternate.memoizedState.cachePool.pool);var y=null;u.memoizedState!==null&&u.memoizedState.cachePool!==null&&(y=u.memoizedState.cachePool.pool),y!==h&&(u.flags|=2048)}return s!==n&&s&&(r.child.flags|=8192),us(r,r.updateQueue),$e(r),null;case 4:return Jt(),n===null&&cc(r.stateNode.containerInfo),$e(r),null;case 10:return Tn(r.type),$e(r),null;case 19:if(Q(rt),h=r.memoizedState,h===null)return $e(r),null;if(u=(r.flags&128)!==0,y=h.rendering,y===null)if(u)Ra(h,!1);else{if(Ke!==0||n!==null&&(n.flags&128)!==0)for(n=r.child;n!==null;){if(y=rs(n),y!==null){for(r.flags|=128,Ra(h,!1),n=y.updateQueue,r.updateQueue=n,us(r,n),r.subtreeFlags=0,n=s,s=r.child;s!==null;)Od(s,n),s=s.sibling;return z(rt,rt.current&1|2),r.child}n=n.sibling}h.tail!==null&&jt()>ds&&(r.flags|=128,u=!0,Ra(h,!1),r.lanes=4194304)}else{if(!u)if(n=rs(y),n!==null){if(r.flags|=128,u=!0,n=n.updateQueue,r.updateQueue=n,us(r,n),Ra(h,!0),h.tail===null&&h.tailMode==="hidden"&&!y.alternate&&!Ne)return $e(r),null}else 2*jt()-h.renderingStartTime>ds&&s!==536870912&&(r.flags|=128,u=!0,Ra(h,!1),r.lanes=4194304);h.isBackwards?(y.sibling=r.child,r.child=y):(n=h.last,n!==null?n.sibling=y:r.child=y,h.last=y)}return h.tail!==null?(r=h.tail,h.rendering=r,h.tail=r.sibling,h.renderingStartTime=jt(),r.sibling=null,n=rt.current,z(rt,u?n&1|2:n&1),r):($e(r),null);case 22:case 23:return Cn(r),du(),u=r.memoizedState!==null,n!==null?n.memoizedState!==null!==u&&(r.flags|=8192):u&&(r.flags|=8192),u?(s&536870912)!==0&&(r.flags&128)===0&&($e(r),r.subtreeFlags&6&&(r.flags|=8192)):$e(r),s=r.updateQueue,s!==null&&us(r,s.retryQueue),s=null,n!==null&&n.memoizedState!==null&&n.memoizedState.cachePool!==null&&(s=n.memoizedState.cachePool.pool),u=null,r.memoizedState!==null&&r.memoizedState.cachePool!==null&&(u=r.memoizedState.cachePool.pool),u!==s&&(r.flags|=2048),n!==null&&Q(xi),null;case 24:return s=null,n!==null&&(s=n.memoizedState.cache),r.memoizedState.cache!==s&&(r.flags|=2048),Tn(it),$e(r),null;case 25:return null;case 30:return null}throw Error(i(156,r.tag))}function E0(n,r){switch(Wl(r),r.tag){case 1:return n=r.flags,n&65536?(r.flags=n&-65537|128,r):null;case 3:return Tn(it),Jt(),n=r.flags,(n&65536)!==0&&(n&128)===0?(r.flags=n&-65537|128,r):null;case 26:case 27:case 5:return To(r),null;case 13:if(Cn(r),n=r.memoizedState,n!==null&&n.dehydrated!==null){if(r.alternate===null)throw Error(i(340));da()}return n=r.flags,n&65536?(r.flags=n&-65537|128,r):null;case 19:return Q(rt),null;case 4:return Jt(),null;case 10:return Tn(r.type),null;case 22:case 23:return Cn(r),du(),n!==null&&Q(xi),n=r.flags,n&65536?(r.flags=n&-65537|128,r):null;case 24:return Tn(it),null;case 25:return null;default:return null}}function lm(n,r){switch(Wl(r),r.tag){case 3:Tn(it),Jt();break;case 26:case 27:case 5:To(r);break;case 4:Jt();break;case 13:Cn(r);break;case 19:Q(rt);break;case 10:Tn(r.type);break;case 22:case 23:Cn(r),du(),n!==null&&Q(xi);break;case 24:Tn(it)}}function Ma(n,r){try{var s=r.updateQueue,u=s!==null?s.lastEffect:null;if(u!==null){var h=u.next;s=h;do{if((s.tag&n)===n){u=void 0;var y=s.create,T=s.inst;u=y(),T.destroy=u}s=s.next}while(s!==h)}}catch(C){Ve(r,r.return,C)}}function $n(n,r,s){try{var u=r.updateQueue,h=u!==null?u.lastEffect:null;if(h!==null){var y=h.next;u=y;do{if((u.tag&n)===n){var T=u.inst,C=T.destroy;if(C!==void 0){T.destroy=void 0,h=r;var w=s,k=C;try{k()}catch(V){Ve(h,w,V)}}}u=u.next}while(u!==y)}}catch(V){Ve(r,r.return,V)}}function um(n){var r=n.updateQueue;if(r!==null){var s=n.stateNode;try{Xd(r,s)}catch(u){Ve(n,n.return,u)}}}function cm(n,r,s){s.props=Ri(n.type,n.memoizedProps),s.state=n.memoizedState;try{s.componentWillUnmount()}catch(u){Ve(n,r,u)}}function Da(n,r){try{var s=n.ref;if(s!==null){switch(n.tag){case 26:case 27:case 5:var u=n.stateNode;break;case 30:u=n.stateNode;break;default:u=n.stateNode}typeof s=="function"?n.refCleanup=s(u):s.current=u}}catch(h){Ve(n,r,h)}}function nn(n,r){var s=n.ref,u=n.refCleanup;if(s!==null)if(typeof u=="function")try{u()}catch(h){Ve(n,r,h)}finally{n.refCleanup=null,n=n.alternate,n!=null&&(n.refCleanup=null)}else if(typeof s=="function")try{s(null)}catch(h){Ve(n,r,h)}else s.current=null}function fm(n){var r=n.type,s=n.memoizedProps,u=n.stateNode;try{e:switch(r){case"button":case"input":case"select":case"textarea":s.autoFocus&&u.focus();break e;case"img":s.src?u.src=s.src:s.srcSet&&(u.srcset=s.srcSet)}}catch(h){Ve(n,n.return,h)}}function Bu(n,r,s){try{var u=n.stateNode;$0(u,n.type,s,r),u[_t]=r}catch(h){Ve(n,n.return,h)}}function dm(n){return n.tag===5||n.tag===3||n.tag===26||n.tag===27&&Wn(n.type)||n.tag===4}function zu(n){e:for(;;){for(;n.sibling===null;){if(n.return===null||dm(n.return))return null;n=n.return}for(n.sibling.return=n.return,n=n.sibling;n.tag!==5&&n.tag!==6&&n.tag!==18;){if(n.tag===27&&Wn(n.type)||n.flags&2||n.child===null||n.tag===4)continue e;n.child.return=n,n=n.child}if(!(n.flags&2))return n.stateNode}}function Gu(n,r,s){var u=n.tag;if(u===5||u===6)n=n.stateNode,r?(s.nodeType===9?s.body:s.nodeName==="HTML"?s.ownerDocument.body:s).insertBefore(n,r):(r=s.nodeType===9?s.body:s.nodeName==="HTML"?s.ownerDocument.body:s,r.appendChild(n),s=s._reactRootContainer,s!=null||r.onclick!==null||(r.onclick=Ss));else if(u!==4&&(u===27&&Wn(n.type)&&(s=n.stateNode,r=null),n=n.child,n!==null))for(Gu(n,r,s),n=n.sibling;n!==null;)Gu(n,r,s),n=n.sibling}function cs(n,r,s){var u=n.tag;if(u===5||u===6)n=n.stateNode,r?s.insertBefore(n,r):s.appendChild(n);else if(u!==4&&(u===27&&Wn(n.type)&&(s=n.stateNode),n=n.child,n!==null))for(cs(n,r,s),n=n.sibling;n!==null;)cs(n,r,s),n=n.sibling}function hm(n){var r=n.stateNode,s=n.memoizedProps;try{for(var u=n.type,h=r.attributes;h.length;)r.removeAttributeNode(h[0]);ht(r,u,s),r[mt]=n,r[_t]=s}catch(y){Ve(n,n.return,y)}}var wn=!1,We=!1,Hu=!1,mm=typeof WeakSet=="function"?WeakSet:Set,st=null;function A0(n,r){if(n=n.containerInfo,hc=Rs,n=wd(n),zl(n)){if("selectionStart"in n)var s={start:n.selectionStart,end:n.selectionEnd};else e:{s=(s=n.ownerDocument)&&s.defaultView||window;var u=s.getSelection&&s.getSelection();if(u&&u.rangeCount!==0){s=u.anchorNode;var h=u.anchorOffset,y=u.focusNode;u=u.focusOffset;try{s.nodeType,y.nodeType}catch{s=null;break e}var T=0,C=-1,w=-1,k=0,V=0,G=n,U=null;t:for(;;){for(var I;G!==s||h!==0&&G.nodeType!==3||(C=T+h),G!==y||u!==0&&G.nodeType!==3||(w=T+u),G.nodeType===3&&(T+=G.nodeValue.length),(I=G.firstChild)!==null;)U=G,G=I;for(;;){if(G===n)break t;if(U===s&&++k===h&&(C=T),U===y&&++V===u&&(w=T),(I=G.nextSibling)!==null)break;G=U,U=G.parentNode}G=I}s=C===-1||w===-1?null:{start:C,end:w}}else s=null}s=s||{start:0,end:0}}else s=null;for(mc={focusedElem:n,selectionRange:s},Rs=!1,st=r;st!==null;)if(r=st,n=r.child,(r.subtreeFlags&1024)!==0&&n!==null)n.return=r,st=n;else for(;st!==null;){switch(r=st,y=r.alternate,n=r.flags,r.tag){case 0:break;case 11:case 15:break;case 1:if((n&1024)!==0&&y!==null){n=void 0,s=r,h=y.memoizedProps,y=y.memoizedState,u=s.stateNode;try{var ce=Ri(s.type,h,s.elementType===s.type);n=u.getSnapshotBeforeUpdate(ce,y),u.__reactInternalSnapshotBeforeUpdate=n}catch(le){Ve(s,s.return,le)}}break;case 3:if((n&1024)!==0){if(n=r.stateNode.containerInfo,s=n.nodeType,s===9)yc(n);else if(s===1)switch(n.nodeName){case"HEAD":case"HTML":case"BODY":yc(n);break;default:n.textContent=""}}break;case 5:case 26:case 27:case 6:case 4:case 17:break;default:if((n&1024)!==0)throw Error(i(163))}if(n=r.sibling,n!==null){n.return=r.return,st=n;break}st=r.return}}function pm(n,r,s){var u=s.flags;switch(s.tag){case 0:case 11:case 15:Fn(n,s),u&4&&Ma(5,s);break;case 1:if(Fn(n,s),u&4)if(n=s.stateNode,r===null)try{n.componentDidMount()}catch(T){Ve(s,s.return,T)}else{var h=Ri(s.type,r.memoizedProps);r=r.memoizedState;try{n.componentDidUpdate(h,r,n.__reactInternalSnapshotBeforeUpdate)}catch(T){Ve(s,s.return,T)}}u&64&&um(s),u&512&&Da(s,s.return);break;case 3:if(Fn(n,s),u&64&&(n=s.updateQueue,n!==null)){if(r=null,s.child!==null)switch(s.child.tag){case 27:case 5:r=s.child.stateNode;break;case 1:r=s.child.stateNode}try{Xd(n,r)}catch(T){Ve(s,s.return,T)}}break;case 27:r===null&&u&4&&hm(s);case 26:case 5:Fn(n,s),r===null&&u&4&&fm(s),u&512&&Da(s,s.return);break;case 12:Fn(n,s);break;case 13:Fn(n,s),u&4&&vm(n,s),u&64&&(n=s.memoizedState,n!==null&&(n=n.dehydrated,n!==null&&(s=U0.bind(null,s),Q0(n,s))));break;case 22:if(u=s.memoizedState!==null||wn,!u){r=r!==null&&r.memoizedState!==null||We,h=wn;var y=We;wn=u,(We=r)&&!y?Yn(n,s,(s.subtreeFlags&8772)!==0):Fn(n,s),wn=h,We=y}break;case 30:break;default:Fn(n,s)}}function gm(n){var r=n.alternate;r!==null&&(n.alternate=null,gm(r)),n.child=null,n.deletions=null,n.sibling=null,n.tag===5&&(r=n.stateNode,r!==null&&Cl(r)),n.stateNode=null,n.return=null,n.dependencies=null,n.memoizedProps=null,n.memoizedState=null,n.pendingProps=null,n.stateNode=null,n.updateQueue=null}var He=null,Ct=!1;function xn(n,r,s){for(s=s.child;s!==null;)ym(n,r,s),s=s.sibling}function ym(n,r,s){if(xt&&typeof xt.onCommitFiberUnmount=="function")try{xt.onCommitFiberUnmount(Qr,s)}catch{}switch(s.tag){case 26:We||nn(s,r),xn(n,r,s),s.memoizedState?s.memoizedState.count--:s.stateNode&&(s=s.stateNode,s.parentNode.removeChild(s));break;case 27:We||nn(s,r);var u=He,h=Ct;Wn(s.type)&&(He=s.stateNode,Ct=!1),xn(n,r,s),qa(s.stateNode),He=u,Ct=h;break;case 5:We||nn(s,r);case 6:if(u=He,h=Ct,He=null,xn(n,r,s),He=u,Ct=h,He!==null)if(Ct)try{(He.nodeType===9?He.body:He.nodeName==="HTML"?He.ownerDocument.body:He).removeChild(s.stateNode)}catch(y){Ve(s,r,y)}else try{He.removeChild(s.stateNode)}catch(y){Ve(s,r,y)}break;case 18:He!==null&&(Ct?(n=He,ap(n.nodeType===9?n.body:n.nodeName==="HTML"?n.ownerDocument.body:n,s.stateNode),Ja(n)):ap(He,s.stateNode));break;case 4:u=He,h=Ct,He=s.stateNode.containerInfo,Ct=!0,xn(n,r,s),He=u,Ct=h;break;case 0:case 11:case 14:case 15:We||$n(2,s,r),We||$n(4,s,r),xn(n,r,s);break;case 1:We||(nn(s,r),u=s.stateNode,typeof u.componentWillUnmount=="function"&&cm(s,r,u)),xn(n,r,s);break;case 21:xn(n,r,s);break;case 22:We=(u=We)||s.memoizedState!==null,xn(n,r,s),We=u;break;default:xn(n,r,s)}}function vm(n,r){if(r.memoizedState===null&&(n=r.alternate,n!==null&&(n=n.memoizedState,n!==null&&(n=n.dehydrated,n!==null))))try{Ja(n)}catch(s){Ve(r,r.return,s)}}function w0(n){switch(n.tag){case 13:case 19:var r=n.stateNode;return r===null&&(r=n.stateNode=new mm),r;case 22:return n=n.stateNode,r=n._retryCache,r===null&&(r=n._retryCache=new mm),r;default:throw Error(i(435,n.tag))}}function $u(n,r){var s=w0(n);r.forEach(function(u){var h=I0.bind(null,n,u);s.has(u)||(s.add(u),u.then(h,h))})}function Dt(n,r){var s=r.deletions;if(s!==null)for(var u=0;u<s.length;u++){var h=s[u],y=n,T=r,C=T;e:for(;C!==null;){switch(C.tag){case 27:if(Wn(C.type)){He=C.stateNode,Ct=!1;break e}break;case 5:He=C.stateNode,Ct=!1;break e;case 3:case 4:He=C.stateNode.containerInfo,Ct=!0;break e}C=C.return}if(He===null)throw Error(i(160));ym(y,T,h),He=null,Ct=!1,y=h.alternate,y!==null&&(y.return=null),h.return=null}if(r.subtreeFlags&13878)for(r=r.child;r!==null;)_m(r,n),r=r.sibling}var Kt=null;function _m(n,r){var s=n.alternate,u=n.flags;switch(n.tag){case 0:case 11:case 14:case 15:Dt(r,n),Nt(n),u&4&&($n(3,n,n.return),Ma(3,n),$n(5,n,n.return));break;case 1:Dt(r,n),Nt(n),u&512&&(We||s===null||nn(s,s.return)),u&64&&wn&&(n=n.updateQueue,n!==null&&(u=n.callbacks,u!==null&&(s=n.shared.hiddenCallbacks,n.shared.hiddenCallbacks=s===null?u:s.concat(u))));break;case 26:var h=Kt;if(Dt(r,n),Nt(n),u&512&&(We||s===null||nn(s,s.return)),u&4){var y=s!==null?s.memoizedState:null;if(u=n.memoizedState,s===null)if(u===null)if(n.stateNode===null){e:{u=n.type,s=n.memoizedProps,h=h.ownerDocument||h;t:switch(u){case"title":y=h.getElementsByTagName("title")[0],(!y||y[ea]||y[mt]||y.namespaceURI==="http://www.w3.org/2000/svg"||y.hasAttribute("itemprop"))&&(y=h.createElement(u),h.head.insertBefore(y,h.querySelector("head > title"))),ht(y,u,s),y[mt]=n,at(y),u=y;break e;case"link":var T=hp("link","href",h).get(u+(s.href||""));if(T){for(var C=0;C<T.length;C++)if(y=T[C],y.getAttribute("href")===(s.href==null||s.href===""?null:s.href)&&y.getAttribute("rel")===(s.rel==null?null:s.rel)&&y.getAttribute("title")===(s.title==null?null:s.title)&&y.getAttribute("crossorigin")===(s.crossOrigin==null?null:s.crossOrigin)){T.splice(C,1);break t}}y=h.createElement(u),ht(y,u,s),h.head.appendChild(y);break;case"meta":if(T=hp("meta","content",h).get(u+(s.content||""))){for(C=0;C<T.length;C++)if(y=T[C],y.getAttribute("content")===(s.content==null?null:""+s.content)&&y.getAttribute("name")===(s.name==null?null:s.name)&&y.getAttribute("property")===(s.property==null?null:s.property)&&y.getAttribute("http-equiv")===(s.httpEquiv==null?null:s.httpEquiv)&&y.getAttribute("charset")===(s.charSet==null?null:s.charSet)){T.splice(C,1);break t}}y=h.createElement(u),ht(y,u,s),h.head.appendChild(y);break;default:throw Error(i(468,u))}y[mt]=n,at(y),u=y}n.stateNode=u}else mp(h,n.type,n.stateNode);else n.stateNode=dp(h,u,n.memoizedProps);else y!==u?(y===null?s.stateNode!==null&&(s=s.stateNode,s.parentNode.removeChild(s)):y.count--,u===null?mp(h,n.type,n.stateNode):dp(h,u,n.memoizedProps)):u===null&&n.stateNode!==null&&Bu(n,n.memoizedProps,s.memoizedProps)}break;case 27:Dt(r,n),Nt(n),u&512&&(We||s===null||nn(s,s.return)),s!==null&&u&4&&Bu(n,n.memoizedProps,s.memoizedProps);break;case 5:if(Dt(r,n),Nt(n),u&512&&(We||s===null||nn(s,s.return)),n.flags&32){h=n.stateNode;try{Zi(h,"")}catch(I){Ve(n,n.return,I)}}u&4&&n.stateNode!=null&&(h=n.memoizedProps,Bu(n,h,s!==null?s.memoizedProps:h)),u&1024&&(Hu=!0);break;case 6:if(Dt(r,n),Nt(n),u&4){if(n.stateNode===null)throw Error(i(162));u=n.memoizedProps,s=n.stateNode;try{s.nodeValue=u}catch(I){Ve(n,n.return,I)}}break;case 3:if(ws=null,h=Kt,Kt=Es(r.containerInfo),Dt(r,n),Kt=h,Nt(n),u&4&&s!==null&&s.memoizedState.isDehydrated)try{Ja(r.containerInfo)}catch(I){Ve(n,n.return,I)}Hu&&(Hu=!1,Tm(n));break;case 4:u=Kt,Kt=Es(n.stateNode.containerInfo),Dt(r,n),Nt(n),Kt=u;break;case 12:Dt(r,n),Nt(n);break;case 13:Dt(r,n),Nt(n),n.child.flags&8192&&n.memoizedState!==null!=(s!==null&&s.memoizedState!==null)&&(Xu=jt()),u&4&&(u=n.updateQueue,u!==null&&(n.updateQueue=null,$u(n,u)));break;case 22:h=n.memoizedState!==null;var w=s!==null&&s.memoizedState!==null,k=wn,V=We;if(wn=k||h,We=V||w,Dt(r,n),We=V,wn=k,Nt(n),u&8192)e:for(r=n.stateNode,r._visibility=h?r._visibility&-2:r._visibility|1,h&&(s===null||w||wn||We||Mi(n)),s=null,r=n;;){if(r.tag===5||r.tag===26){if(s===null){w=s=r;try{if(y=w.stateNode,h)T=y.style,typeof T.setProperty=="function"?T.setProperty("display","none","important"):T.display="none";else{C=w.stateNode;var G=w.memoizedProps.style,U=G!=null&&G.hasOwnProperty("display")?G.display:null;C.style.display=U==null||typeof U=="boolean"?"":(""+U).trim()}}catch(I){Ve(w,w.return,I)}}}else if(r.tag===6){if(s===null){w=r;try{w.stateNode.nodeValue=h?"":w.memoizedProps}catch(I){Ve(w,w.return,I)}}}else if((r.tag!==22&&r.tag!==23||r.memoizedState===null||r===n)&&r.child!==null){r.child.return=r,r=r.child;continue}if(r===n)break e;for(;r.sibling===null;){if(r.return===null||r.return===n)break e;s===r&&(s=null),r=r.return}s===r&&(s=null),r.sibling.return=r.return,r=r.sibling}u&4&&(u=n.updateQueue,u!==null&&(s=u.retryQueue,s!==null&&(u.retryQueue=null,$u(n,s))));break;case 19:Dt(r,n),Nt(n),u&4&&(u=n.updateQueue,u!==null&&(n.updateQueue=null,$u(n,u)));break;case 30:break;case 21:break;default:Dt(r,n),Nt(n)}}function Nt(n){var r=n.flags;if(r&2){try{for(var s,u=n.return;u!==null;){if(dm(u)){s=u;break}u=u.return}if(s==null)throw Error(i(160));switch(s.tag){case 27:var h=s.stateNode,y=zu(n);cs(n,y,h);break;case 5:var T=s.stateNode;s.flags&32&&(Zi(T,""),s.flags&=-33);var C=zu(n);cs(n,C,T);break;case 3:case 4:var w=s.stateNode.containerInfo,k=zu(n);Gu(n,k,w);break;default:throw Error(i(161))}}catch(V){Ve(n,n.return,V)}n.flags&=-3}r&4096&&(n.flags&=-4097)}function Tm(n){if(n.subtreeFlags&1024)for(n=n.child;n!==null;){var r=n;Tm(r),r.tag===5&&r.flags&1024&&r.stateNode.reset(),n=n.sibling}}function Fn(n,r){if(r.subtreeFlags&8772)for(r=r.child;r!==null;)pm(n,r.alternate,r),r=r.sibling}function Mi(n){for(n=n.child;n!==null;){var r=n;switch(r.tag){case 0:case 11:case 14:case 15:$n(4,r,r.return),Mi(r);break;case 1:nn(r,r.return);var s=r.stateNode;typeof s.componentWillUnmount=="function"&&cm(r,r.return,s),Mi(r);break;case 27:qa(r.stateNode);case 26:case 5:nn(r,r.return),Mi(r);break;case 22:r.memoizedState===null&&Mi(r);break;case 30:Mi(r);break;default:Mi(r)}n=n.sibling}}function Yn(n,r,s){for(s=s&&(r.subtreeFlags&8772)!==0,r=r.child;r!==null;){var u=r.alternate,h=n,y=r,T=y.flags;switch(y.tag){case 0:case 11:case 15:Yn(h,y,s),Ma(4,y);break;case 1:if(Yn(h,y,s),u=y,h=u.stateNode,typeof h.componentDidMount=="function")try{h.componentDidMount()}catch(k){Ve(u,u.return,k)}if(u=y,h=u.updateQueue,h!==null){var C=u.stateNode;try{var w=h.shared.hiddenCallbacks;if(w!==null)for(h.shared.hiddenCallbacks=null,h=0;h<w.length;h++)Kd(w[h],C)}catch(k){Ve(u,u.return,k)}}s&&T&64&&um(y),Da(y,y.return);break;case 27:hm(y);case 26:case 5:Yn(h,y,s),s&&u===null&&T&4&&fm(y),Da(y,y.return);break;case 12:Yn(h,y,s);break;case 13:Yn(h,y,s),s&&T&4&&vm(h,y);break;case 22:y.memoizedState===null&&Yn(h,y,s),Da(y,y.return);break;case 30:break;default:Yn(h,y,s)}r=r.sibling}}function Fu(n,r){var s=null;n!==null&&n.memoizedState!==null&&n.memoizedState.cachePool!==null&&(s=n.memoizedState.cachePool.pool),n=null,r.memoizedState!==null&&r.memoizedState.cachePool!==null&&(n=r.memoizedState.cachePool.pool),n!==s&&(n!=null&&n.refCount++,s!=null&&pa(s))}function Yu(n,r){n=null,r.alternate!==null&&(n=r.alternate.memoizedState.cache),r=r.memoizedState.cache,r!==n&&(r.refCount++,n!=null&&pa(n))}function rn(n,r,s,u){if(r.subtreeFlags&10256)for(r=r.child;r!==null;)Sm(n,r,s,u),r=r.sibling}function Sm(n,r,s,u){var h=r.flags;switch(r.tag){case 0:case 11:case 15:rn(n,r,s,u),h&2048&&Ma(9,r);break;case 1:rn(n,r,s,u);break;case 3:rn(n,r,s,u),h&2048&&(n=null,r.alternate!==null&&(n=r.alternate.memoizedState.cache),r=r.memoizedState.cache,r!==n&&(r.refCount++,n!=null&&pa(n)));break;case 12:if(h&2048){rn(n,r,s,u),n=r.stateNode;try{var y=r.memoizedProps,T=y.id,C=y.onPostCommit;typeof C=="function"&&C(T,r.alternate===null?"mount":"update",n.passiveEffectDuration,-0)}catch(w){Ve(r,r.return,w)}}else rn(n,r,s,u);break;case 13:rn(n,r,s,u);break;case 23:break;case 22:y=r.stateNode,T=r.alternate,r.memoizedState!==null?y._visibility&2?rn(n,r,s,u):Na(n,r):y._visibility&2?rn(n,r,s,u):(y._visibility|=2,hr(n,r,s,u,(r.subtreeFlags&10256)!==0)),h&2048&&Fu(T,r);break;case 24:rn(n,r,s,u),h&2048&&Yu(r.alternate,r);break;default:rn(n,r,s,u)}}function hr(n,r,s,u,h){for(h=h&&(r.subtreeFlags&10256)!==0,r=r.child;r!==null;){var y=n,T=r,C=s,w=u,k=T.flags;switch(T.tag){case 0:case 11:case 15:hr(y,T,C,w,h),Ma(8,T);break;case 23:break;case 22:var V=T.stateNode;T.memoizedState!==null?V._visibility&2?hr(y,T,C,w,h):Na(y,T):(V._visibility|=2,hr(y,T,C,w,h)),h&&k&2048&&Fu(T.alternate,T);break;case 24:hr(y,T,C,w,h),h&&k&2048&&Yu(T.alternate,T);break;default:hr(y,T,C,w,h)}r=r.sibling}}function Na(n,r){if(r.subtreeFlags&10256)for(r=r.child;r!==null;){var s=n,u=r,h=u.flags;switch(u.tag){case 22:Na(s,u),h&2048&&Fu(u.alternate,u);break;case 24:Na(s,u),h&2048&&Yu(u.alternate,u);break;default:Na(s,u)}r=r.sibling}}var ka=8192;function mr(n){if(n.subtreeFlags&ka)for(n=n.child;n!==null;)Cm(n),n=n.sibling}function Cm(n){switch(n.tag){case 26:mr(n),n.flags&ka&&n.memoizedState!==null&&cT(Kt,n.memoizedState,n.memoizedProps);break;case 5:mr(n);break;case 3:case 4:var r=Kt;Kt=Es(n.stateNode.containerInfo),mr(n),Kt=r;break;case 22:n.memoizedState===null&&(r=n.alternate,r!==null&&r.memoizedState!==null?(r=ka,ka=16777216,mr(n),ka=r):mr(n));break;default:mr(n)}}function Em(n){var r=n.alternate;if(r!==null&&(n=r.child,n!==null)){r.child=null;do r=n.sibling,n.sibling=null,n=r;while(n!==null)}}function Ua(n){var r=n.deletions;if((n.flags&16)!==0){if(r!==null)for(var s=0;s<r.length;s++){var u=r[s];st=u,wm(u,n)}Em(n)}if(n.subtreeFlags&10256)for(n=n.child;n!==null;)Am(n),n=n.sibling}function Am(n){switch(n.tag){case 0:case 11:case 15:Ua(n),n.flags&2048&&$n(9,n,n.return);break;case 3:Ua(n);break;case 12:Ua(n);break;case 22:var r=n.stateNode;n.memoizedState!==null&&r._visibility&2&&(n.return===null||n.return.tag!==13)?(r._visibility&=-3,fs(n)):Ua(n);break;default:Ua(n)}}function fs(n){var r=n.deletions;if((n.flags&16)!==0){if(r!==null)for(var s=0;s<r.length;s++){var u=r[s];st=u,wm(u,n)}Em(n)}for(n=n.child;n!==null;){switch(r=n,r.tag){case 0:case 11:case 15:$n(8,r,r.return),fs(r);break;case 22:s=r.stateNode,s._visibility&2&&(s._visibility&=-3,fs(r));break;default:fs(r)}n=n.sibling}}function wm(n,r){for(;st!==null;){var s=st;switch(s.tag){case 0:case 11:case 15:$n(8,s,r);break;case 23:case 22:if(s.memoizedState!==null&&s.memoizedState.cachePool!==null){var u=s.memoizedState.cachePool.pool;u!=null&&u.refCount++}break;case 24:pa(s.memoizedState.cache)}if(u=s.child,u!==null)u.return=s,st=u;else e:for(s=n;st!==null;){u=st;var h=u.sibling,y=u.return;if(gm(u),u===s){st=null;break e}if(h!==null){h.return=y,st=h;break e}st=y}}}var x0={getCacheForType:function(n){var r=pt(it),s=r.data.get(n);return s===void 0&&(s=n(),r.data.set(n,s)),s}},b0=typeof WeakMap=="function"?WeakMap:Map,Ue=0,qe=null,Ce=null,be=0,Ie=0,kt=null,Jn=!1,pr=!1,Ju=!1,bn=0,Ke=0,Zn=0,Di=0,Zu=0,$t=0,gr=0,Ia=null,Et=null,Ku=!1,Xu=0,ds=1/0,hs=null,Kn=null,dt=0,Xn=null,yr=null,vr=0,Qu=0,Wu=null,xm=null,Oa=0,ju=null;function Ut(){if((Ue&2)!==0&&be!==0)return be&-be;if(P.T!==null){var n=ar;return n!==0?n:oc()}return Gf()}function bm(){$t===0&&($t=(be&536870912)===0||Ne?Vf():536870912);var n=Ht.current;return n!==null&&(n.flags|=32),$t}function It(n,r,s){(n===qe&&(Ie===2||Ie===9)||n.cancelPendingCommit!==null)&&(_r(n,0),Qn(n,be,$t,!1)),jr(n,s),((Ue&2)===0||n!==qe)&&(n===qe&&((Ue&2)===0&&(Di|=s),Ke===4&&Qn(n,be,$t,!1)),an(n))}function Rm(n,r,s){if((Ue&6)!==0)throw Error(i(327));var u=!s&&(r&124)===0&&(r&n.expiredLanes)===0||Wr(n,r),h=u?D0(n,r):nc(n,r,!0),y=u;do{if(h===0){pr&&!u&&Qn(n,r,0,!1);break}else{if(s=n.current.alternate,y&&!R0(s)){h=nc(n,r,!1),y=!1;continue}if(h===2){if(y=r,n.errorRecoveryDisabledLanes&y)var T=0;else T=n.pendingLanes&-536870913,T=T!==0?T:T&536870912?536870912:0;if(T!==0){r=T;e:{var C=n;h=Ia;var w=C.current.memoizedState.isDehydrated;if(w&&(_r(C,T).flags|=256),T=nc(C,T,!1),T!==2){if(Ju&&!w){C.errorRecoveryDisabledLanes|=y,Di|=y,h=4;break e}y=Et,Et=h,y!==null&&(Et===null?Et=y:Et.push.apply(Et,y))}h=T}if(y=!1,h!==2)continue}}if(h===1){_r(n,0),Qn(n,r,0,!0);break}e:{switch(u=n,y=h,y){case 0:case 1:throw Error(i(345));case 4:if((r&4194048)!==r)break;case 6:Qn(u,r,$t,!Jn);break e;case 2:Et=null;break;case 3:case 5:break;default:throw Error(i(329))}if((r&62914560)===r&&(h=Xu+300-jt(),10<h)){if(Qn(u,r,$t,!Jn),Ao(u,0,!0)!==0)break e;u.timeoutHandle=ip(Mm.bind(null,u,s,Et,hs,Ku,r,$t,Di,gr,Jn,y,2,-0,0),h);break e}Mm(u,s,Et,hs,Ku,r,$t,Di,gr,Jn,y,0,-0,0)}}break}while(!0);an(n)}function Mm(n,r,s,u,h,y,T,C,w,k,V,G,U,I){if(n.timeoutHandle=-1,G=r.subtreeFlags,(G&8192||(G&16785408)===16785408)&&(Ga={stylesheets:null,count:0,unsuspend:uT},Cm(r),G=fT(),G!==null)){n.cancelPendingCommit=G(Lm.bind(null,n,r,y,s,u,h,T,C,w,V,1,U,I)),Qn(n,y,T,!k);return}Lm(n,r,y,s,u,h,T,C,w)}function R0(n){for(var r=n;;){var s=r.tag;if((s===0||s===11||s===15)&&r.flags&16384&&(s=r.updateQueue,s!==null&&(s=s.stores,s!==null)))for(var u=0;u<s.length;u++){var h=s[u],y=h.getSnapshot;h=h.value;try{if(!Rt(y(),h))return!1}catch{return!1}}if(s=r.child,r.subtreeFlags&16384&&s!==null)s.return=r,r=s;else{if(r===n)break;for(;r.sibling===null;){if(r.return===null||r.return===n)return!0;r=r.return}r.sibling.return=r.return,r=r.sibling}}return!0}function Qn(n,r,s,u){r&=~Zu,r&=~Di,n.suspendedLanes|=r,n.pingedLanes&=~r,u&&(n.warmLanes|=r),u=n.expirationTimes;for(var h=r;0<h;){var y=31-bt(h),T=1<<y;u[y]=-1,h&=~T}s!==0&&Bf(n,s,r)}function ms(){return(Ue&6)===0?(La(0),!1):!0}function ec(){if(Ce!==null){if(Ie===0)var n=Ce.return;else n=Ce,_n=Ai=null,yu(n),fr=null,xa=0,n=Ce;for(;n!==null;)lm(n.alternate,n),n=n.return;Ce=null}}function _r(n,r){var s=n.timeoutHandle;s!==-1&&(n.timeoutHandle=-1,Y0(s)),s=n.cancelPendingCommit,s!==null&&(n.cancelPendingCommit=null,s()),ec(),qe=n,Ce=s=gn(n.current,null),be=r,Ie=0,kt=null,Jn=!1,pr=Wr(n,r),Ju=!1,gr=$t=Zu=Di=Zn=Ke=0,Et=Ia=null,Ku=!1,(r&8)!==0&&(r|=r&32);var u=n.entangledLanes;if(u!==0)for(n=n.entanglements,u&=r;0<u;){var h=31-bt(u),y=1<<h;r|=n[h],u&=~y}return bn=r,Lo(),s}function Dm(n,r){Te=null,P.H=ts,r===ya||r===Fo?(r=Jd(),Ie=3):r===$d?(r=Jd(),Ie=4):Ie=r===Zh?8:r!==null&&typeof r=="object"&&typeof r.then=="function"?6:1,kt=r,Ce===null&&(Ke=1,os(n,qt(r,n.current)))}function Nm(){var n=P.H;return P.H=ts,n===null?ts:n}function km(){var n=P.A;return P.A=x0,n}function tc(){Ke=4,Jn||(be&4194048)!==be&&Ht.current!==null||(pr=!0),(Zn&134217727)===0&&(Di&134217727)===0||qe===null||Qn(qe,be,$t,!1)}function nc(n,r,s){var u=Ue;Ue|=2;var h=Nm(),y=km();(qe!==n||be!==r)&&(hs=null,_r(n,r)),r=!1;var T=Ke;e:do try{if(Ie!==0&&Ce!==null){var C=Ce,w=kt;switch(Ie){case 8:ec(),T=6;break e;case 3:case 2:case 9:case 6:Ht.current===null&&(r=!0);var k=Ie;if(Ie=0,kt=null,Tr(n,C,w,k),s&&pr){T=0;break e}break;default:k=Ie,Ie=0,kt=null,Tr(n,C,w,k)}}M0(),T=Ke;break}catch(V){Dm(n,V)}while(!0);return r&&n.shellSuspendCounter++,_n=Ai=null,Ue=u,P.H=h,P.A=y,Ce===null&&(qe=null,be=0,Lo()),T}function M0(){for(;Ce!==null;)Um(Ce)}function D0(n,r){var s=Ue;Ue|=2;var u=Nm(),h=km();qe!==n||be!==r?(hs=null,ds=jt()+500,_r(n,r)):pr=Wr(n,r);e:do try{if(Ie!==0&&Ce!==null){r=Ce;var y=kt;t:switch(Ie){case 1:Ie=0,kt=null,Tr(n,r,y,1);break;case 2:case 9:if(Fd(y)){Ie=0,kt=null,Im(r);break}r=function(){Ie!==2&&Ie!==9||qe!==n||(Ie=7),an(n)},y.then(r,r);break e;case 3:Ie=7;break e;case 4:Ie=5;break e;case 7:Fd(y)?(Ie=0,kt=null,Im(r)):(Ie=0,kt=null,Tr(n,r,y,7));break;case 5:var T=null;switch(Ce.tag){case 26:T=Ce.memoizedState;case 5:case 27:var C=Ce;if(!T||pp(T)){Ie=0,kt=null;var w=C.sibling;if(w!==null)Ce=w;else{var k=C.return;k!==null?(Ce=k,ps(k)):Ce=null}break t}}Ie=0,kt=null,Tr(n,r,y,5);break;case 6:Ie=0,kt=null,Tr(n,r,y,6);break;case 8:ec(),Ke=6;break e;default:throw Error(i(462))}}N0();break}catch(V){Dm(n,V)}while(!0);return _n=Ai=null,P.H=u,P.A=h,Ue=s,Ce!==null?0:(qe=null,be=0,Lo(),Ke)}function N0(){for(;Ce!==null&&!jv();)Um(Ce)}function Um(n){var r=om(n.alternate,n,bn);n.memoizedProps=n.pendingProps,r===null?ps(n):Ce=r}function Im(n){var r=n,s=r.alternate;switch(r.tag){case 15:case 0:r=em(s,r,r.pendingProps,r.type,void 0,be);break;case 11:r=em(s,r,r.pendingProps,r.type.render,r.ref,be);break;case 5:yu(r);default:lm(s,r),r=Ce=Od(r,bn),r=om(s,r,bn)}n.memoizedProps=n.pendingProps,r===null?ps(n):Ce=r}function Tr(n,r,s,u){_n=Ai=null,yu(r),fr=null,xa=0;var h=r.return;try{if(T0(n,h,r,s,be)){Ke=1,os(n,qt(s,n.current)),Ce=null;return}}catch(y){if(h!==null)throw Ce=h,y;Ke=1,os(n,qt(s,n.current)),Ce=null;return}r.flags&32768?(Ne||u===1?n=!0:pr||(be&536870912)!==0?n=!1:(Jn=n=!0,(u===2||u===9||u===3||u===6)&&(u=Ht.current,u!==null&&u.tag===13&&(u.flags|=16384))),Om(r,n)):ps(r)}function ps(n){var r=n;do{if((r.flags&32768)!==0){Om(r,Jn);return}n=r.return;var s=C0(r.alternate,r,bn);if(s!==null){Ce=s;return}if(r=r.sibling,r!==null){Ce=r;return}Ce=r=n}while(r!==null);Ke===0&&(Ke=5)}function Om(n,r){do{var s=E0(n.alternate,n);if(s!==null){s.flags&=32767,Ce=s;return}if(s=n.return,s!==null&&(s.flags|=32768,s.subtreeFlags=0,s.deletions=null),!r&&(n=n.sibling,n!==null)){Ce=n;return}Ce=n=s}while(n!==null);Ke=6,Ce=null}function Lm(n,r,s,u,h,y,T,C,w){n.cancelPendingCommit=null;do gs();while(dt!==0);if((Ue&6)!==0)throw Error(i(327));if(r!==null){if(r===n.current)throw Error(i(177));if(y=r.lanes|r.childLanes,y|=Yl,u_(n,s,y,T,C,w),n===qe&&(Ce=qe=null,be=0),yr=r,Xn=n,vr=s,Qu=y,Wu=h,xm=u,(r.subtreeFlags&10256)!==0||(r.flags&10256)!==0?(n.callbackNode=null,n.callbackPriority=0,O0(So,function(){return zm(),null})):(n.callbackNode=null,n.callbackPriority=0),u=(r.flags&13878)!==0,(r.subtreeFlags&13878)!==0||u){u=P.T,P.T=null,h=K.p,K.p=2,T=Ue,Ue|=4;try{A0(n,r,s)}finally{Ue=T,K.p=h,P.T=u}}dt=1,Pm(),Vm(),qm()}}function Pm(){if(dt===1){dt=0;var n=Xn,r=yr,s=(r.flags&13878)!==0;if((r.subtreeFlags&13878)!==0||s){s=P.T,P.T=null;var u=K.p;K.p=2;var h=Ue;Ue|=4;try{_m(r,n);var y=mc,T=wd(n.containerInfo),C=y.focusedElem,w=y.selectionRange;if(T!==C&&C&&C.ownerDocument&&Ad(C.ownerDocument.documentElement,C)){if(w!==null&&zl(C)){var k=w.start,V=w.end;if(V===void 0&&(V=k),"selectionStart"in C)C.selectionStart=k,C.selectionEnd=Math.min(V,C.value.length);else{var G=C.ownerDocument||document,U=G&&G.defaultView||window;if(U.getSelection){var I=U.getSelection(),ce=C.textContent.length,le=Math.min(w.start,ce),Pe=w.end===void 0?le:Math.min(w.end,ce);!I.extend&&le>Pe&&(T=Pe,Pe=le,le=T);var M=Ed(C,le),R=Ed(C,Pe);if(M&&R&&(I.rangeCount!==1||I.anchorNode!==M.node||I.anchorOffset!==M.offset||I.focusNode!==R.node||I.focusOffset!==R.offset)){var D=G.createRange();D.setStart(M.node,M.offset),I.removeAllRanges(),le>Pe?(I.addRange(D),I.extend(R.node,R.offset)):(D.setEnd(R.node,R.offset),I.addRange(D))}}}}for(G=[],I=C;I=I.parentNode;)I.nodeType===1&&G.push({element:I,left:I.scrollLeft,top:I.scrollTop});for(typeof C.focus=="function"&&C.focus(),C=0;C<G.length;C++){var B=G[C];B.element.scrollLeft=B.left,B.element.scrollTop=B.top}}Rs=!!hc,mc=hc=null}finally{Ue=h,K.p=u,P.T=s}}n.current=r,dt=2}}function Vm(){if(dt===2){dt=0;var n=Xn,r=yr,s=(r.flags&8772)!==0;if((r.subtreeFlags&8772)!==0||s){s=P.T,P.T=null;var u=K.p;K.p=2;var h=Ue;Ue|=4;try{pm(n,r.alternate,r)}finally{Ue=h,K.p=u,P.T=s}}dt=3}}function qm(){if(dt===4||dt===3){dt=0,e_();var n=Xn,r=yr,s=vr,u=xm;(r.subtreeFlags&10256)!==0||(r.flags&10256)!==0?dt=5:(dt=0,yr=Xn=null,Bm(n,n.pendingLanes));var h=n.pendingLanes;if(h===0&&(Kn=null),Tl(s),r=r.stateNode,xt&&typeof xt.onCommitFiberRoot=="function")try{xt.onCommitFiberRoot(Qr,r,void 0,(r.current.flags&128)===128)}catch{}if(u!==null){r=P.T,h=K.p,K.p=2,P.T=null;try{for(var y=n.onRecoverableError,T=0;T<u.length;T++){var C=u[T];y(C.value,{componentStack:C.stack})}}finally{P.T=r,K.p=h}}(vr&3)!==0&&gs(),an(n),h=n.pendingLanes,(s&4194090)!==0&&(h&42)!==0?n===ju?Oa++:(Oa=0,ju=n):Oa=0,La(0)}}function Bm(n,r){(n.pooledCacheLanes&=r)===0&&(r=n.pooledCache,r!=null&&(n.pooledCache=null,pa(r)))}function gs(n){return Pm(),Vm(),qm(),zm()}function zm(){if(dt!==5)return!1;var n=Xn,r=Qu;Qu=0;var s=Tl(vr),u=P.T,h=K.p;try{K.p=32>s?32:s,P.T=null,s=Wu,Wu=null;var y=Xn,T=vr;if(dt=0,yr=Xn=null,vr=0,(Ue&6)!==0)throw Error(i(331));var C=Ue;if(Ue|=4,Am(y.current),Sm(y,y.current,T,s),Ue=C,La(0,!1),xt&&typeof xt.onPostCommitFiberRoot=="function")try{xt.onPostCommitFiberRoot(Qr,y)}catch{}return!0}finally{K.p=h,P.T=u,Bm(n,r)}}function Gm(n,r,s){r=qt(s,r),r=Nu(n.stateNode,r,2),n=Bn(n,r,2),n!==null&&(jr(n,2),an(n))}function Ve(n,r,s){if(n.tag===3)Gm(n,n,s);else for(;r!==null;){if(r.tag===3){Gm(r,n,s);break}else if(r.tag===1){var u=r.stateNode;if(typeof r.type.getDerivedStateFromError=="function"||typeof u.componentDidCatch=="function"&&(Kn===null||!Kn.has(u))){n=qt(s,n),s=Yh(2),u=Bn(r,s,2),u!==null&&(Jh(s,u,r,n),jr(u,2),an(u));break}}r=r.return}}function ic(n,r,s){var u=n.pingCache;if(u===null){u=n.pingCache=new b0;var h=new Set;u.set(r,h)}else h=u.get(r),h===void 0&&(h=new Set,u.set(r,h));h.has(s)||(Ju=!0,h.add(s),n=k0.bind(null,n,r,s),r.then(n,n))}function k0(n,r,s){var u=n.pingCache;u!==null&&u.delete(r),n.pingedLanes|=n.suspendedLanes&s,n.warmLanes&=~s,qe===n&&(be&s)===s&&(Ke===4||Ke===3&&(be&62914560)===be&&300>jt()-Xu?(Ue&2)===0&&_r(n,0):Zu|=s,gr===be&&(gr=0)),an(n)}function Hm(n,r){r===0&&(r=qf()),n=tr(n,r),n!==null&&(jr(n,r),an(n))}function U0(n){var r=n.memoizedState,s=0;r!==null&&(s=r.retryLane),Hm(n,s)}function I0(n,r){var s=0;switch(n.tag){case 13:var u=n.stateNode,h=n.memoizedState;h!==null&&(s=h.retryLane);break;case 19:u=n.stateNode;break;case 22:u=n.stateNode._retryCache;break;default:throw Error(i(314))}u!==null&&u.delete(r),Hm(n,s)}function O0(n,r){return gl(n,r)}var ys=null,Sr=null,rc=!1,vs=!1,ac=!1,Ni=0;function an(n){n!==Sr&&n.next===null&&(Sr===null?ys=Sr=n:Sr=Sr.next=n),vs=!0,rc||(rc=!0,P0())}function La(n,r){if(!ac&&vs){ac=!0;do for(var s=!1,u=ys;u!==null;){if(n!==0){var h=u.pendingLanes;if(h===0)var y=0;else{var T=u.suspendedLanes,C=u.pingedLanes;y=(1<<31-bt(42|n)+1)-1,y&=h&~(T&~C),y=y&201326741?y&201326741|1:y?y|2:0}y!==0&&(s=!0,Jm(u,y))}else y=be,y=Ao(u,u===qe?y:0,u.cancelPendingCommit!==null||u.timeoutHandle!==-1),(y&3)===0||Wr(u,y)||(s=!0,Jm(u,y));u=u.next}while(s);ac=!1}}function L0(){$m()}function $m(){vs=rc=!1;var n=0;Ni!==0&&(F0()&&(n=Ni),Ni=0);for(var r=jt(),s=null,u=ys;u!==null;){var h=u.next,y=Fm(u,r);y===0?(u.next=null,s===null?ys=h:s.next=h,h===null&&(Sr=s)):(s=u,(n!==0||(y&3)!==0)&&(vs=!0)),u=h}La(n)}function Fm(n,r){for(var s=n.suspendedLanes,u=n.pingedLanes,h=n.expirationTimes,y=n.pendingLanes&-62914561;0<y;){var T=31-bt(y),C=1<<T,w=h[T];w===-1?((C&s)===0||(C&u)!==0)&&(h[T]=l_(C,r)):w<=r&&(n.expiredLanes|=C),y&=~C}if(r=qe,s=be,s=Ao(n,n===r?s:0,n.cancelPendingCommit!==null||n.timeoutHandle!==-1),u=n.callbackNode,s===0||n===r&&(Ie===2||Ie===9)||n.cancelPendingCommit!==null)return u!==null&&u!==null&&yl(u),n.callbackNode=null,n.callbackPriority=0;if((s&3)===0||Wr(n,s)){if(r=s&-s,r===n.callbackPriority)return r;switch(u!==null&&yl(u),Tl(s)){case 2:case 8:s=Lf;break;case 32:s=So;break;case 268435456:s=Pf;break;default:s=So}return u=Ym.bind(null,n),s=gl(s,u),n.callbackPriority=r,n.callbackNode=s,r}return u!==null&&u!==null&&yl(u),n.callbackPriority=2,n.callbackNode=null,2}function Ym(n,r){if(dt!==0&&dt!==5)return n.callbackNode=null,n.callbackPriority=0,null;var s=n.callbackNode;if(gs()&&n.callbackNode!==s)return null;var u=be;return u=Ao(n,n===qe?u:0,n.cancelPendingCommit!==null||n.timeoutHandle!==-1),u===0?null:(Rm(n,u,r),Fm(n,jt()),n.callbackNode!=null&&n.callbackNode===s?Ym.bind(null,n):null)}function Jm(n,r){if(gs())return null;Rm(n,r,!0)}function P0(){J0(function(){(Ue&6)!==0?gl(Of,L0):$m()})}function oc(){return Ni===0&&(Ni=Vf()),Ni}function Zm(n){return n==null||typeof n=="symbol"||typeof n=="boolean"?null:typeof n=="function"?n:Mo(""+n)}function Km(n,r){var s=r.ownerDocument.createElement("input");return s.name=r.name,s.value=r.value,n.id&&s.setAttribute("form",n.id),r.parentNode.insertBefore(s,r),n=new FormData(n),s.parentNode.removeChild(s),n}function V0(n,r,s,u,h){if(r==="submit"&&s&&s.stateNode===h){var y=Zm((h[_t]||null).action),T=u.submitter;T&&(r=(r=T[_t]||null)?Zm(r.formAction):T.getAttribute("formAction"),r!==null&&(y=r,T=null));var C=new Uo("action","action",null,u,h);n.push({event:C,listeners:[{instance:null,listener:function(){if(u.defaultPrevented){if(Ni!==0){var w=T?Km(h,T):new FormData(h);xu(s,{pending:!0,data:w,method:h.method,action:y},null,w)}}else typeof y=="function"&&(C.preventDefault(),w=T?Km(h,T):new FormData(h),xu(s,{pending:!0,data:w,method:h.method,action:y},y,w))},currentTarget:h}]})}}for(var sc=0;sc<Fl.length;sc++){var lc=Fl[sc],q0=lc.toLowerCase(),B0=lc[0].toUpperCase()+lc.slice(1);Zt(q0,"on"+B0)}Zt(Rd,"onAnimationEnd"),Zt(Md,"onAnimationIteration"),Zt(Dd,"onAnimationStart"),Zt("dblclick","onDoubleClick"),Zt("focusin","onFocus"),Zt("focusout","onBlur"),Zt(i0,"onTransitionRun"),Zt(r0,"onTransitionStart"),Zt(a0,"onTransitionCancel"),Zt(Nd,"onTransitionEnd"),Fi("onMouseEnter",["mouseout","mouseover"]),Fi("onMouseLeave",["mouseout","mouseover"]),Fi("onPointerEnter",["pointerout","pointerover"]),Fi("onPointerLeave",["pointerout","pointerover"]),pi("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),pi("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),pi("onBeforeInput",["compositionend","keypress","textInput","paste"]),pi("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),pi("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),pi("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Pa="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),z0=new Set("beforetoggle cancel close invalid load scroll scrollend toggle".split(" ").concat(Pa));function Xm(n,r){r=(r&4)!==0;for(var s=0;s<n.length;s++){var u=n[s],h=u.event;u=u.listeners;e:{var y=void 0;if(r)for(var T=u.length-1;0<=T;T--){var C=u[T],w=C.instance,k=C.currentTarget;if(C=C.listener,w!==y&&h.isPropagationStopped())break e;y=C,h.currentTarget=k;try{y(h)}catch(V){as(V)}h.currentTarget=null,y=w}else for(T=0;T<u.length;T++){if(C=u[T],w=C.instance,k=C.currentTarget,C=C.listener,w!==y&&h.isPropagationStopped())break e;y=C,h.currentTarget=k;try{y(h)}catch(V){as(V)}h.currentTarget=null,y=w}}}}function Ee(n,r){var s=r[Sl];s===void 0&&(s=r[Sl]=new Set);var u=n+"__bubble";s.has(u)||(Qm(r,n,2,!1),s.add(u))}function uc(n,r,s){var u=0;r&&(u|=4),Qm(s,n,u,r)}var _s="_reactListening"+Math.random().toString(36).slice(2);function cc(n){if(!n[_s]){n[_s]=!0,$f.forEach(function(s){s!=="selectionchange"&&(z0.has(s)||uc(s,!1,n),uc(s,!0,n))});var r=n.nodeType===9?n:n.ownerDocument;r===null||r[_s]||(r[_s]=!0,uc("selectionchange",!1,r))}}function Qm(n,r,s,u){switch(Sp(r)){case 2:var h=mT;break;case 8:h=pT;break;default:h=Ac}s=h.bind(null,r,s,n),h=void 0,!kl||r!=="touchstart"&&r!=="touchmove"&&r!=="wheel"||(h=!0),u?h!==void 0?n.addEventListener(r,s,{capture:!0,passive:h}):n.addEventListener(r,s,!0):h!==void 0?n.addEventListener(r,s,{passive:h}):n.addEventListener(r,s,!1)}function fc(n,r,s,u,h){var y=u;if((r&1)===0&&(r&2)===0&&u!==null)e:for(;;){if(u===null)return;var T=u.tag;if(T===3||T===4){var C=u.stateNode.containerInfo;if(C===h)break;if(T===4)for(T=u.return;T!==null;){var w=T.tag;if((w===3||w===4)&&T.stateNode.containerInfo===h)return;T=T.return}for(;C!==null;){if(T=Gi(C),T===null)return;if(w=T.tag,w===5||w===6||w===26||w===27){u=y=T;continue e}C=C.parentNode}}u=u.return}rd(function(){var k=y,V=Dl(s),G=[];e:{var U=kd.get(n);if(U!==void 0){var I=Uo,ce=n;switch(n){case"keypress":if(No(s)===0)break e;case"keydown":case"keyup":I=O_;break;case"focusin":ce="focus",I=Ll;break;case"focusout":ce="blur",I=Ll;break;case"beforeblur":case"afterblur":I=Ll;break;case"click":if(s.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":I=sd;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":I=E_;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":I=V_;break;case Rd:case Md:case Dd:I=x_;break;case Nd:I=B_;break;case"scroll":case"scrollend":I=S_;break;case"wheel":I=G_;break;case"copy":case"cut":case"paste":I=R_;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":I=ud;break;case"toggle":case"beforetoggle":I=$_}var le=(r&4)!==0,Pe=!le&&(n==="scroll"||n==="scrollend"),M=le?U!==null?U+"Capture":null:U;le=[];for(var R=k,D;R!==null;){var B=R;if(D=B.stateNode,B=B.tag,B!==5&&B!==26&&B!==27||D===null||M===null||(B=na(R,M),B!=null&&le.push(Va(R,B,D))),Pe)break;R=R.return}0<le.length&&(U=new I(U,ce,null,s,V),G.push({event:U,listeners:le}))}}if((r&7)===0){e:{if(U=n==="mouseover"||n==="pointerover",I=n==="mouseout"||n==="pointerout",U&&s!==Ml&&(ce=s.relatedTarget||s.fromElement)&&(Gi(ce)||ce[zi]))break e;if((I||U)&&(U=V.window===V?V:(U=V.ownerDocument)?U.defaultView||U.parentWindow:window,I?(ce=s.relatedTarget||s.toElement,I=k,ce=ce?Gi(ce):null,ce!==null&&(Pe=l(ce),le=ce.tag,ce!==Pe||le!==5&&le!==27&&le!==6)&&(ce=null)):(I=null,ce=k),I!==ce)){if(le=sd,B="onMouseLeave",M="onMouseEnter",R="mouse",(n==="pointerout"||n==="pointerover")&&(le=ud,B="onPointerLeave",M="onPointerEnter",R="pointer"),Pe=I==null?U:ta(I),D=ce==null?U:ta(ce),U=new le(B,R+"leave",I,s,V),U.target=Pe,U.relatedTarget=D,B=null,Gi(V)===k&&(le=new le(M,R+"enter",ce,s,V),le.target=D,le.relatedTarget=Pe,B=le),Pe=B,I&&ce)t:{for(le=I,M=ce,R=0,D=le;D;D=Cr(D))R++;for(D=0,B=M;B;B=Cr(B))D++;for(;0<R-D;)le=Cr(le),R--;for(;0<D-R;)M=Cr(M),D--;for(;R--;){if(le===M||M!==null&&le===M.alternate)break t;le=Cr(le),M=Cr(M)}le=null}else le=null;I!==null&&Wm(G,U,I,le,!1),ce!==null&&Pe!==null&&Wm(G,Pe,ce,le,!0)}}e:{if(U=k?ta(k):window,I=U.nodeName&&U.nodeName.toLowerCase(),I==="select"||I==="input"&&U.type==="file")var j=yd;else if(pd(U))if(vd)j=e0;else{j=W_;var Se=Q_}else I=U.nodeName,!I||I.toLowerCase()!=="input"||U.type!=="checkbox"&&U.type!=="radio"?k&&Rl(k.elementType)&&(j=yd):j=j_;if(j&&(j=j(n,k))){gd(G,j,s,V);break e}Se&&Se(n,U,k),n==="focusout"&&k&&U.type==="number"&&k.memoizedProps.value!=null&&bl(U,"number",U.value)}switch(Se=k?ta(k):window,n){case"focusin":(pd(Se)||Se.contentEditable==="true")&&(Wi=Se,Gl=k,ca=null);break;case"focusout":ca=Gl=Wi=null;break;case"mousedown":Hl=!0;break;case"contextmenu":case"mouseup":case"dragend":Hl=!1,xd(G,s,V);break;case"selectionchange":if(n0)break;case"keydown":case"keyup":xd(G,s,V)}var ie;if(Vl)e:{switch(n){case"compositionstart":var ue="onCompositionStart";break e;case"compositionend":ue="onCompositionEnd";break e;case"compositionupdate":ue="onCompositionUpdate";break e}ue=void 0}else Qi?hd(n,s)&&(ue="onCompositionEnd"):n==="keydown"&&s.keyCode===229&&(ue="onCompositionStart");ue&&(cd&&s.locale!=="ko"&&(Qi||ue!=="onCompositionStart"?ue==="onCompositionEnd"&&Qi&&(ie=ad()):(Ln=V,Ul="value"in Ln?Ln.value:Ln.textContent,Qi=!0)),Se=Ts(k,ue),0<Se.length&&(ue=new ld(ue,n,null,s,V),G.push({event:ue,listeners:Se}),ie?ue.data=ie:(ie=md(s),ie!==null&&(ue.data=ie)))),(ie=Y_?J_(n,s):Z_(n,s))&&(ue=Ts(k,"onBeforeInput"),0<ue.length&&(Se=new ld("onBeforeInput","beforeinput",null,s,V),G.push({event:Se,listeners:ue}),Se.data=ie)),V0(G,n,k,s,V)}Xm(G,r)})}function Va(n,r,s){return{instance:n,listener:r,currentTarget:s}}function Ts(n,r){for(var s=r+"Capture",u=[];n!==null;){var h=n,y=h.stateNode;if(h=h.tag,h!==5&&h!==26&&h!==27||y===null||(h=na(n,s),h!=null&&u.unshift(Va(n,h,y)),h=na(n,r),h!=null&&u.push(Va(n,h,y))),n.tag===3)return u;n=n.return}return[]}function Cr(n){if(n===null)return null;do n=n.return;while(n&&n.tag!==5&&n.tag!==27);return n||null}function Wm(n,r,s,u,h){for(var y=r._reactName,T=[];s!==null&&s!==u;){var C=s,w=C.alternate,k=C.stateNode;if(C=C.tag,w!==null&&w===u)break;C!==5&&C!==26&&C!==27||k===null||(w=k,h?(k=na(s,y),k!=null&&T.unshift(Va(s,k,w))):h||(k=na(s,y),k!=null&&T.push(Va(s,k,w)))),s=s.return}T.length!==0&&n.push({event:r,listeners:T})}var G0=/\r\n?/g,H0=/\u0000|\uFFFD/g;function jm(n){return(typeof n=="string"?n:""+n).replace(G0,`
`).replace(H0,"")}function ep(n,r){return r=jm(r),jm(n)===r}function Ss(){}function Le(n,r,s,u,h,y){switch(s){case"children":typeof u=="string"?r==="body"||r==="textarea"&&u===""||Zi(n,u):(typeof u=="number"||typeof u=="bigint")&&r!=="body"&&Zi(n,""+u);break;case"className":xo(n,"class",u);break;case"tabIndex":xo(n,"tabindex",u);break;case"dir":case"role":case"viewBox":case"width":case"height":xo(n,s,u);break;case"style":nd(n,u,y);break;case"data":if(r!=="object"){xo(n,"data",u);break}case"src":case"href":if(u===""&&(r!=="a"||s!=="href")){n.removeAttribute(s);break}if(u==null||typeof u=="function"||typeof u=="symbol"||typeof u=="boolean"){n.removeAttribute(s);break}u=Mo(""+u),n.setAttribute(s,u);break;case"action":case"formAction":if(typeof u=="function"){n.setAttribute(s,"javascript:throw new Error('A React form was unexpectedly submitted. If you called form.submit() manually, consider using form.requestSubmit() instead. If you\\'re trying to use event.stopPropagation() in a submit event handler, consider also calling event.preventDefault().')");break}else typeof y=="function"&&(s==="formAction"?(r!=="input"&&Le(n,r,"name",h.name,h,null),Le(n,r,"formEncType",h.formEncType,h,null),Le(n,r,"formMethod",h.formMethod,h,null),Le(n,r,"formTarget",h.formTarget,h,null)):(Le(n,r,"encType",h.encType,h,null),Le(n,r,"method",h.method,h,null),Le(n,r,"target",h.target,h,null)));if(u==null||typeof u=="symbol"||typeof u=="boolean"){n.removeAttribute(s);break}u=Mo(""+u),n.setAttribute(s,u);break;case"onClick":u!=null&&(n.onclick=Ss);break;case"onScroll":u!=null&&Ee("scroll",n);break;case"onScrollEnd":u!=null&&Ee("scrollend",n);break;case"dangerouslySetInnerHTML":if(u!=null){if(typeof u!="object"||!("__html"in u))throw Error(i(61));if(s=u.__html,s!=null){if(h.children!=null)throw Error(i(60));n.innerHTML=s}}break;case"multiple":n.multiple=u&&typeof u!="function"&&typeof u!="symbol";break;case"muted":n.muted=u&&typeof u!="function"&&typeof u!="symbol";break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"defaultValue":case"defaultChecked":case"innerHTML":case"ref":break;case"autoFocus":break;case"xlinkHref":if(u==null||typeof u=="function"||typeof u=="boolean"||typeof u=="symbol"){n.removeAttribute("xlink:href");break}s=Mo(""+u),n.setAttributeNS("http://www.w3.org/1999/xlink","xlink:href",s);break;case"contentEditable":case"spellCheck":case"draggable":case"value":case"autoReverse":case"externalResourcesRequired":case"focusable":case"preserveAlpha":u!=null&&typeof u!="function"&&typeof u!="symbol"?n.setAttribute(s,""+u):n.removeAttribute(s);break;case"inert":case"allowFullScreen":case"async":case"autoPlay":case"controls":case"default":case"defer":case"disabled":case"disablePictureInPicture":case"disableRemotePlayback":case"formNoValidate":case"hidden":case"loop":case"noModule":case"noValidate":case"open":case"playsInline":case"readOnly":case"required":case"reversed":case"scoped":case"seamless":case"itemScope":u&&typeof u!="function"&&typeof u!="symbol"?n.setAttribute(s,""):n.removeAttribute(s);break;case"capture":case"download":u===!0?n.setAttribute(s,""):u!==!1&&u!=null&&typeof u!="function"&&typeof u!="symbol"?n.setAttribute(s,u):n.removeAttribute(s);break;case"cols":case"rows":case"size":case"span":u!=null&&typeof u!="function"&&typeof u!="symbol"&&!isNaN(u)&&1<=u?n.setAttribute(s,u):n.removeAttribute(s);break;case"rowSpan":case"start":u==null||typeof u=="function"||typeof u=="symbol"||isNaN(u)?n.removeAttribute(s):n.setAttribute(s,u);break;case"popover":Ee("beforetoggle",n),Ee("toggle",n),wo(n,"popover",u);break;case"xlinkActuate":mn(n,"http://www.w3.org/1999/xlink","xlink:actuate",u);break;case"xlinkArcrole":mn(n,"http://www.w3.org/1999/xlink","xlink:arcrole",u);break;case"xlinkRole":mn(n,"http://www.w3.org/1999/xlink","xlink:role",u);break;case"xlinkShow":mn(n,"http://www.w3.org/1999/xlink","xlink:show",u);break;case"xlinkTitle":mn(n,"http://www.w3.org/1999/xlink","xlink:title",u);break;case"xlinkType":mn(n,"http://www.w3.org/1999/xlink","xlink:type",u);break;case"xmlBase":mn(n,"http://www.w3.org/XML/1998/namespace","xml:base",u);break;case"xmlLang":mn(n,"http://www.w3.org/XML/1998/namespace","xml:lang",u);break;case"xmlSpace":mn(n,"http://www.w3.org/XML/1998/namespace","xml:space",u);break;case"is":wo(n,"is",u);break;case"innerText":case"textContent":break;default:(!(2<s.length)||s[0]!=="o"&&s[0]!=="O"||s[1]!=="n"&&s[1]!=="N")&&(s=__.get(s)||s,wo(n,s,u))}}function dc(n,r,s,u,h,y){switch(s){case"style":nd(n,u,y);break;case"dangerouslySetInnerHTML":if(u!=null){if(typeof u!="object"||!("__html"in u))throw Error(i(61));if(s=u.__html,s!=null){if(h.children!=null)throw Error(i(60));n.innerHTML=s}}break;case"children":typeof u=="string"?Zi(n,u):(typeof u=="number"||typeof u=="bigint")&&Zi(n,""+u);break;case"onScroll":u!=null&&Ee("scroll",n);break;case"onScrollEnd":u!=null&&Ee("scrollend",n);break;case"onClick":u!=null&&(n.onclick=Ss);break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"innerHTML":case"ref":break;case"innerText":case"textContent":break;default:if(!Ff.hasOwnProperty(s))e:{if(s[0]==="o"&&s[1]==="n"&&(h=s.endsWith("Capture"),r=s.slice(2,h?s.length-7:void 0),y=n[_t]||null,y=y!=null?y[s]:null,typeof y=="function"&&n.removeEventListener(r,y,h),typeof u=="function")){typeof y!="function"&&y!==null&&(s in n?n[s]=null:n.hasAttribute(s)&&n.removeAttribute(s)),n.addEventListener(r,u,h);break e}s in n?n[s]=u:u===!0?n.setAttribute(s,""):wo(n,s,u)}}}function ht(n,r,s){switch(r){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"img":Ee("error",n),Ee("load",n);var u=!1,h=!1,y;for(y in s)if(s.hasOwnProperty(y)){var T=s[y];if(T!=null)switch(y){case"src":u=!0;break;case"srcSet":h=!0;break;case"children":case"dangerouslySetInnerHTML":throw Error(i(137,r));default:Le(n,r,y,T,s,null)}}h&&Le(n,r,"srcSet",s.srcSet,s,null),u&&Le(n,r,"src",s.src,s,null);return;case"input":Ee("invalid",n);var C=y=T=h=null,w=null,k=null;for(u in s)if(s.hasOwnProperty(u)){var V=s[u];if(V!=null)switch(u){case"name":h=V;break;case"type":T=V;break;case"checked":w=V;break;case"defaultChecked":k=V;break;case"value":y=V;break;case"defaultValue":C=V;break;case"children":case"dangerouslySetInnerHTML":if(V!=null)throw Error(i(137,r));break;default:Le(n,r,u,V,s,null)}}Wf(n,y,C,w,k,T,h,!1),bo(n);return;case"select":Ee("invalid",n),u=T=y=null;for(h in s)if(s.hasOwnProperty(h)&&(C=s[h],C!=null))switch(h){case"value":y=C;break;case"defaultValue":T=C;break;case"multiple":u=C;default:Le(n,r,h,C,s,null)}r=y,s=T,n.multiple=!!u,r!=null?Ji(n,!!u,r,!1):s!=null&&Ji(n,!!u,s,!0);return;case"textarea":Ee("invalid",n),y=h=u=null;for(T in s)if(s.hasOwnProperty(T)&&(C=s[T],C!=null))switch(T){case"value":u=C;break;case"defaultValue":h=C;break;case"children":y=C;break;case"dangerouslySetInnerHTML":if(C!=null)throw Error(i(91));break;default:Le(n,r,T,C,s,null)}ed(n,u,h,y),bo(n);return;case"option":for(w in s)if(s.hasOwnProperty(w)&&(u=s[w],u!=null))switch(w){case"selected":n.selected=u&&typeof u!="function"&&typeof u!="symbol";break;default:Le(n,r,w,u,s,null)}return;case"dialog":Ee("beforetoggle",n),Ee("toggle",n),Ee("cancel",n),Ee("close",n);break;case"iframe":case"object":Ee("load",n);break;case"video":case"audio":for(u=0;u<Pa.length;u++)Ee(Pa[u],n);break;case"image":Ee("error",n),Ee("load",n);break;case"details":Ee("toggle",n);break;case"embed":case"source":case"link":Ee("error",n),Ee("load",n);case"area":case"base":case"br":case"col":case"hr":case"keygen":case"meta":case"param":case"track":case"wbr":case"menuitem":for(k in s)if(s.hasOwnProperty(k)&&(u=s[k],u!=null))switch(k){case"children":case"dangerouslySetInnerHTML":throw Error(i(137,r));default:Le(n,r,k,u,s,null)}return;default:if(Rl(r)){for(V in s)s.hasOwnProperty(V)&&(u=s[V],u!==void 0&&dc(n,r,V,u,s,void 0));return}}for(C in s)s.hasOwnProperty(C)&&(u=s[C],u!=null&&Le(n,r,C,u,s,null))}function $0(n,r,s,u){switch(r){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"input":var h=null,y=null,T=null,C=null,w=null,k=null,V=null;for(I in s){var G=s[I];if(s.hasOwnProperty(I)&&G!=null)switch(I){case"checked":break;case"value":break;case"defaultValue":w=G;default:u.hasOwnProperty(I)||Le(n,r,I,null,u,G)}}for(var U in u){var I=u[U];if(G=s[U],u.hasOwnProperty(U)&&(I!=null||G!=null))switch(U){case"type":y=I;break;case"name":h=I;break;case"checked":k=I;break;case"defaultChecked":V=I;break;case"value":T=I;break;case"defaultValue":C=I;break;case"children":case"dangerouslySetInnerHTML":if(I!=null)throw Error(i(137,r));break;default:I!==G&&Le(n,r,U,I,u,G)}}xl(n,T,C,w,k,V,y,h);return;case"select":I=T=C=U=null;for(y in s)if(w=s[y],s.hasOwnProperty(y)&&w!=null)switch(y){case"value":break;case"multiple":I=w;default:u.hasOwnProperty(y)||Le(n,r,y,null,u,w)}for(h in u)if(y=u[h],w=s[h],u.hasOwnProperty(h)&&(y!=null||w!=null))switch(h){case"value":U=y;break;case"defaultValue":C=y;break;case"multiple":T=y;default:y!==w&&Le(n,r,h,y,u,w)}r=C,s=T,u=I,U!=null?Ji(n,!!s,U,!1):!!u!=!!s&&(r!=null?Ji(n,!!s,r,!0):Ji(n,!!s,s?[]:"",!1));return;case"textarea":I=U=null;for(C in s)if(h=s[C],s.hasOwnProperty(C)&&h!=null&&!u.hasOwnProperty(C))switch(C){case"value":break;case"children":break;default:Le(n,r,C,null,u,h)}for(T in u)if(h=u[T],y=s[T],u.hasOwnProperty(T)&&(h!=null||y!=null))switch(T){case"value":U=h;break;case"defaultValue":I=h;break;case"children":break;case"dangerouslySetInnerHTML":if(h!=null)throw Error(i(91));break;default:h!==y&&Le(n,r,T,h,u,y)}jf(n,U,I);return;case"option":for(var ce in s)if(U=s[ce],s.hasOwnProperty(ce)&&U!=null&&!u.hasOwnProperty(ce))switch(ce){case"selected":n.selected=!1;break;default:Le(n,r,ce,null,u,U)}for(w in u)if(U=u[w],I=s[w],u.hasOwnProperty(w)&&U!==I&&(U!=null||I!=null))switch(w){case"selected":n.selected=U&&typeof U!="function"&&typeof U!="symbol";break;default:Le(n,r,w,U,u,I)}return;case"img":case"link":case"area":case"base":case"br":case"col":case"embed":case"hr":case"keygen":case"meta":case"param":case"source":case"track":case"wbr":case"menuitem":for(var le in s)U=s[le],s.hasOwnProperty(le)&&U!=null&&!u.hasOwnProperty(le)&&Le(n,r,le,null,u,U);for(k in u)if(U=u[k],I=s[k],u.hasOwnProperty(k)&&U!==I&&(U!=null||I!=null))switch(k){case"children":case"dangerouslySetInnerHTML":if(U!=null)throw Error(i(137,r));break;default:Le(n,r,k,U,u,I)}return;default:if(Rl(r)){for(var Pe in s)U=s[Pe],s.hasOwnProperty(Pe)&&U!==void 0&&!u.hasOwnProperty(Pe)&&dc(n,r,Pe,void 0,u,U);for(V in u)U=u[V],I=s[V],!u.hasOwnProperty(V)||U===I||U===void 0&&I===void 0||dc(n,r,V,U,u,I);return}}for(var M in s)U=s[M],s.hasOwnProperty(M)&&U!=null&&!u.hasOwnProperty(M)&&Le(n,r,M,null,u,U);for(G in u)U=u[G],I=s[G],!u.hasOwnProperty(G)||U===I||U==null&&I==null||Le(n,r,G,U,u,I)}var hc=null,mc=null;function Cs(n){return n.nodeType===9?n:n.ownerDocument}function tp(n){switch(n){case"http://www.w3.org/2000/svg":return 1;case"http://www.w3.org/1998/Math/MathML":return 2;default:return 0}}function np(n,r){if(n===0)switch(r){case"svg":return 1;case"math":return 2;default:return 0}return n===1&&r==="foreignObject"?0:n}function pc(n,r){return n==="textarea"||n==="noscript"||typeof r.children=="string"||typeof r.children=="number"||typeof r.children=="bigint"||typeof r.dangerouslySetInnerHTML=="object"&&r.dangerouslySetInnerHTML!==null&&r.dangerouslySetInnerHTML.__html!=null}var gc=null;function F0(){var n=window.event;return n&&n.type==="popstate"?n===gc?!1:(gc=n,!0):(gc=null,!1)}var ip=typeof setTimeout=="function"?setTimeout:void 0,Y0=typeof clearTimeout=="function"?clearTimeout:void 0,rp=typeof Promise=="function"?Promise:void 0,J0=typeof queueMicrotask=="function"?queueMicrotask:typeof rp<"u"?function(n){return rp.resolve(null).then(n).catch(Z0)}:ip;function Z0(n){setTimeout(function(){throw n})}function Wn(n){return n==="head"}function ap(n,r){var s=r,u=0,h=0;do{var y=s.nextSibling;if(n.removeChild(s),y&&y.nodeType===8)if(s=y.data,s==="/$"){if(0<u&&8>u){s=u;var T=n.ownerDocument;if(s&1&&qa(T.documentElement),s&2&&qa(T.body),s&4)for(s=T.head,qa(s),T=s.firstChild;T;){var C=T.nextSibling,w=T.nodeName;T[ea]||w==="SCRIPT"||w==="STYLE"||w==="LINK"&&T.rel.toLowerCase()==="stylesheet"||s.removeChild(T),T=C}}if(h===0){n.removeChild(y),Ja(r);return}h--}else s==="$"||s==="$?"||s==="$!"?h++:u=s.charCodeAt(0)-48;else u=0;s=y}while(s);Ja(r)}function yc(n){var r=n.firstChild;for(r&&r.nodeType===10&&(r=r.nextSibling);r;){var s=r;switch(r=r.nextSibling,s.nodeName){case"HTML":case"HEAD":case"BODY":yc(s),Cl(s);continue;case"SCRIPT":case"STYLE":continue;case"LINK":if(s.rel.toLowerCase()==="stylesheet")continue}n.removeChild(s)}}function K0(n,r,s,u){for(;n.nodeType===1;){var h=s;if(n.nodeName.toLowerCase()!==r.toLowerCase()){if(!u&&(n.nodeName!=="INPUT"||n.type!=="hidden"))break}else if(u){if(!n[ea])switch(r){case"meta":if(!n.hasAttribute("itemprop"))break;return n;case"link":if(y=n.getAttribute("rel"),y==="stylesheet"&&n.hasAttribute("data-precedence"))break;if(y!==h.rel||n.getAttribute("href")!==(h.href==null||h.href===""?null:h.href)||n.getAttribute("crossorigin")!==(h.crossOrigin==null?null:h.crossOrigin)||n.getAttribute("title")!==(h.title==null?null:h.title))break;return n;case"style":if(n.hasAttribute("data-precedence"))break;return n;case"script":if(y=n.getAttribute("src"),(y!==(h.src==null?null:h.src)||n.getAttribute("type")!==(h.type==null?null:h.type)||n.getAttribute("crossorigin")!==(h.crossOrigin==null?null:h.crossOrigin))&&y&&n.hasAttribute("async")&&!n.hasAttribute("itemprop"))break;return n;default:return n}}else if(r==="input"&&n.type==="hidden"){var y=h.name==null?null:""+h.name;if(h.type==="hidden"&&n.getAttribute("name")===y)return n}else return n;if(n=Xt(n.nextSibling),n===null)break}return null}function X0(n,r,s){if(r==="")return null;for(;n.nodeType!==3;)if((n.nodeType!==1||n.nodeName!=="INPUT"||n.type!=="hidden")&&!s||(n=Xt(n.nextSibling),n===null))return null;return n}function vc(n){return n.data==="$!"||n.data==="$?"&&n.ownerDocument.readyState==="complete"}function Q0(n,r){var s=n.ownerDocument;if(n.data!=="$?"||s.readyState==="complete")r();else{var u=function(){r(),s.removeEventListener("DOMContentLoaded",u)};s.addEventListener("DOMContentLoaded",u),n._reactRetry=u}}function Xt(n){for(;n!=null;n=n.nextSibling){var r=n.nodeType;if(r===1||r===3)break;if(r===8){if(r=n.data,r==="$"||r==="$!"||r==="$?"||r==="F!"||r==="F")break;if(r==="/$")return null}}return n}var _c=null;function op(n){n=n.previousSibling;for(var r=0;n;){if(n.nodeType===8){var s=n.data;if(s==="$"||s==="$!"||s==="$?"){if(r===0)return n;r--}else s==="/$"&&r++}n=n.previousSibling}return null}function sp(n,r,s){switch(r=Cs(s),n){case"html":if(n=r.documentElement,!n)throw Error(i(452));return n;case"head":if(n=r.head,!n)throw Error(i(453));return n;case"body":if(n=r.body,!n)throw Error(i(454));return n;default:throw Error(i(451))}}function qa(n){for(var r=n.attributes;r.length;)n.removeAttributeNode(r[0]);Cl(n)}var Ft=new Map,lp=new Set;function Es(n){return typeof n.getRootNode=="function"?n.getRootNode():n.nodeType===9?n:n.ownerDocument}var Rn=K.d;K.d={f:W0,r:j0,D:eT,C:tT,L:nT,m:iT,X:aT,S:rT,M:oT};function W0(){var n=Rn.f(),r=ms();return n||r}function j0(n){var r=Hi(n);r!==null&&r.tag===5&&r.type==="form"?Rh(r):Rn.r(n)}var Er=typeof document>"u"?null:document;function up(n,r,s){var u=Er;if(u&&typeof r=="string"&&r){var h=Vt(r);h='link[rel="'+n+'"][href="'+h+'"]',typeof s=="string"&&(h+='[crossorigin="'+s+'"]'),lp.has(h)||(lp.add(h),n={rel:n,crossOrigin:s,href:r},u.querySelector(h)===null&&(r=u.createElement("link"),ht(r,"link",n),at(r),u.head.appendChild(r)))}}function eT(n){Rn.D(n),up("dns-prefetch",n,null)}function tT(n,r){Rn.C(n,r),up("preconnect",n,r)}function nT(n,r,s){Rn.L(n,r,s);var u=Er;if(u&&n&&r){var h='link[rel="preload"][as="'+Vt(r)+'"]';r==="image"&&s&&s.imageSrcSet?(h+='[imagesrcset="'+Vt(s.imageSrcSet)+'"]',typeof s.imageSizes=="string"&&(h+='[imagesizes="'+Vt(s.imageSizes)+'"]')):h+='[href="'+Vt(n)+'"]';var y=h;switch(r){case"style":y=Ar(n);break;case"script":y=wr(n)}Ft.has(y)||(n=v({rel:"preload",href:r==="image"&&s&&s.imageSrcSet?void 0:n,as:r},s),Ft.set(y,n),u.querySelector(h)!==null||r==="style"&&u.querySelector(Ba(y))||r==="script"&&u.querySelector(za(y))||(r=u.createElement("link"),ht(r,"link",n),at(r),u.head.appendChild(r)))}}function iT(n,r){Rn.m(n,r);var s=Er;if(s&&n){var u=r&&typeof r.as=="string"?r.as:"script",h='link[rel="modulepreload"][as="'+Vt(u)+'"][href="'+Vt(n)+'"]',y=h;switch(u){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":y=wr(n)}if(!Ft.has(y)&&(n=v({rel:"modulepreload",href:n},r),Ft.set(y,n),s.querySelector(h)===null)){switch(u){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":if(s.querySelector(za(y)))return}u=s.createElement("link"),ht(u,"link",n),at(u),s.head.appendChild(u)}}}function rT(n,r,s){Rn.S(n,r,s);var u=Er;if(u&&n){var h=$i(u).hoistableStyles,y=Ar(n);r=r||"default";var T=h.get(y);if(!T){var C={loading:0,preload:null};if(T=u.querySelector(Ba(y)))C.loading=5;else{n=v({rel:"stylesheet",href:n,"data-precedence":r},s),(s=Ft.get(y))&&Tc(n,s);var w=T=u.createElement("link");at(w),ht(w,"link",n),w._p=new Promise(function(k,V){w.onload=k,w.onerror=V}),w.addEventListener("load",function(){C.loading|=1}),w.addEventListener("error",function(){C.loading|=2}),C.loading|=4,As(T,r,u)}T={type:"stylesheet",instance:T,count:1,state:C},h.set(y,T)}}}function aT(n,r){Rn.X(n,r);var s=Er;if(s&&n){var u=$i(s).hoistableScripts,h=wr(n),y=u.get(h);y||(y=s.querySelector(za(h)),y||(n=v({src:n,async:!0},r),(r=Ft.get(h))&&Sc(n,r),y=s.createElement("script"),at(y),ht(y,"link",n),s.head.appendChild(y)),y={type:"script",instance:y,count:1,state:null},u.set(h,y))}}function oT(n,r){Rn.M(n,r);var s=Er;if(s&&n){var u=$i(s).hoistableScripts,h=wr(n),y=u.get(h);y||(y=s.querySelector(za(h)),y||(n=v({src:n,async:!0,type:"module"},r),(r=Ft.get(h))&&Sc(n,r),y=s.createElement("script"),at(y),ht(y,"link",n),s.head.appendChild(y)),y={type:"script",instance:y,count:1,state:null},u.set(h,y))}}function cp(n,r,s,u){var h=(h=W.current)?Es(h):null;if(!h)throw Error(i(446));switch(n){case"meta":case"title":return null;case"style":return typeof s.precedence=="string"&&typeof s.href=="string"?(r=Ar(s.href),s=$i(h).hoistableStyles,u=s.get(r),u||(u={type:"style",instance:null,count:0,state:null},s.set(r,u)),u):{type:"void",instance:null,count:0,state:null};case"link":if(s.rel==="stylesheet"&&typeof s.href=="string"&&typeof s.precedence=="string"){n=Ar(s.href);var y=$i(h).hoistableStyles,T=y.get(n);if(T||(h=h.ownerDocument||h,T={type:"stylesheet",instance:null,count:0,state:{loading:0,preload:null}},y.set(n,T),(y=h.querySelector(Ba(n)))&&!y._p&&(T.instance=y,T.state.loading=5),Ft.has(n)||(s={rel:"preload",as:"style",href:s.href,crossOrigin:s.crossOrigin,integrity:s.integrity,media:s.media,hrefLang:s.hrefLang,referrerPolicy:s.referrerPolicy},Ft.set(n,s),y||sT(h,n,s,T.state))),r&&u===null)throw Error(i(528,""));return T}if(r&&u!==null)throw Error(i(529,""));return null;case"script":return r=s.async,s=s.src,typeof s=="string"&&r&&typeof r!="function"&&typeof r!="symbol"?(r=wr(s),s=$i(h).hoistableScripts,u=s.get(r),u||(u={type:"script",instance:null,count:0,state:null},s.set(r,u)),u):{type:"void",instance:null,count:0,state:null};default:throw Error(i(444,n))}}function Ar(n){return'href="'+Vt(n)+'"'}function Ba(n){return'link[rel="stylesheet"]['+n+"]"}function fp(n){return v({},n,{"data-precedence":n.precedence,precedence:null})}function sT(n,r,s,u){n.querySelector('link[rel="preload"][as="style"]['+r+"]")?u.loading=1:(r=n.createElement("link"),u.preload=r,r.addEventListener("load",function(){return u.loading|=1}),r.addEventListener("error",function(){return u.loading|=2}),ht(r,"link",s),at(r),n.head.appendChild(r))}function wr(n){return'[src="'+Vt(n)+'"]'}function za(n){return"script[async]"+n}function dp(n,r,s){if(r.count++,r.instance===null)switch(r.type){case"style":var u=n.querySelector('style[data-href~="'+Vt(s.href)+'"]');if(u)return r.instance=u,at(u),u;var h=v({},s,{"data-href":s.href,"data-precedence":s.precedence,href:null,precedence:null});return u=(n.ownerDocument||n).createElement("style"),at(u),ht(u,"style",h),As(u,s.precedence,n),r.instance=u;case"stylesheet":h=Ar(s.href);var y=n.querySelector(Ba(h));if(y)return r.state.loading|=4,r.instance=y,at(y),y;u=fp(s),(h=Ft.get(h))&&Tc(u,h),y=(n.ownerDocument||n).createElement("link"),at(y);var T=y;return T._p=new Promise(function(C,w){T.onload=C,T.onerror=w}),ht(y,"link",u),r.state.loading|=4,As(y,s.precedence,n),r.instance=y;case"script":return y=wr(s.src),(h=n.querySelector(za(y)))?(r.instance=h,at(h),h):(u=s,(h=Ft.get(y))&&(u=v({},s),Sc(u,h)),n=n.ownerDocument||n,h=n.createElement("script"),at(h),ht(h,"link",u),n.head.appendChild(h),r.instance=h);case"void":return null;default:throw Error(i(443,r.type))}else r.type==="stylesheet"&&(r.state.loading&4)===0&&(u=r.instance,r.state.loading|=4,As(u,s.precedence,n));return r.instance}function As(n,r,s){for(var u=s.querySelectorAll('link[rel="stylesheet"][data-precedence],style[data-precedence]'),h=u.length?u[u.length-1]:null,y=h,T=0;T<u.length;T++){var C=u[T];if(C.dataset.precedence===r)y=C;else if(y!==h)break}y?y.parentNode.insertBefore(n,y.nextSibling):(r=s.nodeType===9?s.head:s,r.insertBefore(n,r.firstChild))}function Tc(n,r){n.crossOrigin==null&&(n.crossOrigin=r.crossOrigin),n.referrerPolicy==null&&(n.referrerPolicy=r.referrerPolicy),n.title==null&&(n.title=r.title)}function Sc(n,r){n.crossOrigin==null&&(n.crossOrigin=r.crossOrigin),n.referrerPolicy==null&&(n.referrerPolicy=r.referrerPolicy),n.integrity==null&&(n.integrity=r.integrity)}var ws=null;function hp(n,r,s){if(ws===null){var u=new Map,h=ws=new Map;h.set(s,u)}else h=ws,u=h.get(s),u||(u=new Map,h.set(s,u));if(u.has(n))return u;for(u.set(n,null),s=s.getElementsByTagName(n),h=0;h<s.length;h++){var y=s[h];if(!(y[ea]||y[mt]||n==="link"&&y.getAttribute("rel")==="stylesheet")&&y.namespaceURI!=="http://www.w3.org/2000/svg"){var T=y.getAttribute(r)||"";T=n+T;var C=u.get(T);C?C.push(y):u.set(T,[y])}}return u}function mp(n,r,s){n=n.ownerDocument||n,n.head.insertBefore(s,r==="title"?n.querySelector("head > title"):null)}function lT(n,r,s){if(s===1||r.itemProp!=null)return!1;switch(n){case"meta":case"title":return!0;case"style":if(typeof r.precedence!="string"||typeof r.href!="string"||r.href==="")break;return!0;case"link":if(typeof r.rel!="string"||typeof r.href!="string"||r.href===""||r.onLoad||r.onError)break;switch(r.rel){case"stylesheet":return n=r.disabled,typeof r.precedence=="string"&&n==null;default:return!0}case"script":if(r.async&&typeof r.async!="function"&&typeof r.async!="symbol"&&!r.onLoad&&!r.onError&&r.src&&typeof r.src=="string")return!0}return!1}function pp(n){return!(n.type==="stylesheet"&&(n.state.loading&3)===0)}var Ga=null;function uT(){}function cT(n,r,s){if(Ga===null)throw Error(i(475));var u=Ga;if(r.type==="stylesheet"&&(typeof s.media!="string"||matchMedia(s.media).matches!==!1)&&(r.state.loading&4)===0){if(r.instance===null){var h=Ar(s.href),y=n.querySelector(Ba(h));if(y){n=y._p,n!==null&&typeof n=="object"&&typeof n.then=="function"&&(u.count++,u=xs.bind(u),n.then(u,u)),r.state.loading|=4,r.instance=y,at(y);return}y=n.ownerDocument||n,s=fp(s),(h=Ft.get(h))&&Tc(s,h),y=y.createElement("link"),at(y);var T=y;T._p=new Promise(function(C,w){T.onload=C,T.onerror=w}),ht(y,"link",s),r.instance=y}u.stylesheets===null&&(u.stylesheets=new Map),u.stylesheets.set(r,n),(n=r.state.preload)&&(r.state.loading&3)===0&&(u.count++,r=xs.bind(u),n.addEventListener("load",r),n.addEventListener("error",r))}}function fT(){if(Ga===null)throw Error(i(475));var n=Ga;return n.stylesheets&&n.count===0&&Cc(n,n.stylesheets),0<n.count?function(r){var s=setTimeout(function(){if(n.stylesheets&&Cc(n,n.stylesheets),n.unsuspend){var u=n.unsuspend;n.unsuspend=null,u()}},6e4);return n.unsuspend=r,function(){n.unsuspend=null,clearTimeout(s)}}:null}function xs(){if(this.count--,this.count===0){if(this.stylesheets)Cc(this,this.stylesheets);else if(this.unsuspend){var n=this.unsuspend;this.unsuspend=null,n()}}}var bs=null;function Cc(n,r){n.stylesheets=null,n.unsuspend!==null&&(n.count++,bs=new Map,r.forEach(dT,n),bs=null,xs.call(n))}function dT(n,r){if(!(r.state.loading&4)){var s=bs.get(n);if(s)var u=s.get(null);else{s=new Map,bs.set(n,s);for(var h=n.querySelectorAll("link[data-precedence],style[data-precedence]"),y=0;y<h.length;y++){var T=h[y];(T.nodeName==="LINK"||T.getAttribute("media")!=="not all")&&(s.set(T.dataset.precedence,T),u=T)}u&&s.set(null,u)}h=r.instance,T=h.getAttribute("data-precedence"),y=s.get(T)||u,y===u&&s.set(null,h),s.set(T,h),this.count++,u=xs.bind(this),h.addEventListener("load",u),h.addEventListener("error",u),y?y.parentNode.insertBefore(h,y.nextSibling):(n=n.nodeType===9?n.head:n,n.insertBefore(h,n.firstChild)),r.state.loading|=4}}var Ha={$$typeof:H,Provider:null,Consumer:null,_currentValue:ae,_currentValue2:ae,_threadCount:0};function hT(n,r,s,u,h,y,T,C){this.tag=1,this.containerInfo=n,this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.next=this.pendingContext=this.context=this.cancelPendingCommit=null,this.callbackPriority=0,this.expirationTimes=vl(-1),this.entangledLanes=this.shellSuspendCounter=this.errorRecoveryDisabledLanes=this.expiredLanes=this.warmLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=vl(0),this.hiddenUpdates=vl(null),this.identifierPrefix=u,this.onUncaughtError=h,this.onCaughtError=y,this.onRecoverableError=T,this.pooledCache=null,this.pooledCacheLanes=0,this.formState=C,this.incompleteTransitions=new Map}function gp(n,r,s,u,h,y,T,C,w,k,V,G){return n=new hT(n,r,s,T,C,w,k,G),r=1,y===!0&&(r|=24),y=Mt(3,null,null,r),n.current=y,y.stateNode=n,r=iu(),r.refCount++,n.pooledCache=r,r.refCount++,y.memoizedState={element:u,isDehydrated:s,cache:r},su(y),n}function yp(n){return n?(n=nr,n):nr}function vp(n,r,s,u,h,y){h=yp(h),u.context===null?u.context=h:u.pendingContext=h,u=qn(r),u.payload={element:s},y=y===void 0?null:y,y!==null&&(u.callback=y),s=Bn(n,u,r),s!==null&&(It(s,n,r),_a(s,n,r))}function _p(n,r){if(n=n.memoizedState,n!==null&&n.dehydrated!==null){var s=n.retryLane;n.retryLane=s!==0&&s<r?s:r}}function Ec(n,r){_p(n,r),(n=n.alternate)&&_p(n,r)}function Tp(n){if(n.tag===13){var r=tr(n,67108864);r!==null&&It(r,n,67108864),Ec(n,67108864)}}var Rs=!0;function mT(n,r,s,u){var h=P.T;P.T=null;var y=K.p;try{K.p=2,Ac(n,r,s,u)}finally{K.p=y,P.T=h}}function pT(n,r,s,u){var h=P.T;P.T=null;var y=K.p;try{K.p=8,Ac(n,r,s,u)}finally{K.p=y,P.T=h}}function Ac(n,r,s,u){if(Rs){var h=wc(u);if(h===null)fc(n,r,u,Ms,s),Cp(n,u);else if(yT(h,n,r,s,u))u.stopPropagation();else if(Cp(n,u),r&4&&-1<gT.indexOf(n)){for(;h!==null;){var y=Hi(h);if(y!==null)switch(y.tag){case 3:if(y=y.stateNode,y.current.memoizedState.isDehydrated){var T=mi(y.pendingLanes);if(T!==0){var C=y;for(C.pendingLanes|=2,C.entangledLanes|=2;T;){var w=1<<31-bt(T);C.entanglements[1]|=w,T&=~w}an(y),(Ue&6)===0&&(ds=jt()+500,La(0))}}break;case 13:C=tr(y,2),C!==null&&It(C,y,2),ms(),Ec(y,2)}if(y=wc(u),y===null&&fc(n,r,u,Ms,s),y===h)break;h=y}h!==null&&u.stopPropagation()}else fc(n,r,u,null,s)}}function wc(n){return n=Dl(n),xc(n)}var Ms=null;function xc(n){if(Ms=null,n=Gi(n),n!==null){var r=l(n);if(r===null)n=null;else{var s=r.tag;if(s===13){if(n=f(r),n!==null)return n;n=null}else if(s===3){if(r.stateNode.current.memoizedState.isDehydrated)return r.tag===3?r.stateNode.containerInfo:null;n=null}else r!==n&&(n=null)}}return Ms=n,null}function Sp(n){switch(n){case"beforetoggle":case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"toggle":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 2;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 8;case"message":switch(t_()){case Of:return 2;case Lf:return 8;case So:case n_:return 32;case Pf:return 268435456;default:return 32}default:return 32}}var bc=!1,jn=null,ei=null,ti=null,$a=new Map,Fa=new Map,ni=[],gT="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset".split(" ");function Cp(n,r){switch(n){case"focusin":case"focusout":jn=null;break;case"dragenter":case"dragleave":ei=null;break;case"mouseover":case"mouseout":ti=null;break;case"pointerover":case"pointerout":$a.delete(r.pointerId);break;case"gotpointercapture":case"lostpointercapture":Fa.delete(r.pointerId)}}function Ya(n,r,s,u,h,y){return n===null||n.nativeEvent!==y?(n={blockedOn:r,domEventName:s,eventSystemFlags:u,nativeEvent:y,targetContainers:[h]},r!==null&&(r=Hi(r),r!==null&&Tp(r)),n):(n.eventSystemFlags|=u,r=n.targetContainers,h!==null&&r.indexOf(h)===-1&&r.push(h),n)}function yT(n,r,s,u,h){switch(r){case"focusin":return jn=Ya(jn,n,r,s,u,h),!0;case"dragenter":return ei=Ya(ei,n,r,s,u,h),!0;case"mouseover":return ti=Ya(ti,n,r,s,u,h),!0;case"pointerover":var y=h.pointerId;return $a.set(y,Ya($a.get(y)||null,n,r,s,u,h)),!0;case"gotpointercapture":return y=h.pointerId,Fa.set(y,Ya(Fa.get(y)||null,n,r,s,u,h)),!0}return!1}function Ep(n){var r=Gi(n.target);if(r!==null){var s=l(r);if(s!==null){if(r=s.tag,r===13){if(r=f(s),r!==null){n.blockedOn=r,c_(n.priority,function(){if(s.tag===13){var u=Ut();u=_l(u);var h=tr(s,u);h!==null&&It(h,s,u),Ec(s,u)}});return}}else if(r===3&&s.stateNode.current.memoizedState.isDehydrated){n.blockedOn=s.tag===3?s.stateNode.containerInfo:null;return}}}n.blockedOn=null}function Ds(n){if(n.blockedOn!==null)return!1;for(var r=n.targetContainers;0<r.length;){var s=wc(n.nativeEvent);if(s===null){s=n.nativeEvent;var u=new s.constructor(s.type,s);Ml=u,s.target.dispatchEvent(u),Ml=null}else return r=Hi(s),r!==null&&Tp(r),n.blockedOn=s,!1;r.shift()}return!0}function Ap(n,r,s){Ds(n)&&s.delete(r)}function vT(){bc=!1,jn!==null&&Ds(jn)&&(jn=null),ei!==null&&Ds(ei)&&(ei=null),ti!==null&&Ds(ti)&&(ti=null),$a.forEach(Ap),Fa.forEach(Ap)}function Ns(n,r){n.blockedOn===r&&(n.blockedOn=null,bc||(bc=!0,a.unstable_scheduleCallback(a.unstable_NormalPriority,vT)))}var ks=null;function wp(n){ks!==n&&(ks=n,a.unstable_scheduleCallback(a.unstable_NormalPriority,function(){ks===n&&(ks=null);for(var r=0;r<n.length;r+=3){var s=n[r],u=n[r+1],h=n[r+2];if(typeof u!="function"){if(xc(u||s)===null)continue;break}var y=Hi(s);y!==null&&(n.splice(r,3),r-=3,xu(y,{pending:!0,data:h,method:s.method,action:u},u,h))}}))}function Ja(n){function r(w){return Ns(w,n)}jn!==null&&Ns(jn,n),ei!==null&&Ns(ei,n),ti!==null&&Ns(ti,n),$a.forEach(r),Fa.forEach(r);for(var s=0;s<ni.length;s++){var u=ni[s];u.blockedOn===n&&(u.blockedOn=null)}for(;0<ni.length&&(s=ni[0],s.blockedOn===null);)Ep(s),s.blockedOn===null&&ni.shift();if(s=(n.ownerDocument||n).$$reactFormReplay,s!=null)for(u=0;u<s.length;u+=3){var h=s[u],y=s[u+1],T=h[_t]||null;if(typeof y=="function")T||wp(s);else if(T){var C=null;if(y&&y.hasAttribute("formAction")){if(h=y,T=y[_t]||null)C=T.formAction;else if(xc(h)!==null)continue}else C=T.action;typeof C=="function"?s[u+1]=C:(s.splice(u,3),u-=3),wp(s)}}}function Rc(n){this._internalRoot=n}Us.prototype.render=Rc.prototype.render=function(n){var r=this._internalRoot;if(r===null)throw Error(i(409));var s=r.current,u=Ut();vp(s,u,n,r,null,null)},Us.prototype.unmount=Rc.prototype.unmount=function(){var n=this._internalRoot;if(n!==null){this._internalRoot=null;var r=n.containerInfo;vp(n.current,2,null,n,null,null),ms(),r[zi]=null}};function Us(n){this._internalRoot=n}Us.prototype.unstable_scheduleHydration=function(n){if(n){var r=Gf();n={blockedOn:null,target:n,priority:r};for(var s=0;s<ni.length&&r!==0&&r<ni[s].priority;s++);ni.splice(s,0,n),s===0&&Ep(n)}};var xp=e.version;if(xp!=="19.1.0")throw Error(i(527,xp,"19.1.0"));K.findDOMNode=function(n){var r=n._reactInternals;if(r===void 0)throw typeof n.render=="function"?Error(i(188)):(n=Object.keys(n).join(","),Error(i(268,n)));return n=g(r),n=n!==null?p(n):null,n=n===null?null:n.stateNode,n};var _T={bundleType:0,version:"19.1.0",rendererPackageName:"react-dom",currentDispatcherRef:P,reconcilerVersion:"19.1.0"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var Is=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!Is.isDisabled&&Is.supportsFiber)try{Qr=Is.inject(_T),xt=Is}catch{}}return Ka.createRoot=function(n,r){if(!o(n))throw Error(i(299));var s=!1,u="",h=Gh,y=Hh,T=$h,C=null;return r!=null&&(r.unstable_strictMode===!0&&(s=!0),r.identifierPrefix!==void 0&&(u=r.identifierPrefix),r.onUncaughtError!==void 0&&(h=r.onUncaughtError),r.onCaughtError!==void 0&&(y=r.onCaughtError),r.onRecoverableError!==void 0&&(T=r.onRecoverableError),r.unstable_transitionCallbacks!==void 0&&(C=r.unstable_transitionCallbacks)),r=gp(n,1,!1,null,null,s,u,h,y,T,C,null),n[zi]=r.current,cc(n),new Rc(r)},Ka.hydrateRoot=function(n,r,s){if(!o(n))throw Error(i(299));var u=!1,h="",y=Gh,T=Hh,C=$h,w=null,k=null;return s!=null&&(s.unstable_strictMode===!0&&(u=!0),s.identifierPrefix!==void 0&&(h=s.identifierPrefix),s.onUncaughtError!==void 0&&(y=s.onUncaughtError),s.onCaughtError!==void 0&&(T=s.onCaughtError),s.onRecoverableError!==void 0&&(C=s.onRecoverableError),s.unstable_transitionCallbacks!==void 0&&(w=s.unstable_transitionCallbacks),s.formState!==void 0&&(k=s.formState)),r=gp(n,1,!0,r,s??null,u,h,y,T,C,w,k),r.context=yp(null),s=r.current,u=Ut(),u=_l(u),h=qn(u),h.callback=null,Bn(s,h,u),s=u,r.current.lanes=s,jr(r,s),an(r),n[zi]=r.current,cc(n),new Us(r)},Ka.version="19.1.0",Ka}var Lp;function NT(){if(Lp)return Nc.exports;Lp=1;function a(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(a)}catch(e){console.error(e)}}return a(),Nc.exports=DT(),Nc.exports}var kT=NT(),Xa={},Pp;function UT(){if(Pp)return Xa;Pp=1,Object.defineProperty(Xa,"__esModule",{value:!0}),Xa.parse=f,Xa.serialize=p;const a=/^[\u0021-\u003A\u003C\u003E-\u007E]+$/,e=/^[\u0021-\u003A\u003C-\u007E]*$/,t=/^([.]?[a-z0-9]([a-z0-9-]{0,61}[a-z0-9])?)([.][a-z0-9]([a-z0-9-]{0,61}[a-z0-9])?)*$/i,i=/^[\u0020-\u003A\u003D-\u007E]*$/,o=Object.prototype.toString,l=(()=>{const S=function(){};return S.prototype=Object.create(null),S})();function f(S,E){const A=new l,b=S.length;if(b<2)return A;const N=(E==null?void 0:E.decode)||v;let O=0;do{const q=S.indexOf("=",O);if(q===-1)break;const H=S.indexOf(";",O),J=H===-1?b:H;if(q>J){O=S.lastIndexOf(";",q-1)+1;continue}const F=m(S,O,q),oe=g(S,q,F),se=S.slice(F,oe);if(A[se]===void 0){let ve=m(S,q+1,J),te=g(S,J,ve);const me=N(S.slice(ve,te));A[se]=me}O=J+1}while(O<b);return A}function m(S,E,A){do{const b=S.charCodeAt(E);if(b!==32&&b!==9)return E}while(++E<A);return A}function g(S,E,A){for(;E>A;){const b=S.charCodeAt(--E);if(b!==32&&b!==9)return E+1}return A}function p(S,E,A){const b=(A==null?void 0:A.encode)||encodeURIComponent;if(!a.test(S))throw new TypeError(`argument name is invalid: ${S}`);const N=b(E);if(!e.test(N))throw new TypeError(`argument val is invalid: ${E}`);let O=S+"="+N;if(!A)return O;if(A.maxAge!==void 0){if(!Number.isInteger(A.maxAge))throw new TypeError(`option maxAge is invalid: ${A.maxAge}`);O+="; Max-Age="+A.maxAge}if(A.domain){if(!t.test(A.domain))throw new TypeError(`option domain is invalid: ${A.domain}`);O+="; Domain="+A.domain}if(A.path){if(!i.test(A.path))throw new TypeError(`option path is invalid: ${A.path}`);O+="; Path="+A.path}if(A.expires){if(!_(A.expires)||!Number.isFinite(A.expires.valueOf()))throw new TypeError(`option expires is invalid: ${A.expires}`);O+="; Expires="+A.expires.toUTCString()}if(A.httpOnly&&(O+="; HttpOnly"),A.secure&&(O+="; Secure"),A.partitioned&&(O+="; Partitioned"),A.priority)switch(typeof A.priority=="string"?A.priority.toLowerCase():void 0){case"low":O+="; Priority=Low";break;case"medium":O+="; Priority=Medium";break;case"high":O+="; Priority=High";break;default:throw new TypeError(`option priority is invalid: ${A.priority}`)}if(A.sameSite)switch(typeof A.sameSite=="string"?A.sameSite.toLowerCase():A.sameSite){case!0:case"strict":O+="; SameSite=Strict";break;case"lax":O+="; SameSite=Lax";break;case"none":O+="; SameSite=None";break;default:throw new TypeError(`option sameSite is invalid: ${A.sameSite}`)}return O}function v(S){if(S.indexOf("%")===-1)return S;try{return decodeURIComponent(S)}catch{return S}}function _(S){return o.call(S)==="[object Date]"}return Xa}UT();var Vp="popstate";function IT(a={}){function e(i,o){let{pathname:l,search:f,hash:m}=i.location;return Fc("",{pathname:l,search:f,hash:m},o.state&&o.state.usr||null,o.state&&o.state.key||"default")}function t(i,o){return typeof o=="string"?o:fo(o)}return LT(e,t,null,a)}function Ye(a,e){if(a===!1||a===null||typeof a>"u")throw new Error(e)}function fn(a,e){if(!a){typeof console<"u"&&console.warn(e);try{throw new Error(e)}catch{}}}function OT(){return Math.random().toString(36).substring(2,10)}function qp(a,e){return{usr:a.state,key:a.key,idx:e}}function Fc(a,e,t=null,i){return{pathname:typeof a=="string"?a:a.pathname,search:"",hash:"",...typeof e=="string"?Jr(e):e,state:t,key:e&&e.key||i||OT()}}function fo({pathname:a="/",search:e="",hash:t=""}){return e&&e!=="?"&&(a+=e.charAt(0)==="?"?e:"?"+e),t&&t!=="#"&&(a+=t.charAt(0)==="#"?t:"#"+t),a}function Jr(a){let e={};if(a){let t=a.indexOf("#");t>=0&&(e.hash=a.substring(t),a=a.substring(0,t));let i=a.indexOf("?");i>=0&&(e.search=a.substring(i),a=a.substring(0,i)),a&&(e.pathname=a)}return e}function LT(a,e,t,i={}){let{window:o=document.defaultView,v5Compat:l=!1}=i,f=o.history,m="POP",g=null,p=v();p==null&&(p=0,f.replaceState({...f.state,idx:p},""));function v(){return(f.state||{idx:null}).idx}function _(){m="POP";let N=v(),O=N==null?null:N-p;p=N,g&&g({action:m,location:b.location,delta:O})}function S(N,O){m="PUSH";let q=Fc(b.location,N,O);p=v()+1;let H=qp(q,p),J=b.createHref(q);try{f.pushState(H,"",J)}catch(F){if(F instanceof DOMException&&F.name==="DataCloneError")throw F;o.location.assign(J)}l&&g&&g({action:m,location:b.location,delta:1})}function E(N,O){m="REPLACE";let q=Fc(b.location,N,O);p=v();let H=qp(q,p),J=b.createHref(q);f.replaceState(H,"",J),l&&g&&g({action:m,location:b.location,delta:0})}function A(N){return PT(N)}let b={get action(){return m},get location(){return a(o,f)},listen(N){if(g)throw new Error("A history only accepts one active listener");return o.addEventListener(Vp,_),g=N,()=>{o.removeEventListener(Vp,_),g=null}},createHref(N){return e(o,N)},createURL:A,encodeLocation(N){let O=A(N);return{pathname:O.pathname,search:O.search,hash:O.hash}},push:S,replace:E,go(N){return f.go(N)}};return b}function PT(a,e=!1){let t="http://localhost";typeof window<"u"&&(t=window.location.origin!=="null"?window.location.origin:window.location.href),Ye(t,"No window.location.(origin|href) available to create URL");let i=typeof a=="string"?a:fo(a);return i=i.replace(/ $/,"%20"),!e&&i.startsWith("//")&&(i=t+i),new URL(i,t)}function Gy(a,e,t="/"){return VT(a,e,t,!1)}function VT(a,e,t,i){let o=typeof e=="string"?Jr(e):e,l=Nn(o.pathname||"/",t);if(l==null)return null;let f=Hy(a);qT(f);let m=null;for(let g=0;m==null&&g<f.length;++g){let p=XT(l);m=ZT(f[g],p,i)}return m}function Hy(a,e=[],t=[],i=""){let o=(l,f,m)=>{let g={relativePath:m===void 0?l.path||"":m,caseSensitive:l.caseSensitive===!0,childrenIndex:f,route:l};g.relativePath.startsWith("/")&&(Ye(g.relativePath.startsWith(i),`Absolute route path "${g.relativePath}" nested under path "${i}" is not valid. An absolute child route path must start with the combined path of all its parent routes.`),g.relativePath=g.relativePath.slice(i.length));let p=Dn([i,g.relativePath]),v=t.concat(g);l.children&&l.children.length>0&&(Ye(l.index!==!0,`Index routes must not have child routes. Please remove all child routes from route path "${p}".`),Hy(l.children,e,v,p)),!(l.path==null&&!l.index)&&e.push({path:p,score:YT(p,l.index),routesMeta:v})};return a.forEach((l,f)=>{var m;if(l.path===""||!((m=l.path)!=null&&m.includes("?")))o(l,f);else for(let g of $y(l.path))o(l,f,g)}),e}function $y(a){let e=a.split("/");if(e.length===0)return[];let[t,...i]=e,o=t.endsWith("?"),l=t.replace(/\?$/,"");if(i.length===0)return o?[l,""]:[l];let f=$y(i.join("/")),m=[];return m.push(...f.map(g=>g===""?l:[l,g].join("/"))),o&&m.push(...f),m.map(g=>a.startsWith("/")&&g===""?"/":g)}function qT(a){a.sort((e,t)=>e.score!==t.score?t.score-e.score:JT(e.routesMeta.map(i=>i.childrenIndex),t.routesMeta.map(i=>i.childrenIndex)))}var BT=/^:[\w-]+$/,zT=3,GT=2,HT=1,$T=10,FT=-2,Bp=a=>a==="*";function YT(a,e){let t=a.split("/"),i=t.length;return t.some(Bp)&&(i+=FT),e&&(i+=GT),t.filter(o=>!Bp(o)).reduce((o,l)=>o+(BT.test(l)?zT:l===""?HT:$T),i)}function JT(a,e){return a.length===e.length&&a.slice(0,-1).every((i,o)=>i===e[o])?a[a.length-1]-e[e.length-1]:0}function ZT(a,e,t=!1){let{routesMeta:i}=a,o={},l="/",f=[];for(let m=0;m<i.length;++m){let g=i[m],p=m===i.length-1,v=l==="/"?e:e.slice(l.length)||"/",_=Ks({path:g.relativePath,caseSensitive:g.caseSensitive,end:p},v),S=g.route;if(!_&&p&&t&&!i[i.length-1].route.index&&(_=Ks({path:g.relativePath,caseSensitive:g.caseSensitive,end:!1},v)),!_)return null;Object.assign(o,_.params),f.push({params:o,pathname:Dn([l,_.pathname]),pathnameBase:eS(Dn([l,_.pathnameBase])),route:S}),_.pathnameBase!=="/"&&(l=Dn([l,_.pathnameBase]))}return f}function Ks(a,e){typeof a=="string"&&(a={path:a,caseSensitive:!1,end:!0});let[t,i]=KT(a.path,a.caseSensitive,a.end),o=e.match(t);if(!o)return null;let l=o[0],f=l.replace(/(.)\/+$/,"$1"),m=o.slice(1);return{params:i.reduce((p,{paramName:v,isOptional:_},S)=>{if(v==="*"){let A=m[S]||"";f=l.slice(0,l.length-A.length).replace(/(.)\/+$/,"$1")}const E=m[S];return _&&!E?p[v]=void 0:p[v]=(E||"").replace(/%2F/g,"/"),p},{}),pathname:l,pathnameBase:f,pattern:a}}function KT(a,e=!1,t=!0){fn(a==="*"||!a.endsWith("*")||a.endsWith("/*"),`Route path "${a}" will be treated as if it were "${a.replace(/\*$/,"/*")}" because the \`*\` character must always follow a \`/\` in the pattern. To get rid of this warning, please change the route path to "${a.replace(/\*$/,"/*")}".`);let i=[],o="^"+a.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(f,m,g)=>(i.push({paramName:m,isOptional:g!=null}),g?"/?([^\\/]+)?":"/([^\\/]+)"));return a.endsWith("*")?(i.push({paramName:"*"}),o+=a==="*"||a==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):t?o+="\\/*$":a!==""&&a!=="/"&&(o+="(?:(?=\\/|$))"),[new RegExp(o,e?void 0:"i"),i]}function XT(a){try{return a.split("/").map(e=>decodeURIComponent(e).replace(/\//g,"%2F")).join("/")}catch(e){return fn(!1,`The URL path "${a}" could not be decoded because it is a malformed URL segment. This is probably due to a bad percent encoding (${e}).`),a}}function Nn(a,e){if(e==="/")return a;if(!a.toLowerCase().startsWith(e.toLowerCase()))return null;let t=e.endsWith("/")?e.length-1:e.length,i=a.charAt(t);return i&&i!=="/"?null:a.slice(t)||"/"}function QT(a,e="/"){let{pathname:t,search:i="",hash:o=""}=typeof a=="string"?Jr(a):a;return{pathname:t?t.startsWith("/")?t:WT(t,e):e,search:tS(i),hash:nS(o)}}function WT(a,e){let t=e.replace(/\/+$/,"").split("/");return a.split("/").forEach(o=>{o===".."?t.length>1&&t.pop():o!=="."&&t.push(o)}),t.length>1?t.join("/"):"/"}function Oc(a,e,t,i){return`Cannot include a '${a}' character in a manually specified \`to.${e}\` field [${JSON.stringify(i)}].  Please separate it out to the \`to.${t}\` field. Alternatively you may provide the full path as a string in <Link to="..."> and the router will parse it for you.`}function jT(a){return a.filter((e,t)=>t===0||e.route.path&&e.route.path.length>0)}function Fy(a){let e=jT(a);return e.map((t,i)=>i===e.length-1?t.pathname:t.pathnameBase)}function Yy(a,e,t,i=!1){let o;typeof a=="string"?o=Jr(a):(o={...a},Ye(!o.pathname||!o.pathname.includes("?"),Oc("?","pathname","search",o)),Ye(!o.pathname||!o.pathname.includes("#"),Oc("#","pathname","hash",o)),Ye(!o.search||!o.search.includes("#"),Oc("#","search","hash",o)));let l=a===""||o.pathname==="",f=l?"/":o.pathname,m;if(f==null)m=t;else{let _=e.length-1;if(!i&&f.startsWith("..")){let S=f.split("/");for(;S[0]==="..";)S.shift(),_-=1;o.pathname=S.join("/")}m=_>=0?e[_]:"/"}let g=QT(o,m),p=f&&f!=="/"&&f.endsWith("/"),v=(l||f===".")&&t.endsWith("/");return!g.pathname.endsWith("/")&&(p||v)&&(g.pathname+="/"),g}var Dn=a=>a.join("/").replace(/\/\/+/g,"/"),eS=a=>a.replace(/\/+$/,"").replace(/^\/*/,"/"),tS=a=>!a||a==="?"?"":a.startsWith("?")?a:"?"+a,nS=a=>!a||a==="#"?"":a.startsWith("#")?a:"#"+a;function iS(a){return a!=null&&typeof a.status=="number"&&typeof a.statusText=="string"&&typeof a.internal=="boolean"&&"data"in a}var Jy=["POST","PUT","PATCH","DELETE"];new Set(Jy);var rS=["GET",...Jy];new Set(rS);var Zr=L.createContext(null);Zr.displayName="DataRouter";var sl=L.createContext(null);sl.displayName="DataRouterState";var Zy=L.createContext({isTransitioning:!1});Zy.displayName="ViewTransition";var aS=L.createContext(new Map);aS.displayName="Fetchers";var oS=L.createContext(null);oS.displayName="Await";var hn=L.createContext(null);hn.displayName="Navigation";var po=L.createContext(null);po.displayName="Location";var Un=L.createContext({outlet:null,matches:[],isDataRoute:!1});Un.displayName="Route";var Sf=L.createContext(null);Sf.displayName="RouteError";function sS(a,{relative:e}={}){Ye(go(),"useHref() may be used only in the context of a <Router> component.");let{basename:t,navigator:i}=L.useContext(hn),{hash:o,pathname:l,search:f}=yo(a,{relative:e}),m=l;return t!=="/"&&(m=l==="/"?t:Dn([t,l])),i.createHref({pathname:m,search:f,hash:o})}function go(){return L.useContext(po)!=null}function qi(){return Ye(go(),"useLocation() may be used only in the context of a <Router> component."),L.useContext(po).location}var Ky="You should call navigate() in a React.useEffect(), not when your component is first rendered.";function Xy(a){L.useContext(hn).static||L.useLayoutEffect(a)}function Qy(){let{isDataRoute:a}=L.useContext(Un);return a?TS():lS()}function lS(){Ye(go(),"useNavigate() may be used only in the context of a <Router> component.");let a=L.useContext(Zr),{basename:e,navigator:t}=L.useContext(hn),{matches:i}=L.useContext(Un),{pathname:o}=qi(),l=JSON.stringify(Fy(i)),f=L.useRef(!1);return Xy(()=>{f.current=!0}),L.useCallback((g,p={})=>{if(fn(f.current,Ky),!f.current)return;if(typeof g=="number"){t.go(g);return}let v=Yy(g,JSON.parse(l),o,p.relative==="path");a==null&&e!=="/"&&(v.pathname=v.pathname==="/"?e:Dn([e,v.pathname])),(p.replace?t.replace:t.push)(v,p.state,p)},[e,t,l,o,a])}L.createContext(null);function yo(a,{relative:e}={}){let{matches:t}=L.useContext(Un),{pathname:i}=qi(),o=JSON.stringify(Fy(t));return L.useMemo(()=>Yy(a,JSON.parse(o),i,e==="path"),[a,o,i,e])}function uS(a,e){return Wy(a,e)}function Wy(a,e,t,i){var O;Ye(go(),"useRoutes() may be used only in the context of a <Router> component.");let{navigator:o}=L.useContext(hn),{matches:l}=L.useContext(Un),f=l[l.length-1],m=f?f.params:{},g=f?f.pathname:"/",p=f?f.pathnameBase:"/",v=f&&f.route;{let q=v&&v.path||"";jy(g,!v||q.endsWith("*")||q.endsWith("*?"),`You rendered descendant <Routes> (or called \`useRoutes()\`) at "${g}" (under <Route path="${q}">) but the parent route path has no trailing "*". This means if you navigate deeper, the parent won't match anymore and therefore the child routes will never render.

Please change the parent <Route path="${q}"> to <Route path="${q==="/"?"*":`${q}/*`}">.`)}let _=qi(),S;if(e){let q=typeof e=="string"?Jr(e):e;Ye(p==="/"||((O=q.pathname)==null?void 0:O.startsWith(p)),`When overriding the location using \`<Routes location>\` or \`useRoutes(routes, location)\`, the location pathname must begin with the portion of the URL pathname that was matched by all parent routes. The current pathname base is "${p}" but pathname "${q.pathname}" was given in the \`location\` prop.`),S=q}else S=_;let E=S.pathname||"/",A=E;if(p!=="/"){let q=p.replace(/^\//,"").split("/");A="/"+E.replace(/^\//,"").split("/").slice(q.length).join("/")}let b=Gy(a,{pathname:A});fn(v||b!=null,`No routes matched location "${S.pathname}${S.search}${S.hash}" `),fn(b==null||b[b.length-1].route.element!==void 0||b[b.length-1].route.Component!==void 0||b[b.length-1].route.lazy!==void 0,`Matched leaf route at location "${S.pathname}${S.search}${S.hash}" does not have an element or Component. This means it will render an <Outlet /> with a null value by default resulting in an "empty" page.`);let N=mS(b&&b.map(q=>Object.assign({},q,{params:Object.assign({},m,q.params),pathname:Dn([p,o.encodeLocation?o.encodeLocation(q.pathname).pathname:q.pathname]),pathnameBase:q.pathnameBase==="/"?p:Dn([p,o.encodeLocation?o.encodeLocation(q.pathnameBase).pathname:q.pathnameBase])})),l,t,i);return e&&N?L.createElement(po.Provider,{value:{location:{pathname:"/",search:"",hash:"",state:null,key:"default",...S},navigationType:"POP"}},N):N}function cS(){let a=_S(),e=iS(a)?`${a.status} ${a.statusText}`:a instanceof Error?a.message:JSON.stringify(a),t=a instanceof Error?a.stack:null,i="rgba(200,200,200, 0.5)",o={padding:"0.5rem",backgroundColor:i},l={padding:"2px 4px",backgroundColor:i},f=null;return console.error("Error handled by React Router default ErrorBoundary:",a),f=L.createElement(L.Fragment,null,L.createElement("p",null,"💿 Hey developer 👋"),L.createElement("p",null,"You can provide a way better UX than this when your app throws errors by providing your own ",L.createElement("code",{style:l},"ErrorBoundary")," or"," ",L.createElement("code",{style:l},"errorElement")," prop on your route.")),L.createElement(L.Fragment,null,L.createElement("h2",null,"Unexpected Application Error!"),L.createElement("h3",{style:{fontStyle:"italic"}},e),t?L.createElement("pre",{style:o},t):null,f)}var fS=L.createElement(cS,null),dS=class extends L.Component{constructor(a){super(a),this.state={location:a.location,revalidation:a.revalidation,error:a.error}}static getDerivedStateFromError(a){return{error:a}}static getDerivedStateFromProps(a,e){return e.location!==a.location||e.revalidation!=="idle"&&a.revalidation==="idle"?{error:a.error,location:a.location,revalidation:a.revalidation}:{error:a.error!==void 0?a.error:e.error,location:e.location,revalidation:a.revalidation||e.revalidation}}componentDidCatch(a,e){console.error("React Router caught the following error during render",a,e)}render(){return this.state.error!==void 0?L.createElement(Un.Provider,{value:this.props.routeContext},L.createElement(Sf.Provider,{value:this.state.error,children:this.props.component})):this.props.children}};function hS({routeContext:a,match:e,children:t}){let i=L.useContext(Zr);return i&&i.static&&i.staticContext&&(e.route.errorElement||e.route.ErrorBoundary)&&(i.staticContext._deepestRenderedBoundaryId=e.route.id),L.createElement(Un.Provider,{value:a},t)}function mS(a,e=[],t=null,i=null){if(a==null){if(!t)return null;if(t.errors)a=t.matches;else if(e.length===0&&!t.initialized&&t.matches.length>0)a=t.matches;else return null}let o=a,l=t==null?void 0:t.errors;if(l!=null){let g=o.findIndex(p=>p.route.id&&(l==null?void 0:l[p.route.id])!==void 0);Ye(g>=0,`Could not find a matching route for errors on route IDs: ${Object.keys(l).join(",")}`),o=o.slice(0,Math.min(o.length,g+1))}let f=!1,m=-1;if(t)for(let g=0;g<o.length;g++){let p=o[g];if((p.route.HydrateFallback||p.route.hydrateFallbackElement)&&(m=g),p.route.id){let{loaderData:v,errors:_}=t,S=p.route.loader&&!v.hasOwnProperty(p.route.id)&&(!_||_[p.route.id]===void 0);if(p.route.lazy||S){f=!0,m>=0?o=o.slice(0,m+1):o=[o[0]];break}}}return o.reduceRight((g,p,v)=>{let _,S=!1,E=null,A=null;t&&(_=l&&p.route.id?l[p.route.id]:void 0,E=p.route.errorElement||fS,f&&(m<0&&v===0?(jy("route-fallback",!1,"No `HydrateFallback` element provided to render during initial hydration"),S=!0,A=null):m===v&&(S=!0,A=p.route.hydrateFallbackElement||null)));let b=e.concat(o.slice(0,v+1)),N=()=>{let O;return _?O=E:S?O=A:p.route.Component?O=L.createElement(p.route.Component,null):p.route.element?O=p.route.element:O=g,L.createElement(hS,{match:p,routeContext:{outlet:g,matches:b,isDataRoute:t!=null},children:O})};return t&&(p.route.ErrorBoundary||p.route.errorElement||v===0)?L.createElement(dS,{location:t.location,revalidation:t.revalidation,component:E,error:_,children:N(),routeContext:{outlet:null,matches:b,isDataRoute:!0}}):N()},null)}function Cf(a){return`${a} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function pS(a){let e=L.useContext(Zr);return Ye(e,Cf(a)),e}function gS(a){let e=L.useContext(sl);return Ye(e,Cf(a)),e}function yS(a){let e=L.useContext(Un);return Ye(e,Cf(a)),e}function Ef(a){let e=yS(a),t=e.matches[e.matches.length-1];return Ye(t.route.id,`${a} can only be used on routes that contain a unique "id"`),t.route.id}function vS(){return Ef("useRouteId")}function _S(){var i;let a=L.useContext(Sf),e=gS("useRouteError"),t=Ef("useRouteError");return a!==void 0?a:(i=e.errors)==null?void 0:i[t]}function TS(){let{router:a}=pS("useNavigate"),e=Ef("useNavigate"),t=L.useRef(!1);return Xy(()=>{t.current=!0}),L.useCallback(async(o,l={})=>{fn(t.current,Ky),t.current&&(typeof o=="number"?a.navigate(o):await a.navigate(o,{fromRouteId:e,...l}))},[a,e])}var zp={};function jy(a,e,t){!e&&!zp[a]&&(zp[a]=!0,fn(!1,t))}L.memo(SS);function SS({routes:a,future:e,state:t}){return Wy(a,void 0,t,e)}function Yc(a){Ye(!1,"A <Route> is only ever to be used as the child of <Routes> element, never rendered directly. Please wrap your <Route> in a <Routes>.")}function CS({basename:a="/",children:e=null,location:t,navigationType:i="POP",navigator:o,static:l=!1}){Ye(!go(),"You cannot render a <Router> inside another <Router>. You should never have more than one in your app.");let f=a.replace(/^\/*/,"/"),m=L.useMemo(()=>({basename:f,navigator:o,static:l,future:{}}),[f,o,l]);typeof t=="string"&&(t=Jr(t));let{pathname:g="/",search:p="",hash:v="",state:_=null,key:S="default"}=t,E=L.useMemo(()=>{let A=Nn(g,f);return A==null?null:{location:{pathname:A,search:p,hash:v,state:_,key:S},navigationType:i}},[f,g,p,v,_,S,i]);return fn(E!=null,`<Router basename="${f}"> is not able to match the URL "${g}${p}${v}" because it does not start with the basename, so the <Router> won't render anything.`),E==null?null:L.createElement(hn.Provider,{value:m},L.createElement(po.Provider,{children:e,value:E}))}function ES({children:a,location:e}){return uS(Jc(a),e)}function Jc(a,e=[]){let t=[];return L.Children.forEach(a,(i,o)=>{if(!L.isValidElement(i))return;let l=[...e,o];if(i.type===L.Fragment){t.push.apply(t,Jc(i.props.children,l));return}Ye(i.type===Yc,`[${typeof i.type=="string"?i.type:i.type.name}] is not a <Route> component. All component children of <Routes> must be a <Route> or <React.Fragment>`),Ye(!i.props.index||!i.props.children,"An index route cannot have child routes.");let f={id:i.props.id||l.join("-"),caseSensitive:i.props.caseSensitive,element:i.props.element,Component:i.props.Component,index:i.props.index,path:i.props.path,loader:i.props.loader,action:i.props.action,hydrateFallbackElement:i.props.hydrateFallbackElement,HydrateFallback:i.props.HydrateFallback,errorElement:i.props.errorElement,ErrorBoundary:i.props.ErrorBoundary,hasErrorBoundary:i.props.hasErrorBoundary===!0||i.props.ErrorBoundary!=null||i.props.errorElement!=null,shouldRevalidate:i.props.shouldRevalidate,handle:i.props.handle,lazy:i.props.lazy};i.props.children&&(f.children=Jc(i.props.children,l)),t.push(f)}),t}var Hs="get",$s="application/x-www-form-urlencoded";function ll(a){return a!=null&&typeof a.tagName=="string"}function AS(a){return ll(a)&&a.tagName.toLowerCase()==="button"}function wS(a){return ll(a)&&a.tagName.toLowerCase()==="form"}function xS(a){return ll(a)&&a.tagName.toLowerCase()==="input"}function bS(a){return!!(a.metaKey||a.altKey||a.ctrlKey||a.shiftKey)}function RS(a,e){return a.button===0&&(!e||e==="_self")&&!bS(a)}var Os=null;function MS(){if(Os===null)try{new FormData(document.createElement("form"),0),Os=!1}catch{Os=!0}return Os}var DS=new Set(["application/x-www-form-urlencoded","multipart/form-data","text/plain"]);function Lc(a){return a!=null&&!DS.has(a)?(fn(!1,`"${a}" is not a valid \`encType\` for \`<Form>\`/\`<fetcher.Form>\` and will default to "${$s}"`),null):a}function NS(a,e){let t,i,o,l,f;if(wS(a)){let m=a.getAttribute("action");i=m?Nn(m,e):null,t=a.getAttribute("method")||Hs,o=Lc(a.getAttribute("enctype"))||$s,l=new FormData(a)}else if(AS(a)||xS(a)&&(a.type==="submit"||a.type==="image")){let m=a.form;if(m==null)throw new Error('Cannot submit a <button> or <input type="submit"> without a <form>');let g=a.getAttribute("formaction")||m.getAttribute("action");if(i=g?Nn(g,e):null,t=a.getAttribute("formmethod")||m.getAttribute("method")||Hs,o=Lc(a.getAttribute("formenctype"))||Lc(m.getAttribute("enctype"))||$s,l=new FormData(m,a),!MS()){let{name:p,type:v,value:_}=a;if(v==="image"){let S=p?`${p}.`:"";l.append(`${S}x`,"0"),l.append(`${S}y`,"0")}else p&&l.append(p,_)}}else{if(ll(a))throw new Error('Cannot submit element that is not <form>, <button>, or <input type="submit|image">');t=Hs,i=null,o=$s,f=a}return l&&o==="text/plain"&&(f=l,l=void 0),{action:i,method:t.toLowerCase(),encType:o,formData:l,body:f}}function Af(a,e){if(a===!1||a===null||typeof a>"u")throw new Error(e)}async function kS(a,e){if(a.id in e)return e[a.id];try{let t=await import(a.module);return e[a.id]=t,t}catch(t){return console.error(`Error loading route module \`${a.module}\`, reloading page...`),console.error(t),window.__reactRouterContext&&window.__reactRouterContext.isSpaMode,window.location.reload(),new Promise(()=>{})}}function US(a){return a==null?!1:a.href==null?a.rel==="preload"&&typeof a.imageSrcSet=="string"&&typeof a.imageSizes=="string":typeof a.rel=="string"&&typeof a.href=="string"}async function IS(a,e,t){let i=await Promise.all(a.map(async o=>{let l=e.routes[o.route.id];if(l){let f=await kS(l,t);return f.links?f.links():[]}return[]}));return VS(i.flat(1).filter(US).filter(o=>o.rel==="stylesheet"||o.rel==="preload").map(o=>o.rel==="stylesheet"?{...o,rel:"prefetch",as:"style"}:{...o,rel:"prefetch"}))}function Gp(a,e,t,i,o,l){let f=(g,p)=>t[p]?g.route.id!==t[p].route.id:!0,m=(g,p)=>{var v;return t[p].pathname!==g.pathname||((v=t[p].route.path)==null?void 0:v.endsWith("*"))&&t[p].params["*"]!==g.params["*"]};return l==="assets"?e.filter((g,p)=>f(g,p)||m(g,p)):l==="data"?e.filter((g,p)=>{var _;let v=i.routes[g.route.id];if(!v||!v.hasLoader)return!1;if(f(g,p)||m(g,p))return!0;if(g.route.shouldRevalidate){let S=g.route.shouldRevalidate({currentUrl:new URL(o.pathname+o.search+o.hash,window.origin),currentParams:((_=t[0])==null?void 0:_.params)||{},nextUrl:new URL(a,window.origin),nextParams:g.params,defaultShouldRevalidate:!0});if(typeof S=="boolean")return S}return!0}):[]}function OS(a,e,{includeHydrateFallback:t}={}){return LS(a.map(i=>{let o=e.routes[i.route.id];if(!o)return[];let l=[o.module];return o.clientActionModule&&(l=l.concat(o.clientActionModule)),o.clientLoaderModule&&(l=l.concat(o.clientLoaderModule)),t&&o.hydrateFallbackModule&&(l=l.concat(o.hydrateFallbackModule)),o.imports&&(l=l.concat(o.imports)),l}).flat(1))}function LS(a){return[...new Set(a)]}function PS(a){let e={},t=Object.keys(a).sort();for(let i of t)e[i]=a[i];return e}function VS(a,e){let t=new Set;return new Set(e),a.reduce((i,o)=>{let l=JSON.stringify(PS(o));return t.has(l)||(t.add(l),i.push({key:l,link:o})),i},[])}Object.getOwnPropertyNames(Object.prototype).sort().join("\0");var qS=new Set([100,101,204,205]);function BS(a,e){let t=typeof a=="string"?new URL(a,typeof window>"u"?"server://singlefetch/":window.location.origin):a;return t.pathname==="/"?t.pathname="_root.data":e&&Nn(t.pathname,e)==="/"?t.pathname=`${e.replace(/\/$/,"")}/_root.data`:t.pathname=`${t.pathname.replace(/\/$/,"")}.data`,t}function ev(){let a=L.useContext(Zr);return Af(a,"You must render this element inside a <DataRouterContext.Provider> element"),a}function zS(){let a=L.useContext(sl);return Af(a,"You must render this element inside a <DataRouterStateContext.Provider> element"),a}var wf=L.createContext(void 0);wf.displayName="FrameworkContext";function tv(){let a=L.useContext(wf);return Af(a,"You must render this element inside a <HydratedRouter> element"),a}function GS(a,e){let t=L.useContext(wf),[i,o]=L.useState(!1),[l,f]=L.useState(!1),{onFocus:m,onBlur:g,onMouseEnter:p,onMouseLeave:v,onTouchStart:_}=e,S=L.useRef(null);L.useEffect(()=>{if(a==="render"&&f(!0),a==="viewport"){let b=O=>{O.forEach(q=>{f(q.isIntersecting)})},N=new IntersectionObserver(b,{threshold:.5});return S.current&&N.observe(S.current),()=>{N.disconnect()}}},[a]),L.useEffect(()=>{if(i){let b=setTimeout(()=>{f(!0)},100);return()=>{clearTimeout(b)}}},[i]);let E=()=>{o(!0)},A=()=>{o(!1),f(!1)};return t?a!=="intent"?[l,S,{}]:[l,S,{onFocus:Qa(m,E),onBlur:Qa(g,A),onMouseEnter:Qa(p,E),onMouseLeave:Qa(v,A),onTouchStart:Qa(_,E)}]:[!1,S,{}]}function Qa(a,e){return t=>{a&&a(t),t.defaultPrevented||e(t)}}function HS({page:a,...e}){let{router:t}=ev(),i=L.useMemo(()=>Gy(t.routes,a,t.basename),[t.routes,a,t.basename]);return i?L.createElement(FS,{page:a,matches:i,...e}):null}function $S(a){let{manifest:e,routeModules:t}=tv(),[i,o]=L.useState([]);return L.useEffect(()=>{let l=!1;return IS(a,e,t).then(f=>{l||o(f)}),()=>{l=!0}},[a,e,t]),i}function FS({page:a,matches:e,...t}){let i=qi(),{manifest:o,routeModules:l}=tv(),{basename:f}=ev(),{loaderData:m,matches:g}=zS(),p=L.useMemo(()=>Gp(a,e,g,o,i,"data"),[a,e,g,o,i]),v=L.useMemo(()=>Gp(a,e,g,o,i,"assets"),[a,e,g,o,i]),_=L.useMemo(()=>{if(a===i.pathname+i.search+i.hash)return[];let A=new Set,b=!1;if(e.forEach(O=>{var H;let q=o.routes[O.route.id];!q||!q.hasLoader||(!p.some(J=>J.route.id===O.route.id)&&O.route.id in m&&((H=l[O.route.id])!=null&&H.shouldRevalidate)||q.hasClientLoader?b=!0:A.add(O.route.id))}),A.size===0)return[];let N=BS(a,f);return b&&A.size>0&&N.searchParams.set("_routes",e.filter(O=>A.has(O.route.id)).map(O=>O.route.id).join(",")),[N.pathname+N.search]},[f,m,i,o,p,e,a,l]),S=L.useMemo(()=>OS(v,o),[v,o]),E=$S(v);return L.createElement(L.Fragment,null,_.map(A=>L.createElement("link",{key:A,rel:"prefetch",as:"fetch",href:A,...t})),S.map(A=>L.createElement("link",{key:A,rel:"modulepreload",href:A,...t})),E.map(({key:A,link:b})=>L.createElement("link",{key:A,...b})))}function YS(...a){return e=>{a.forEach(t=>{typeof t=="function"?t(e):t!=null&&(t.current=e)})}}var nv=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u";try{nv&&(window.__reactRouterVersion="7.6.1")}catch{}function JS({basename:a,children:e,window:t}){let i=L.useRef();i.current==null&&(i.current=IT({window:t,v5Compat:!0}));let o=i.current,[l,f]=L.useState({action:o.action,location:o.location}),m=L.useCallback(g=>{L.startTransition(()=>f(g))},[f]);return L.useLayoutEffect(()=>o.listen(m),[o,m]),L.createElement(CS,{basename:a,children:e,location:l.location,navigationType:l.action,navigator:o})}var iv=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,rv=L.forwardRef(function({onClick:e,discover:t="render",prefetch:i="none",relative:o,reloadDocument:l,replace:f,state:m,target:g,to:p,preventScrollReset:v,viewTransition:_,...S},E){let{basename:A}=L.useContext(hn),b=typeof p=="string"&&iv.test(p),N,O=!1;if(typeof p=="string"&&b&&(N=p,nv))try{let te=new URL(window.location.href),me=p.startsWith("//")?new URL(te.protocol+p):new URL(p),ze=Nn(me.pathname,A);me.origin===te.origin&&ze!=null?p=ze+me.search+me.hash:O=!0}catch{fn(!1,`<Link to="${p}"> contains an invalid URL which will probably break when clicked - please update to a valid URL path.`)}let q=sS(p,{relative:o}),[H,J,F]=GS(i,S),oe=QS(p,{replace:f,state:m,target:g,preventScrollReset:v,relative:o,viewTransition:_});function se(te){e&&e(te),te.defaultPrevented||oe(te)}let ve=L.createElement("a",{...S,...F,href:N||q,onClick:O||l?e:se,ref:YS(E,J),target:g,"data-discover":!b&&t==="render"?"true":void 0});return H&&!b?L.createElement(L.Fragment,null,ve,L.createElement(HS,{page:q})):ve});rv.displayName="Link";var ZS=L.forwardRef(function({"aria-current":e="page",caseSensitive:t=!1,className:i="",end:o=!1,style:l,to:f,viewTransition:m,children:g,...p},v){let _=yo(f,{relative:p.relative}),S=qi(),E=L.useContext(sl),{navigator:A,basename:b}=L.useContext(hn),N=E!=null&&nC(_)&&m===!0,O=A.encodeLocation?A.encodeLocation(_).pathname:_.pathname,q=S.pathname,H=E&&E.navigation&&E.navigation.location?E.navigation.location.pathname:null;t||(q=q.toLowerCase(),H=H?H.toLowerCase():null,O=O.toLowerCase()),H&&b&&(H=Nn(H,b)||H);const J=O!=="/"&&O.endsWith("/")?O.length-1:O.length;let F=q===O||!o&&q.startsWith(O)&&q.charAt(J)==="/",oe=H!=null&&(H===O||!o&&H.startsWith(O)&&H.charAt(O.length)==="/"),se={isActive:F,isPending:oe,isTransitioning:N},ve=F?e:void 0,te;typeof i=="function"?te=i(se):te=[i,F?"active":null,oe?"pending":null,N?"transitioning":null].filter(Boolean).join(" ");let me=typeof l=="function"?l(se):l;return L.createElement(rv,{...p,"aria-current":ve,className:te,ref:v,style:me,to:f,viewTransition:m},typeof g=="function"?g(se):g)});ZS.displayName="NavLink";var KS=L.forwardRef(({discover:a="render",fetcherKey:e,navigate:t,reloadDocument:i,replace:o,state:l,method:f=Hs,action:m,onSubmit:g,relative:p,preventScrollReset:v,viewTransition:_,...S},E)=>{let A=eC(),b=tC(m,{relative:p}),N=f.toLowerCase()==="get"?"get":"post",O=typeof m=="string"&&iv.test(m),q=H=>{if(g&&g(H),H.defaultPrevented)return;H.preventDefault();let J=H.nativeEvent.submitter,F=(J==null?void 0:J.getAttribute("formmethod"))||f;A(J||H.currentTarget,{fetcherKey:e,method:F,navigate:t,replace:o,state:l,relative:p,preventScrollReset:v,viewTransition:_})};return L.createElement("form",{ref:E,method:N,action:b,onSubmit:i?g:q,...S,"data-discover":!O&&a==="render"?"true":void 0})});KS.displayName="Form";function XS(a){return`${a} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function av(a){let e=L.useContext(Zr);return Ye(e,XS(a)),e}function QS(a,{target:e,replace:t,state:i,preventScrollReset:o,relative:l,viewTransition:f}={}){let m=Qy(),g=qi(),p=yo(a,{relative:l});return L.useCallback(v=>{if(RS(v,e)){v.preventDefault();let _=t!==void 0?t:fo(g)===fo(p);m(a,{replace:_,state:i,preventScrollReset:o,relative:l,viewTransition:f})}},[g,m,p,t,i,e,a,o,l,f])}var WS=0,jS=()=>`__${String(++WS)}__`;function eC(){let{router:a}=av("useSubmit"),{basename:e}=L.useContext(hn),t=vS();return L.useCallback(async(i,o={})=>{let{action:l,method:f,encType:m,formData:g,body:p}=NS(i,e);if(o.navigate===!1){let v=o.fetcherKey||jS();await a.fetch(v,t,o.action||l,{preventScrollReset:o.preventScrollReset,formData:g,body:p,formMethod:o.method||f,formEncType:o.encType||m,flushSync:o.flushSync})}else await a.navigate(o.action||l,{preventScrollReset:o.preventScrollReset,formData:g,body:p,formMethod:o.method||f,formEncType:o.encType||m,replace:o.replace,state:o.state,fromRouteId:t,flushSync:o.flushSync,viewTransition:o.viewTransition})},[a,e,t])}function tC(a,{relative:e}={}){let{basename:t}=L.useContext(hn),i=L.useContext(Un);Ye(i,"useFormAction must be used inside a RouteContext");let[o]=i.matches.slice(-1),l={...yo(a||".",{relative:e})},f=qi();if(a==null){l.search=f.search;let m=new URLSearchParams(l.search),g=m.getAll("index");if(g.some(v=>v==="")){m.delete("index"),g.filter(_=>_).forEach(_=>m.append("index",_));let v=m.toString();l.search=v?`?${v}`:""}}return(!a||a===".")&&o.route.index&&(l.search=l.search?l.search.replace(/^\?/,"?index&"):"?index"),t!=="/"&&(l.pathname=l.pathname==="/"?t:Dn([t,l.pathname])),fo(l)}function nC(a,e={}){let t=L.useContext(Zy);Ye(t!=null,"`useViewTransitionState` must be used within `react-router-dom`'s `RouterProvider`.  Did you accidentally import `RouterProvider` from `react-router`?");let{basename:i}=av("useViewTransitionState"),o=yo(a,{relative:e.relative});if(!t.isTransitioning)return!1;let l=Nn(t.currentLocation.pathname,i)||t.currentLocation.pathname,f=Nn(t.nextLocation.pathname,i)||t.nextLocation.pathname;return Ks(o.pathname,f)!=null||Ks(o.pathname,l)!=null}[...qS];const iC="modulepreload",rC=function(a){return"/"+a},Hp={},qr=function(e,t,i){let o=Promise.resolve();if(t&&t.length>0){let f=function(p){return Promise.all(p.map(v=>Promise.resolve(v).then(_=>({status:"fulfilled",value:_}),_=>({status:"rejected",reason:_}))))};document.getElementsByTagName("link");const m=document.querySelector("meta[property=csp-nonce]"),g=(m==null?void 0:m.nonce)||(m==null?void 0:m.getAttribute("nonce"));o=f(t.map(p=>{if(p=rC(p),p in Hp)return;Hp[p]=!0;const v=p.endsWith(".css"),_=v?'[rel="stylesheet"]':"";if(document.querySelector(`link[href="${p}"]${_}`))return;const S=document.createElement("link");if(S.rel=v?"stylesheet":iC,v||(S.as="script"),S.crossOrigin="",S.href=p,g&&S.setAttribute("nonce",g),document.head.appendChild(S),v)return new Promise((E,A)=>{S.addEventListener("load",E),S.addEventListener("error",()=>A(new Error(`Unable to preload CSS for ${p}`)))})}))}function l(f){const m=new Event("vite:preloadError",{cancelable:!0});if(m.payload=f,window.dispatchEvent(m),!m.defaultPrevented)throw f}return o.then(f=>{for(const m of f||[])m.status==="rejected"&&l(m.reason);return e().catch(l)})},aC=a=>{let e;return a?e=a:typeof fetch>"u"?e=(...t)=>qr(async()=>{const{default:i}=await Promise.resolve().then(()=>Kr);return{default:i}},[]).then(({default:i})=>i(...t)):e=fetch,(...t)=>e(...t)};class xf extends Error{constructor(e,t="FunctionsError",i){super(e),this.name=t,this.context=i}}class oC extends xf{constructor(e){super("Failed to send a request to the Edge Function","FunctionsFetchError",e)}}class sC extends xf{constructor(e){super("Relay Error invoking the Edge Function","FunctionsRelayError",e)}}class lC extends xf{constructor(e){super("Edge Function returned a non-2xx status code","FunctionsHttpError",e)}}var Zc;(function(a){a.Any="any",a.ApNortheast1="ap-northeast-1",a.ApNortheast2="ap-northeast-2",a.ApSouth1="ap-south-1",a.ApSoutheast1="ap-southeast-1",a.ApSoutheast2="ap-southeast-2",a.CaCentral1="ca-central-1",a.EuCentral1="eu-central-1",a.EuWest1="eu-west-1",a.EuWest2="eu-west-2",a.EuWest3="eu-west-3",a.SaEast1="sa-east-1",a.UsEast1="us-east-1",a.UsWest1="us-west-1",a.UsWest2="us-west-2"})(Zc||(Zc={}));var uC=function(a,e,t,i){function o(l){return l instanceof t?l:new t(function(f){f(l)})}return new(t||(t=Promise))(function(l,f){function m(v){try{p(i.next(v))}catch(_){f(_)}}function g(v){try{p(i.throw(v))}catch(_){f(_)}}function p(v){v.done?l(v.value):o(v.value).then(m,g)}p((i=i.apply(a,e||[])).next())})};class cC{constructor(e,{headers:t={},customFetch:i,region:o=Zc.Any}={}){this.url=e,this.headers=t,this.region=o,this.fetch=aC(i)}setAuth(e){this.headers.Authorization=`Bearer ${e}`}invoke(e,t={}){var i;return uC(this,void 0,void 0,function*(){try{const{headers:o,method:l,body:f}=t;let m={},{region:g}=t;g||(g=this.region),g&&g!=="any"&&(m["x-region"]=g);let p;f&&(o&&!Object.prototype.hasOwnProperty.call(o,"Content-Type")||!o)&&(typeof Blob<"u"&&f instanceof Blob||f instanceof ArrayBuffer?(m["Content-Type"]="application/octet-stream",p=f):typeof f=="string"?(m["Content-Type"]="text/plain",p=f):typeof FormData<"u"&&f instanceof FormData?p=f:(m["Content-Type"]="application/json",p=JSON.stringify(f)));const v=yield this.fetch(`${this.url}/${e}`,{method:l||"POST",headers:Object.assign(Object.assign(Object.assign({},m),this.headers),o),body:p}).catch(A=>{throw new oC(A)}),_=v.headers.get("x-relay-error");if(_&&_==="true")throw new sC(v);if(!v.ok)throw new lC(v);let S=((i=v.headers.get("Content-Type"))!==null&&i!==void 0?i:"text/plain").split(";")[0].trim(),E;return S==="application/json"?E=yield v.json():S==="application/octet-stream"?E=yield v.blob():S==="text/event-stream"?E=v:S==="multipart/form-data"?E=yield v.formData():E=yield v.text(),{data:E,error:null}}catch(o){return{data:null,error:o}}})}}var ut={},xr={},br={},Rr={},Mr={},Dr={},fC=function(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("unable to locate global object")},Br=fC();const dC=Br.fetch,ov=Br.fetch.bind(Br),sv=Br.Headers,hC=Br.Request,mC=Br.Response,Kr=Object.freeze(Object.defineProperty({__proto__:null,Headers:sv,Request:hC,Response:mC,default:ov,fetch:dC},Symbol.toStringTag,{value:"Module"})),pC=CT(Kr);var Ls={},$p;function lv(){if($p)return Ls;$p=1,Object.defineProperty(Ls,"__esModule",{value:!0});class a extends Error{constructor(t){super(t.message),this.name="PostgrestError",this.details=t.details,this.hint=t.hint,this.code=t.code}}return Ls.default=a,Ls}var Fp;function uv(){if(Fp)return Dr;Fp=1;var a=Dr&&Dr.__importDefault||function(o){return o&&o.__esModule?o:{default:o}};Object.defineProperty(Dr,"__esModule",{value:!0});const e=a(pC),t=a(lv());class i{constructor(l){this.shouldThrowOnError=!1,this.method=l.method,this.url=l.url,this.headers=l.headers,this.schema=l.schema,this.body=l.body,this.shouldThrowOnError=l.shouldThrowOnError,this.signal=l.signal,this.isMaybeSingle=l.isMaybeSingle,l.fetch?this.fetch=l.fetch:typeof fetch>"u"?this.fetch=e.default:this.fetch=fetch}throwOnError(){return this.shouldThrowOnError=!0,this}setHeader(l,f){return this.headers=Object.assign({},this.headers),this.headers[l]=f,this}then(l,f){this.schema===void 0||(["GET","HEAD"].includes(this.method)?this.headers["Accept-Profile"]=this.schema:this.headers["Content-Profile"]=this.schema),this.method!=="GET"&&this.method!=="HEAD"&&(this.headers["Content-Type"]="application/json");const m=this.fetch;let g=m(this.url.toString(),{method:this.method,headers:this.headers,body:JSON.stringify(this.body),signal:this.signal}).then(async p=>{var v,_,S;let E=null,A=null,b=null,N=p.status,O=p.statusText;if(p.ok){if(this.method!=="HEAD"){const F=await p.text();F===""||(this.headers.Accept==="text/csv"||this.headers.Accept&&this.headers.Accept.includes("application/vnd.pgrst.plan+text")?A=F:A=JSON.parse(F))}const H=(v=this.headers.Prefer)===null||v===void 0?void 0:v.match(/count=(exact|planned|estimated)/),J=(_=p.headers.get("content-range"))===null||_===void 0?void 0:_.split("/");H&&J&&J.length>1&&(b=parseInt(J[1])),this.isMaybeSingle&&this.method==="GET"&&Array.isArray(A)&&(A.length>1?(E={code:"PGRST116",details:`Results contain ${A.length} rows, application/vnd.pgrst.object+json requires 1 row`,hint:null,message:"JSON object requested, multiple (or no) rows returned"},A=null,b=null,N=406,O="Not Acceptable"):A.length===1?A=A[0]:A=null)}else{const H=await p.text();try{E=JSON.parse(H),Array.isArray(E)&&p.status===404&&(A=[],E=null,N=200,O="OK")}catch{p.status===404&&H===""?(N=204,O="No Content"):E={message:H}}if(E&&this.isMaybeSingle&&(!((S=E==null?void 0:E.details)===null||S===void 0)&&S.includes("0 rows"))&&(E=null,N=200,O="OK"),E&&this.shouldThrowOnError)throw new t.default(E)}return{error:E,data:A,count:b,status:N,statusText:O}});return this.shouldThrowOnError||(g=g.catch(p=>{var v,_,S;return{error:{message:`${(v=p==null?void 0:p.name)!==null&&v!==void 0?v:"FetchError"}: ${p==null?void 0:p.message}`,details:`${(_=p==null?void 0:p.stack)!==null&&_!==void 0?_:""}`,hint:"",code:`${(S=p==null?void 0:p.code)!==null&&S!==void 0?S:""}`},data:null,count:null,status:0,statusText:""}})),g.then(l,f)}returns(){return this}overrideTypes(){return this}}return Dr.default=i,Dr}var Yp;function cv(){if(Yp)return Mr;Yp=1;var a=Mr&&Mr.__importDefault||function(i){return i&&i.__esModule?i:{default:i}};Object.defineProperty(Mr,"__esModule",{value:!0});const e=a(uv());class t extends e.default{select(o){let l=!1;const f=(o??"*").split("").map(m=>/\s/.test(m)&&!l?"":(m==='"'&&(l=!l),m)).join("");return this.url.searchParams.set("select",f),this.headers.Prefer&&(this.headers.Prefer+=","),this.headers.Prefer+="return=representation",this}order(o,{ascending:l=!0,nullsFirst:f,foreignTable:m,referencedTable:g=m}={}){const p=g?`${g}.order`:"order",v=this.url.searchParams.get(p);return this.url.searchParams.set(p,`${v?`${v},`:""}${o}.${l?"asc":"desc"}${f===void 0?"":f?".nullsfirst":".nullslast"}`),this}limit(o,{foreignTable:l,referencedTable:f=l}={}){const m=typeof f>"u"?"limit":`${f}.limit`;return this.url.searchParams.set(m,`${o}`),this}range(o,l,{foreignTable:f,referencedTable:m=f}={}){const g=typeof m>"u"?"offset":`${m}.offset`,p=typeof m>"u"?"limit":`${m}.limit`;return this.url.searchParams.set(g,`${o}`),this.url.searchParams.set(p,`${l-o+1}`),this}abortSignal(o){return this.signal=o,this}single(){return this.headers.Accept="application/vnd.pgrst.object+json",this}maybeSingle(){return this.method==="GET"?this.headers.Accept="application/json":this.headers.Accept="application/vnd.pgrst.object+json",this.isMaybeSingle=!0,this}csv(){return this.headers.Accept="text/csv",this}geojson(){return this.headers.Accept="application/geo+json",this}explain({analyze:o=!1,verbose:l=!1,settings:f=!1,buffers:m=!1,wal:g=!1,format:p="text"}={}){var v;const _=[o?"analyze":null,l?"verbose":null,f?"settings":null,m?"buffers":null,g?"wal":null].filter(Boolean).join("|"),S=(v=this.headers.Accept)!==null&&v!==void 0?v:"application/json";return this.headers.Accept=`application/vnd.pgrst.plan+${p}; for="${S}"; options=${_};`,p==="json"?this:this}rollback(){var o;return((o=this.headers.Prefer)!==null&&o!==void 0?o:"").trim().length>0?this.headers.Prefer+=",tx=rollback":this.headers.Prefer="tx=rollback",this}returns(){return this}}return Mr.default=t,Mr}var Jp;function bf(){if(Jp)return Rr;Jp=1;var a=Rr&&Rr.__importDefault||function(i){return i&&i.__esModule?i:{default:i}};Object.defineProperty(Rr,"__esModule",{value:!0});const e=a(cv());class t extends e.default{eq(o,l){return this.url.searchParams.append(o,`eq.${l}`),this}neq(o,l){return this.url.searchParams.append(o,`neq.${l}`),this}gt(o,l){return this.url.searchParams.append(o,`gt.${l}`),this}gte(o,l){return this.url.searchParams.append(o,`gte.${l}`),this}lt(o,l){return this.url.searchParams.append(o,`lt.${l}`),this}lte(o,l){return this.url.searchParams.append(o,`lte.${l}`),this}like(o,l){return this.url.searchParams.append(o,`like.${l}`),this}likeAllOf(o,l){return this.url.searchParams.append(o,`like(all).{${l.join(",")}}`),this}likeAnyOf(o,l){return this.url.searchParams.append(o,`like(any).{${l.join(",")}}`),this}ilike(o,l){return this.url.searchParams.append(o,`ilike.${l}`),this}ilikeAllOf(o,l){return this.url.searchParams.append(o,`ilike(all).{${l.join(",")}}`),this}ilikeAnyOf(o,l){return this.url.searchParams.append(o,`ilike(any).{${l.join(",")}}`),this}is(o,l){return this.url.searchParams.append(o,`is.${l}`),this}in(o,l){const f=Array.from(new Set(l)).map(m=>typeof m=="string"&&new RegExp("[,()]").test(m)?`"${m}"`:`${m}`).join(",");return this.url.searchParams.append(o,`in.(${f})`),this}contains(o,l){return typeof l=="string"?this.url.searchParams.append(o,`cs.${l}`):Array.isArray(l)?this.url.searchParams.append(o,`cs.{${l.join(",")}}`):this.url.searchParams.append(o,`cs.${JSON.stringify(l)}`),this}containedBy(o,l){return typeof l=="string"?this.url.searchParams.append(o,`cd.${l}`):Array.isArray(l)?this.url.searchParams.append(o,`cd.{${l.join(",")}}`):this.url.searchParams.append(o,`cd.${JSON.stringify(l)}`),this}rangeGt(o,l){return this.url.searchParams.append(o,`sr.${l}`),this}rangeGte(o,l){return this.url.searchParams.append(o,`nxl.${l}`),this}rangeLt(o,l){return this.url.searchParams.append(o,`sl.${l}`),this}rangeLte(o,l){return this.url.searchParams.append(o,`nxr.${l}`),this}rangeAdjacent(o,l){return this.url.searchParams.append(o,`adj.${l}`),this}overlaps(o,l){return typeof l=="string"?this.url.searchParams.append(o,`ov.${l}`):this.url.searchParams.append(o,`ov.{${l.join(",")}}`),this}textSearch(o,l,{config:f,type:m}={}){let g="";m==="plain"?g="pl":m==="phrase"?g="ph":m==="websearch"&&(g="w");const p=f===void 0?"":`(${f})`;return this.url.searchParams.append(o,`${g}fts${p}.${l}`),this}match(o){return Object.entries(o).forEach(([l,f])=>{this.url.searchParams.append(l,`eq.${f}`)}),this}not(o,l,f){return this.url.searchParams.append(o,`not.${l}.${f}`),this}or(o,{foreignTable:l,referencedTable:f=l}={}){const m=f?`${f}.or`:"or";return this.url.searchParams.append(m,`(${o})`),this}filter(o,l,f){return this.url.searchParams.append(o,`${l}.${f}`),this}}return Rr.default=t,Rr}var Zp;function fv(){if(Zp)return br;Zp=1;var a=br&&br.__importDefault||function(i){return i&&i.__esModule?i:{default:i}};Object.defineProperty(br,"__esModule",{value:!0});const e=a(bf());class t{constructor(o,{headers:l={},schema:f,fetch:m}){this.url=o,this.headers=l,this.schema=f,this.fetch=m}select(o,{head:l=!1,count:f}={}){const m=l?"HEAD":"GET";let g=!1;const p=(o??"*").split("").map(v=>/\s/.test(v)&&!g?"":(v==='"'&&(g=!g),v)).join("");return this.url.searchParams.set("select",p),f&&(this.headers.Prefer=`count=${f}`),new e.default({method:m,url:this.url,headers:this.headers,schema:this.schema,fetch:this.fetch,allowEmpty:!1})}insert(o,{count:l,defaultToNull:f=!0}={}){const m="POST",g=[];if(this.headers.Prefer&&g.push(this.headers.Prefer),l&&g.push(`count=${l}`),f||g.push("missing=default"),this.headers.Prefer=g.join(","),Array.isArray(o)){const p=o.reduce((v,_)=>v.concat(Object.keys(_)),[]);if(p.length>0){const v=[...new Set(p)].map(_=>`"${_}"`);this.url.searchParams.set("columns",v.join(","))}}return new e.default({method:m,url:this.url,headers:this.headers,schema:this.schema,body:o,fetch:this.fetch,allowEmpty:!1})}upsert(o,{onConflict:l,ignoreDuplicates:f=!1,count:m,defaultToNull:g=!0}={}){const p="POST",v=[`resolution=${f?"ignore":"merge"}-duplicates`];if(l!==void 0&&this.url.searchParams.set("on_conflict",l),this.headers.Prefer&&v.push(this.headers.Prefer),m&&v.push(`count=${m}`),g||v.push("missing=default"),this.headers.Prefer=v.join(","),Array.isArray(o)){const _=o.reduce((S,E)=>S.concat(Object.keys(E)),[]);if(_.length>0){const S=[...new Set(_)].map(E=>`"${E}"`);this.url.searchParams.set("columns",S.join(","))}}return new e.default({method:p,url:this.url,headers:this.headers,schema:this.schema,body:o,fetch:this.fetch,allowEmpty:!1})}update(o,{count:l}={}){const f="PATCH",m=[];return this.headers.Prefer&&m.push(this.headers.Prefer),l&&m.push(`count=${l}`),this.headers.Prefer=m.join(","),new e.default({method:f,url:this.url,headers:this.headers,schema:this.schema,body:o,fetch:this.fetch,allowEmpty:!1})}delete({count:o}={}){const l="DELETE",f=[];return o&&f.push(`count=${o}`),this.headers.Prefer&&f.unshift(this.headers.Prefer),this.headers.Prefer=f.join(","),new e.default({method:l,url:this.url,headers:this.headers,schema:this.schema,fetch:this.fetch,allowEmpty:!1})}}return br.default=t,br}var Wa={},ja={},Kp;function gC(){return Kp||(Kp=1,Object.defineProperty(ja,"__esModule",{value:!0}),ja.version=void 0,ja.version="0.0.0-automated"),ja}var Xp;function yC(){if(Xp)return Wa;Xp=1,Object.defineProperty(Wa,"__esModule",{value:!0}),Wa.DEFAULT_HEADERS=void 0;const a=gC();return Wa.DEFAULT_HEADERS={"X-Client-Info":`postgrest-js/${a.version}`},Wa}var Qp;function vC(){if(Qp)return xr;Qp=1;var a=xr&&xr.__importDefault||function(l){return l&&l.__esModule?l:{default:l}};Object.defineProperty(xr,"__esModule",{value:!0});const e=a(fv()),t=a(bf()),i=yC();class o{constructor(f,{headers:m={},schema:g,fetch:p}={}){this.url=f,this.headers=Object.assign(Object.assign({},i.DEFAULT_HEADERS),m),this.schemaName=g,this.fetch=p}from(f){const m=new URL(`${this.url}/${f}`);return new e.default(m,{headers:Object.assign({},this.headers),schema:this.schemaName,fetch:this.fetch})}schema(f){return new o(this.url,{headers:this.headers,schema:f,fetch:this.fetch})}rpc(f,m={},{head:g=!1,get:p=!1,count:v}={}){let _;const S=new URL(`${this.url}/rpc/${f}`);let E;g||p?(_=g?"HEAD":"GET",Object.entries(m).filter(([b,N])=>N!==void 0).map(([b,N])=>[b,Array.isArray(N)?`{${N.join(",")}}`:`${N}`]).forEach(([b,N])=>{S.searchParams.append(b,N)})):(_="POST",E=m);const A=Object.assign({},this.headers);return v&&(A.Prefer=`count=${v}`),new t.default({method:_,url:S,headers:A,schema:this.schemaName,body:E,fetch:this.fetch,allowEmpty:!1})}}return xr.default=o,xr}var Wp;function _C(){if(Wp)return ut;Wp=1;var a=ut&&ut.__importDefault||function(m){return m&&m.__esModule?m:{default:m}};Object.defineProperty(ut,"__esModule",{value:!0}),ut.PostgrestError=ut.PostgrestBuilder=ut.PostgrestTransformBuilder=ut.PostgrestFilterBuilder=ut.PostgrestQueryBuilder=ut.PostgrestClient=void 0;const e=a(vC());ut.PostgrestClient=e.default;const t=a(fv());ut.PostgrestQueryBuilder=t.default;const i=a(bf());ut.PostgrestFilterBuilder=i.default;const o=a(cv());ut.PostgrestTransformBuilder=o.default;const l=a(uv());ut.PostgrestBuilder=l.default;const f=a(lv());return ut.PostgrestError=f.default,ut.default={PostgrestClient:e.default,PostgrestQueryBuilder:t.default,PostgrestFilterBuilder:i.default,PostgrestTransformBuilder:o.default,PostgrestBuilder:l.default,PostgrestError:f.default},ut}var TC=_C();const SC=ST(TC),{PostgrestClient:CC,PostgrestQueryBuilder:nN,PostgrestFilterBuilder:iN,PostgrestTransformBuilder:rN,PostgrestBuilder:aN,PostgrestError:oN}=SC,EC="2.11.2",AC={"X-Client-Info":`realtime-js/${EC}`},wC="1.0.0",dv=1e4,xC=1e3;var Vr;(function(a){a[a.connecting=0]="connecting",a[a.open=1]="open",a[a.closing=2]="closing",a[a.closed=3]="closed"})(Vr||(Vr={}));var Ot;(function(a){a.closed="closed",a.errored="errored",a.joined="joined",a.joining="joining",a.leaving="leaving"})(Ot||(Ot={}));var Qt;(function(a){a.close="phx_close",a.error="phx_error",a.join="phx_join",a.reply="phx_reply",a.leave="phx_leave",a.access_token="access_token"})(Qt||(Qt={}));var Kc;(function(a){a.websocket="websocket"})(Kc||(Kc={}));var Oi;(function(a){a.Connecting="connecting",a.Open="open",a.Closing="closing",a.Closed="closed"})(Oi||(Oi={}));class bC{constructor(){this.HEADER_LENGTH=1}decode(e,t){return e.constructor===ArrayBuffer?t(this._binaryDecode(e)):t(typeof e=="string"?JSON.parse(e):{})}_binaryDecode(e){const t=new DataView(e),i=new TextDecoder;return this._decodeBroadcast(e,t,i)}_decodeBroadcast(e,t,i){const o=t.getUint8(1),l=t.getUint8(2);let f=this.HEADER_LENGTH+2;const m=i.decode(e.slice(f,f+o));f=f+o;const g=i.decode(e.slice(f,f+l));f=f+l;const p=JSON.parse(i.decode(e.slice(f,e.byteLength)));return{ref:null,topic:m,event:g,payload:p}}}class hv{constructor(e,t){this.callback=e,this.timerCalc=t,this.timer=void 0,this.tries=0,this.callback=e,this.timerCalc=t}reset(){this.tries=0,clearTimeout(this.timer)}scheduleTimeout(){clearTimeout(this.timer),this.timer=setTimeout(()=>{this.tries=this.tries+1,this.callback()},this.timerCalc(this.tries+1))}}var Be;(function(a){a.abstime="abstime",a.bool="bool",a.date="date",a.daterange="daterange",a.float4="float4",a.float8="float8",a.int2="int2",a.int4="int4",a.int4range="int4range",a.int8="int8",a.int8range="int8range",a.json="json",a.jsonb="jsonb",a.money="money",a.numeric="numeric",a.oid="oid",a.reltime="reltime",a.text="text",a.time="time",a.timestamp="timestamp",a.timestamptz="timestamptz",a.timetz="timetz",a.tsrange="tsrange",a.tstzrange="tstzrange"})(Be||(Be={}));const jp=(a,e,t={})=>{var i;const o=(i=t.skipTypes)!==null&&i!==void 0?i:[];return Object.keys(e).reduce((l,f)=>(l[f]=RC(f,a,e,o),l),{})},RC=(a,e,t,i)=>{const o=e.find(m=>m.name===a),l=o==null?void 0:o.type,f=t[a];return l&&!i.includes(l)?mv(l,f):Xc(f)},mv=(a,e)=>{if(a.charAt(0)==="_"){const t=a.slice(1,a.length);return kC(e,t)}switch(a){case Be.bool:return MC(e);case Be.float4:case Be.float8:case Be.int2:case Be.int4:case Be.int8:case Be.numeric:case Be.oid:return DC(e);case Be.json:case Be.jsonb:return NC(e);case Be.timestamp:return UC(e);case Be.abstime:case Be.date:case Be.daterange:case Be.int4range:case Be.int8range:case Be.money:case Be.reltime:case Be.text:case Be.time:case Be.timestamptz:case Be.timetz:case Be.tsrange:case Be.tstzrange:return Xc(e);default:return Xc(e)}},Xc=a=>a,MC=a=>{switch(a){case"t":return!0;case"f":return!1;default:return a}},DC=a=>{if(typeof a=="string"){const e=parseFloat(a);if(!Number.isNaN(e))return e}return a},NC=a=>{if(typeof a=="string")try{return JSON.parse(a)}catch(e){return console.log(`JSON parse error: ${e}`),a}return a},kC=(a,e)=>{if(typeof a!="string")return a;const t=a.length-1,i=a[t];if(a[0]==="{"&&i==="}"){let l;const f=a.slice(1,t);try{l=JSON.parse("["+f+"]")}catch{l=f?f.split(","):[]}return l.map(m=>mv(e,m))}return a},UC=a=>typeof a=="string"?a.replace(" ","T"):a,pv=a=>{let e=a;return e=e.replace(/^ws/i,"http"),e=e.replace(/(\/socket\/websocket|\/socket|\/websocket)\/?$/i,""),e.replace(/\/+$/,"")};class Pc{constructor(e,t,i={},o=dv){this.channel=e,this.event=t,this.payload=i,this.timeout=o,this.sent=!1,this.timeoutTimer=void 0,this.ref="",this.receivedResp=null,this.recHooks=[],this.refEvent=null}resend(e){this.timeout=e,this._cancelRefEvent(),this.ref="",this.refEvent=null,this.receivedResp=null,this.sent=!1,this.send()}send(){this._hasReceived("timeout")||(this.startTimeout(),this.sent=!0,this.channel.socket.push({topic:this.channel.topic,event:this.event,payload:this.payload,ref:this.ref,join_ref:this.channel._joinRef()}))}updatePayload(e){this.payload=Object.assign(Object.assign({},this.payload),e)}receive(e,t){var i;return this._hasReceived(e)&&t((i=this.receivedResp)===null||i===void 0?void 0:i.response),this.recHooks.push({status:e,callback:t}),this}startTimeout(){if(this.timeoutTimer)return;this.ref=this.channel.socket._makeRef(),this.refEvent=this.channel._replyEventName(this.ref);const e=t=>{this._cancelRefEvent(),this._cancelTimeout(),this.receivedResp=t,this._matchReceive(t)};this.channel._on(this.refEvent,{},e),this.timeoutTimer=setTimeout(()=>{this.trigger("timeout",{})},this.timeout)}trigger(e,t){this.refEvent&&this.channel._trigger(this.refEvent,{status:e,response:t})}destroy(){this._cancelRefEvent(),this._cancelTimeout()}_cancelRefEvent(){this.refEvent&&this.channel._off(this.refEvent,{})}_cancelTimeout(){clearTimeout(this.timeoutTimer),this.timeoutTimer=void 0}_matchReceive({status:e,response:t}){this.recHooks.filter(i=>i.status===e).forEach(i=>i.callback(t))}_hasReceived(e){return this.receivedResp&&this.receivedResp.status===e}}var eg;(function(a){a.SYNC="sync",a.JOIN="join",a.LEAVE="leave"})(eg||(eg={}));class oo{constructor(e,t){this.channel=e,this.state={},this.pendingDiffs=[],this.joinRef=null,this.caller={onJoin:()=>{},onLeave:()=>{},onSync:()=>{}};const i=(t==null?void 0:t.events)||{state:"presence_state",diff:"presence_diff"};this.channel._on(i.state,{},o=>{const{onJoin:l,onLeave:f,onSync:m}=this.caller;this.joinRef=this.channel._joinRef(),this.state=oo.syncState(this.state,o,l,f),this.pendingDiffs.forEach(g=>{this.state=oo.syncDiff(this.state,g,l,f)}),this.pendingDiffs=[],m()}),this.channel._on(i.diff,{},o=>{const{onJoin:l,onLeave:f,onSync:m}=this.caller;this.inPendingSyncState()?this.pendingDiffs.push(o):(this.state=oo.syncDiff(this.state,o,l,f),m())}),this.onJoin((o,l,f)=>{this.channel._trigger("presence",{event:"join",key:o,currentPresences:l,newPresences:f})}),this.onLeave((o,l,f)=>{this.channel._trigger("presence",{event:"leave",key:o,currentPresences:l,leftPresences:f})}),this.onSync(()=>{this.channel._trigger("presence",{event:"sync"})})}static syncState(e,t,i,o){const l=this.cloneDeep(e),f=this.transformState(t),m={},g={};return this.map(l,(p,v)=>{f[p]||(g[p]=v)}),this.map(f,(p,v)=>{const _=l[p];if(_){const S=v.map(N=>N.presence_ref),E=_.map(N=>N.presence_ref),A=v.filter(N=>E.indexOf(N.presence_ref)<0),b=_.filter(N=>S.indexOf(N.presence_ref)<0);A.length>0&&(m[p]=A),b.length>0&&(g[p]=b)}else m[p]=v}),this.syncDiff(l,{joins:m,leaves:g},i,o)}static syncDiff(e,t,i,o){const{joins:l,leaves:f}={joins:this.transformState(t.joins),leaves:this.transformState(t.leaves)};return i||(i=()=>{}),o||(o=()=>{}),this.map(l,(m,g)=>{var p;const v=(p=e[m])!==null&&p!==void 0?p:[];if(e[m]=this.cloneDeep(g),v.length>0){const _=e[m].map(E=>E.presence_ref),S=v.filter(E=>_.indexOf(E.presence_ref)<0);e[m].unshift(...S)}i(m,v,g)}),this.map(f,(m,g)=>{let p=e[m];if(!p)return;const v=g.map(_=>_.presence_ref);p=p.filter(_=>v.indexOf(_.presence_ref)<0),e[m]=p,o(m,p,g),p.length===0&&delete e[m]}),e}static map(e,t){return Object.getOwnPropertyNames(e).map(i=>t(i,e[i]))}static transformState(e){return e=this.cloneDeep(e),Object.getOwnPropertyNames(e).reduce((t,i)=>{const o=e[i];return"metas"in o?t[i]=o.metas.map(l=>(l.presence_ref=l.phx_ref,delete l.phx_ref,delete l.phx_ref_prev,l)):t[i]=o,t},{})}static cloneDeep(e){return JSON.parse(JSON.stringify(e))}onJoin(e){this.caller.onJoin=e}onLeave(e){this.caller.onLeave=e}onSync(e){this.caller.onSync=e}inPendingSyncState(){return!this.joinRef||this.joinRef!==this.channel._joinRef()}}var tg;(function(a){a.ALL="*",a.INSERT="INSERT",a.UPDATE="UPDATE",a.DELETE="DELETE"})(tg||(tg={}));var ng;(function(a){a.BROADCAST="broadcast",a.PRESENCE="presence",a.POSTGRES_CHANGES="postgres_changes",a.SYSTEM="system"})(ng||(ng={}));var Mn;(function(a){a.SUBSCRIBED="SUBSCRIBED",a.TIMED_OUT="TIMED_OUT",a.CLOSED="CLOSED",a.CHANNEL_ERROR="CHANNEL_ERROR"})(Mn||(Mn={}));class Rf{constructor(e,t={config:{}},i){this.topic=e,this.params=t,this.socket=i,this.bindings={},this.state=Ot.closed,this.joinedOnce=!1,this.pushBuffer=[],this.subTopic=e.replace(/^realtime:/i,""),this.params.config=Object.assign({broadcast:{ack:!1,self:!1},presence:{key:""},private:!1},t.config),this.timeout=this.socket.timeout,this.joinPush=new Pc(this,Qt.join,this.params,this.timeout),this.rejoinTimer=new hv(()=>this._rejoinUntilConnected(),this.socket.reconnectAfterMs),this.joinPush.receive("ok",()=>{this.state=Ot.joined,this.rejoinTimer.reset(),this.pushBuffer.forEach(o=>o.send()),this.pushBuffer=[]}),this._onClose(()=>{this.rejoinTimer.reset(),this.socket.log("channel",`close ${this.topic} ${this._joinRef()}`),this.state=Ot.closed,this.socket._remove(this)}),this._onError(o=>{this._isLeaving()||this._isClosed()||(this.socket.log("channel",`error ${this.topic}`,o),this.state=Ot.errored,this.rejoinTimer.scheduleTimeout())}),this.joinPush.receive("timeout",()=>{this._isJoining()&&(this.socket.log("channel",`timeout ${this.topic}`,this.joinPush.timeout),this.state=Ot.errored,this.rejoinTimer.scheduleTimeout())}),this._on(Qt.reply,{},(o,l)=>{this._trigger(this._replyEventName(l),o)}),this.presence=new oo(this),this.broadcastEndpointURL=pv(this.socket.endPoint)+"/api/broadcast",this.private=this.params.config.private||!1}subscribe(e,t=this.timeout){var i,o;if(this.socket.isConnected()||this.socket.connect(),this.joinedOnce)throw"tried to subscribe multiple times. 'subscribe' can only be called a single time per channel instance";{const{config:{broadcast:l,presence:f,private:m}}=this.params;this._onError(v=>e==null?void 0:e(Mn.CHANNEL_ERROR,v)),this._onClose(()=>e==null?void 0:e(Mn.CLOSED));const g={},p={broadcast:l,presence:f,postgres_changes:(o=(i=this.bindings.postgres_changes)===null||i===void 0?void 0:i.map(v=>v.filter))!==null&&o!==void 0?o:[],private:m};this.socket.accessTokenValue&&(g.access_token=this.socket.accessTokenValue),this.updateJoinPayload(Object.assign({config:p},g)),this.joinedOnce=!0,this._rejoin(t),this.joinPush.receive("ok",async({postgres_changes:v})=>{var _;if(this.socket.setAuth(),v===void 0){e==null||e(Mn.SUBSCRIBED);return}else{const S=this.bindings.postgres_changes,E=(_=S==null?void 0:S.length)!==null&&_!==void 0?_:0,A=[];for(let b=0;b<E;b++){const N=S[b],{filter:{event:O,schema:q,table:H,filter:J}}=N,F=v&&v[b];if(F&&F.event===O&&F.schema===q&&F.table===H&&F.filter===J)A.push(Object.assign(Object.assign({},N),{id:F.id}));else{this.unsubscribe(),e==null||e(Mn.CHANNEL_ERROR,new Error("mismatch between server and client bindings for postgres changes"));return}}this.bindings.postgres_changes=A,e&&e(Mn.SUBSCRIBED);return}}).receive("error",v=>{e==null||e(Mn.CHANNEL_ERROR,new Error(JSON.stringify(Object.values(v).join(", ")||"error")))}).receive("timeout",()=>{e==null||e(Mn.TIMED_OUT)})}return this}presenceState(){return this.presence.state}async track(e,t={}){return await this.send({type:"presence",event:"track",payload:e},t.timeout||this.timeout)}async untrack(e={}){return await this.send({type:"presence",event:"untrack"},e)}on(e,t,i){return this._on(e,t,i)}async send(e,t={}){var i,o;if(!this._canPush()&&e.type==="broadcast"){const{event:l,payload:f}=e,g={method:"POST",headers:{Authorization:this.socket.accessTokenValue?`Bearer ${this.socket.accessTokenValue}`:"",apikey:this.socket.apiKey?this.socket.apiKey:"","Content-Type":"application/json"},body:JSON.stringify({messages:[{topic:this.subTopic,event:l,payload:f,private:this.private}]})};try{const p=await this._fetchWithTimeout(this.broadcastEndpointURL,g,(i=t.timeout)!==null&&i!==void 0?i:this.timeout);return await((o=p.body)===null||o===void 0?void 0:o.cancel()),p.ok?"ok":"error"}catch(p){return p.name==="AbortError"?"timed out":"error"}}else return new Promise(l=>{var f,m,g;const p=this._push(e.type,e,t.timeout||this.timeout);e.type==="broadcast"&&!(!((g=(m=(f=this.params)===null||f===void 0?void 0:f.config)===null||m===void 0?void 0:m.broadcast)===null||g===void 0)&&g.ack)&&l("ok"),p.receive("ok",()=>l("ok")),p.receive("error",()=>l("error")),p.receive("timeout",()=>l("timed out"))})}updateJoinPayload(e){this.joinPush.updatePayload(e)}unsubscribe(e=this.timeout){this.state=Ot.leaving;const t=()=>{this.socket.log("channel",`leave ${this.topic}`),this._trigger(Qt.close,"leave",this._joinRef())};return this.rejoinTimer.reset(),this.joinPush.destroy(),new Promise(i=>{const o=new Pc(this,Qt.leave,{},e);o.receive("ok",()=>{t(),i("ok")}).receive("timeout",()=>{t(),i("timed out")}).receive("error",()=>{i("error")}),o.send(),this._canPush()||o.trigger("ok",{})})}async _fetchWithTimeout(e,t,i){const o=new AbortController,l=setTimeout(()=>o.abort(),i),f=await this.socket.fetch(e,Object.assign(Object.assign({},t),{signal:o.signal}));return clearTimeout(l),f}_push(e,t,i=this.timeout){if(!this.joinedOnce)throw`tried to push '${e}' to '${this.topic}' before joining. Use channel.subscribe() before pushing events`;let o=new Pc(this,e,t,i);return this._canPush()?o.send():(o.startTimeout(),this.pushBuffer.push(o)),o}_onMessage(e,t,i){return t}_isMember(e){return this.topic===e}_joinRef(){return this.joinPush.ref}_trigger(e,t,i){var o,l;const f=e.toLocaleLowerCase(),{close:m,error:g,leave:p,join:v}=Qt;if(i&&[m,g,p,v].indexOf(f)>=0&&i!==this._joinRef())return;let S=this._onMessage(f,t,i);if(t&&!S)throw"channel onMessage callbacks must return the payload, modified or unmodified";["insert","update","delete"].includes(f)?(o=this.bindings.postgres_changes)===null||o===void 0||o.filter(E=>{var A,b,N;return((A=E.filter)===null||A===void 0?void 0:A.event)==="*"||((N=(b=E.filter)===null||b===void 0?void 0:b.event)===null||N===void 0?void 0:N.toLocaleLowerCase())===f}).map(E=>E.callback(S,i)):(l=this.bindings[f])===null||l===void 0||l.filter(E=>{var A,b,N,O,q,H;if(["broadcast","presence","postgres_changes"].includes(f))if("id"in E){const J=E.id,F=(A=E.filter)===null||A===void 0?void 0:A.event;return J&&((b=t.ids)===null||b===void 0?void 0:b.includes(J))&&(F==="*"||(F==null?void 0:F.toLocaleLowerCase())===((N=t.data)===null||N===void 0?void 0:N.type.toLocaleLowerCase()))}else{const J=(q=(O=E==null?void 0:E.filter)===null||O===void 0?void 0:O.event)===null||q===void 0?void 0:q.toLocaleLowerCase();return J==="*"||J===((H=t==null?void 0:t.event)===null||H===void 0?void 0:H.toLocaleLowerCase())}else return E.type.toLocaleLowerCase()===f}).map(E=>{if(typeof S=="object"&&"ids"in S){const A=S.data,{schema:b,table:N,commit_timestamp:O,type:q,errors:H}=A;S=Object.assign(Object.assign({},{schema:b,table:N,commit_timestamp:O,eventType:q,new:{},old:{},errors:H}),this._getPayloadRecords(A))}E.callback(S,i)})}_isClosed(){return this.state===Ot.closed}_isJoined(){return this.state===Ot.joined}_isJoining(){return this.state===Ot.joining}_isLeaving(){return this.state===Ot.leaving}_replyEventName(e){return`chan_reply_${e}`}_on(e,t,i){const o=e.toLocaleLowerCase(),l={type:o,filter:t,callback:i};return this.bindings[o]?this.bindings[o].push(l):this.bindings[o]=[l],this}_off(e,t){const i=e.toLocaleLowerCase();return this.bindings[i]=this.bindings[i].filter(o=>{var l;return!(((l=o.type)===null||l===void 0?void 0:l.toLocaleLowerCase())===i&&Rf.isEqual(o.filter,t))}),this}static isEqual(e,t){if(Object.keys(e).length!==Object.keys(t).length)return!1;for(const i in e)if(e[i]!==t[i])return!1;return!0}_rejoinUntilConnected(){this.rejoinTimer.scheduleTimeout(),this.socket.isConnected()&&this._rejoin()}_onClose(e){this._on(Qt.close,{},e)}_onError(e){this._on(Qt.error,{},t=>e(t))}_canPush(){return this.socket.isConnected()&&this._isJoined()}_rejoin(e=this.timeout){this._isLeaving()||(this.socket._leaveOpenTopic(this.topic),this.state=Ot.joining,this.joinPush.resend(e))}_getPayloadRecords(e){const t={new:{},old:{}};return(e.type==="INSERT"||e.type==="UPDATE")&&(t.new=jp(e.columns,e.record)),(e.type==="UPDATE"||e.type==="DELETE")&&(t.old=jp(e.columns,e.old_record)),t}}const IC=()=>{},OC=typeof WebSocket<"u",LC=`
  addEventListener("message", (e) => {
    if (e.data.event === "start") {
      setInterval(() => postMessage({ event: "keepAlive" }), e.data.interval);
    }
  });`;class PC{constructor(e,t){var i;this.accessTokenValue=null,this.apiKey=null,this.channels=[],this.endPoint="",this.httpEndpoint="",this.headers=AC,this.params={},this.timeout=dv,this.heartbeatIntervalMs=3e4,this.heartbeatTimer=void 0,this.pendingHeartbeatRef=null,this.ref=0,this.logger=IC,this.conn=null,this.sendBuffer=[],this.serializer=new bC,this.stateChangeCallbacks={open:[],close:[],error:[],message:[]},this.accessToken=null,this._resolveFetch=l=>{let f;return l?f=l:typeof fetch>"u"?f=(...m)=>qr(async()=>{const{default:g}=await Promise.resolve().then(()=>Kr);return{default:g}},void 0).then(({default:g})=>g(...m)):f=fetch,(...m)=>f(...m)},this.endPoint=`${e}/${Kc.websocket}`,this.httpEndpoint=pv(e),t!=null&&t.transport?this.transport=t.transport:this.transport=null,t!=null&&t.params&&(this.params=t.params),t!=null&&t.headers&&(this.headers=Object.assign(Object.assign({},this.headers),t.headers)),t!=null&&t.timeout&&(this.timeout=t.timeout),t!=null&&t.logger&&(this.logger=t.logger),t!=null&&t.heartbeatIntervalMs&&(this.heartbeatIntervalMs=t.heartbeatIntervalMs);const o=(i=t==null?void 0:t.params)===null||i===void 0?void 0:i.apikey;if(o&&(this.accessTokenValue=o,this.apiKey=o),this.reconnectAfterMs=t!=null&&t.reconnectAfterMs?t.reconnectAfterMs:l=>[1e3,2e3,5e3,1e4][l-1]||1e4,this.encode=t!=null&&t.encode?t.encode:(l,f)=>f(JSON.stringify(l)),this.decode=t!=null&&t.decode?t.decode:this.serializer.decode.bind(this.serializer),this.reconnectTimer=new hv(async()=>{this.disconnect(),this.connect()},this.reconnectAfterMs),this.fetch=this._resolveFetch(t==null?void 0:t.fetch),t!=null&&t.worker){if(typeof window<"u"&&!window.Worker)throw new Error("Web Worker is not supported");this.worker=(t==null?void 0:t.worker)||!1,this.workerUrl=t==null?void 0:t.workerUrl}this.accessToken=(t==null?void 0:t.accessToken)||null}connect(){if(!this.conn){if(this.transport){this.conn=new this.transport(this.endpointURL(),void 0,{headers:this.headers});return}if(OC){this.conn=new WebSocket(this.endpointURL()),this.setupConnection();return}this.conn=new VC(this.endpointURL(),void 0,{close:()=>{this.conn=null}}),qr(async()=>{const{default:e}=await import("./browser-BCE7nXL4.js").then(t=>t.b);return{default:e}},[]).then(({default:e})=>{this.conn=new e(this.endpointURL(),void 0,{headers:this.headers}),this.setupConnection()})}}endpointURL(){return this._appendParams(this.endPoint,Object.assign({},this.params,{vsn:wC}))}disconnect(e,t){this.conn&&(this.conn.onclose=function(){},e?this.conn.close(e,t??""):this.conn.close(),this.conn=null,this.heartbeatTimer&&clearInterval(this.heartbeatTimer),this.reconnectTimer.reset())}getChannels(){return this.channels}async removeChannel(e){const t=await e.unsubscribe();return this.channels.length===0&&this.disconnect(),t}async removeAllChannels(){const e=await Promise.all(this.channels.map(t=>t.unsubscribe()));return this.disconnect(),e}log(e,t,i){this.logger(e,t,i)}connectionState(){switch(this.conn&&this.conn.readyState){case Vr.connecting:return Oi.Connecting;case Vr.open:return Oi.Open;case Vr.closing:return Oi.Closing;default:return Oi.Closed}}isConnected(){return this.connectionState()===Oi.Open}channel(e,t={config:{}}){const i=new Rf(`realtime:${e}`,t,this);return this.channels.push(i),i}push(e){const{topic:t,event:i,payload:o,ref:l}=e,f=()=>{this.encode(e,m=>{var g;(g=this.conn)===null||g===void 0||g.send(m)})};this.log("push",`${t} ${i} (${l})`,o),this.isConnected()?f():this.sendBuffer.push(f)}async setAuth(e=null){let t=e||this.accessToken&&await this.accessToken()||this.accessTokenValue;if(t){let i=null;try{i=JSON.parse(atob(t.split(".")[1]))}catch{}if(i&&i.exp&&!(Math.floor(Date.now()/1e3)-i.exp<0))return this.log("auth",`InvalidJWTToken: Invalid value for JWT claim "exp" with value ${i.exp}`),Promise.reject(`InvalidJWTToken: Invalid value for JWT claim "exp" with value ${i.exp}`);this.accessTokenValue=t,this.channels.forEach(o=>{t&&o.updateJoinPayload({access_token:t}),o.joinedOnce&&o._isJoined()&&o._push(Qt.access_token,{access_token:t})})}}async sendHeartbeat(){var e;if(this.isConnected()){if(this.pendingHeartbeatRef){this.pendingHeartbeatRef=null,this.log("transport","heartbeat timeout. Attempting to re-establish connection"),(e=this.conn)===null||e===void 0||e.close(xC,"hearbeat timeout");return}this.pendingHeartbeatRef=this._makeRef(),this.push({topic:"phoenix",event:"heartbeat",payload:{},ref:this.pendingHeartbeatRef}),this.setAuth()}}flushSendBuffer(){this.isConnected()&&this.sendBuffer.length>0&&(this.sendBuffer.forEach(e=>e()),this.sendBuffer=[])}_makeRef(){let e=this.ref+1;return e===this.ref?this.ref=0:this.ref=e,this.ref.toString()}_leaveOpenTopic(e){let t=this.channels.find(i=>i.topic===e&&(i._isJoined()||i._isJoining()));t&&(this.log("transport",`leaving duplicate topic "${e}"`),t.unsubscribe())}_remove(e){this.channels=this.channels.filter(t=>t._joinRef()!==e._joinRef())}setupConnection(){this.conn&&(this.conn.binaryType="arraybuffer",this.conn.onopen=()=>this._onConnOpen(),this.conn.onerror=e=>this._onConnError(e),this.conn.onmessage=e=>this._onConnMessage(e),this.conn.onclose=e=>this._onConnClose(e))}_onConnMessage(e){this.decode(e.data,t=>{let{topic:i,event:o,payload:l,ref:f}=t;f&&f===this.pendingHeartbeatRef&&(this.pendingHeartbeatRef=null),this.log("receive",`${l.status||""} ${i} ${o} ${f&&"("+f+")"||""}`,l),this.channels.filter(m=>m._isMember(i)).forEach(m=>m._trigger(o,l,f)),this.stateChangeCallbacks.message.forEach(m=>m(t))})}async _onConnOpen(){if(this.log("transport",`connected to ${this.endpointURL()}`),this.flushSendBuffer(),this.reconnectTimer.reset(),!this.worker)this.heartbeatTimer&&clearInterval(this.heartbeatTimer),this.heartbeatTimer=setInterval(()=>this.sendHeartbeat(),this.heartbeatIntervalMs);else{this.workerUrl?this.log("worker",`starting worker for from ${this.workerUrl}`):this.log("worker","starting default worker");const e=this._workerObjectUrl(this.workerUrl);this.workerRef=new Worker(e),this.workerRef.onerror=t=>{this.log("worker","worker error",t.message),this.workerRef.terminate()},this.workerRef.onmessage=t=>{t.data.event==="keepAlive"&&this.sendHeartbeat()},this.workerRef.postMessage({event:"start",interval:this.heartbeatIntervalMs})}this.stateChangeCallbacks.open.forEach(e=>e())}_onConnClose(e){this.log("transport","close",e),this._triggerChanError(),this.heartbeatTimer&&clearInterval(this.heartbeatTimer),this.reconnectTimer.scheduleTimeout(),this.stateChangeCallbacks.close.forEach(t=>t(e))}_onConnError(e){this.log("transport",e.message),this._triggerChanError(),this.stateChangeCallbacks.error.forEach(t=>t(e))}_triggerChanError(){this.channels.forEach(e=>e._trigger(Qt.error))}_appendParams(e,t){if(Object.keys(t).length===0)return e;const i=e.match(/\?/)?"&":"?",o=new URLSearchParams(t);return`${e}${i}${o}`}_workerObjectUrl(e){let t;if(e)t=e;else{const i=new Blob([LC],{type:"application/javascript"});t=URL.createObjectURL(i)}return t}}class VC{constructor(e,t,i){this.binaryType="arraybuffer",this.onclose=()=>{},this.onerror=()=>{},this.onmessage=()=>{},this.onopen=()=>{},this.readyState=Vr.connecting,this.send=()=>{},this.url=null,this.url=e,this.close=i.close}}class Mf extends Error{constructor(e){super(e),this.__isStorageError=!0,this.name="StorageError"}}function ct(a){return typeof a=="object"&&a!==null&&"__isStorageError"in a}class qC extends Mf{constructor(e,t){super(e),this.name="StorageApiError",this.status=t}toJSON(){return{name:this.name,message:this.message,status:this.status}}}class Qc extends Mf{constructor(e,t){super(e),this.name="StorageUnknownError",this.originalError=t}}var BC=function(a,e,t,i){function o(l){return l instanceof t?l:new t(function(f){f(l)})}return new(t||(t=Promise))(function(l,f){function m(v){try{p(i.next(v))}catch(_){f(_)}}function g(v){try{p(i.throw(v))}catch(_){f(_)}}function p(v){v.done?l(v.value):o(v.value).then(m,g)}p((i=i.apply(a,e||[])).next())})};const gv=a=>{let e;return a?e=a:typeof fetch>"u"?e=(...t)=>qr(async()=>{const{default:i}=await Promise.resolve().then(()=>Kr);return{default:i}},void 0).then(({default:i})=>i(...t)):e=fetch,(...t)=>e(...t)},zC=()=>BC(void 0,void 0,void 0,function*(){return typeof Response>"u"?(yield qr(()=>Promise.resolve().then(()=>Kr),void 0)).Response:Response}),Wc=a=>{if(Array.isArray(a))return a.map(t=>Wc(t));if(typeof a=="function"||a!==Object(a))return a;const e={};return Object.entries(a).forEach(([t,i])=>{const o=t.replace(/([-_][a-z])/gi,l=>l.toUpperCase().replace(/[-_]/g,""));e[o]=Wc(i)}),e};var Bi=function(a,e,t,i){function o(l){return l instanceof t?l:new t(function(f){f(l)})}return new(t||(t=Promise))(function(l,f){function m(v){try{p(i.next(v))}catch(_){f(_)}}function g(v){try{p(i.throw(v))}catch(_){f(_)}}function p(v){v.done?l(v.value):o(v.value).then(m,g)}p((i=i.apply(a,e||[])).next())})};const Vc=a=>a.msg||a.message||a.error_description||a.error||JSON.stringify(a),GC=(a,e,t)=>Bi(void 0,void 0,void 0,function*(){const i=yield zC();a instanceof i&&!(t!=null&&t.noResolveJson)?a.json().then(o=>{e(new qC(Vc(o),a.status||500))}).catch(o=>{e(new Qc(Vc(o),o))}):e(new Qc(Vc(a),a))}),HC=(a,e,t,i)=>{const o={method:a,headers:(e==null?void 0:e.headers)||{}};return a==="GET"?o:(o.headers=Object.assign({"Content-Type":"application/json"},e==null?void 0:e.headers),i&&(o.body=JSON.stringify(i)),Object.assign(Object.assign({},o),t))};function vo(a,e,t,i,o,l){return Bi(this,void 0,void 0,function*(){return new Promise((f,m)=>{a(t,HC(e,i,o,l)).then(g=>{if(!g.ok)throw g;return i!=null&&i.noResolveJson?g:g.json()}).then(g=>f(g)).catch(g=>GC(g,m,i))})})}function Xs(a,e,t,i){return Bi(this,void 0,void 0,function*(){return vo(a,"GET",e,t,i)})}function oi(a,e,t,i,o){return Bi(this,void 0,void 0,function*(){return vo(a,"POST",e,i,o,t)})}function $C(a,e,t,i,o){return Bi(this,void 0,void 0,function*(){return vo(a,"PUT",e,i,o,t)})}function FC(a,e,t,i){return Bi(this,void 0,void 0,function*(){return vo(a,"HEAD",e,Object.assign(Object.assign({},t),{noResolveJson:!0}),i)})}function yv(a,e,t,i,o){return Bi(this,void 0,void 0,function*(){return vo(a,"DELETE",e,i,o,t)})}var At=function(a,e,t,i){function o(l){return l instanceof t?l:new t(function(f){f(l)})}return new(t||(t=Promise))(function(l,f){function m(v){try{p(i.next(v))}catch(_){f(_)}}function g(v){try{p(i.throw(v))}catch(_){f(_)}}function p(v){v.done?l(v.value):o(v.value).then(m,g)}p((i=i.apply(a,e||[])).next())})};const YC={limit:100,offset:0,sortBy:{column:"name",order:"asc"}},ig={cacheControl:"3600",contentType:"text/plain;charset=UTF-8",upsert:!1};class JC{constructor(e,t={},i,o){this.url=e,this.headers=t,this.bucketId=i,this.fetch=gv(o)}uploadOrUpdate(e,t,i,o){return At(this,void 0,void 0,function*(){try{let l;const f=Object.assign(Object.assign({},ig),o);let m=Object.assign(Object.assign({},this.headers),e==="POST"&&{"x-upsert":String(f.upsert)});const g=f.metadata;typeof Blob<"u"&&i instanceof Blob?(l=new FormData,l.append("cacheControl",f.cacheControl),g&&l.append("metadata",this.encodeMetadata(g)),l.append("",i)):typeof FormData<"u"&&i instanceof FormData?(l=i,l.append("cacheControl",f.cacheControl),g&&l.append("metadata",this.encodeMetadata(g))):(l=i,m["cache-control"]=`max-age=${f.cacheControl}`,m["content-type"]=f.contentType,g&&(m["x-metadata"]=this.toBase64(this.encodeMetadata(g)))),o!=null&&o.headers&&(m=Object.assign(Object.assign({},m),o.headers));const p=this._removeEmptyFolders(t),v=this._getFinalPath(p),_=yield this.fetch(`${this.url}/object/${v}`,Object.assign({method:e,body:l,headers:m},f!=null&&f.duplex?{duplex:f.duplex}:{})),S=yield _.json();return _.ok?{data:{path:p,id:S.Id,fullPath:S.Key},error:null}:{data:null,error:S}}catch(l){if(ct(l))return{data:null,error:l};throw l}})}upload(e,t,i){return At(this,void 0,void 0,function*(){return this.uploadOrUpdate("POST",e,t,i)})}uploadToSignedUrl(e,t,i,o){return At(this,void 0,void 0,function*(){const l=this._removeEmptyFolders(e),f=this._getFinalPath(l),m=new URL(this.url+`/object/upload/sign/${f}`);m.searchParams.set("token",t);try{let g;const p=Object.assign({upsert:ig.upsert},o),v=Object.assign(Object.assign({},this.headers),{"x-upsert":String(p.upsert)});typeof Blob<"u"&&i instanceof Blob?(g=new FormData,g.append("cacheControl",p.cacheControl),g.append("",i)):typeof FormData<"u"&&i instanceof FormData?(g=i,g.append("cacheControl",p.cacheControl)):(g=i,v["cache-control"]=`max-age=${p.cacheControl}`,v["content-type"]=p.contentType);const _=yield this.fetch(m.toString(),{method:"PUT",body:g,headers:v}),S=yield _.json();return _.ok?{data:{path:l,fullPath:S.Key},error:null}:{data:null,error:S}}catch(g){if(ct(g))return{data:null,error:g};throw g}})}createSignedUploadUrl(e,t){return At(this,void 0,void 0,function*(){try{let i=this._getFinalPath(e);const o=Object.assign({},this.headers);t!=null&&t.upsert&&(o["x-upsert"]="true");const l=yield oi(this.fetch,`${this.url}/object/upload/sign/${i}`,{},{headers:o}),f=new URL(this.url+l.url),m=f.searchParams.get("token");if(!m)throw new Mf("No token returned by API");return{data:{signedUrl:f.toString(),path:e,token:m},error:null}}catch(i){if(ct(i))return{data:null,error:i};throw i}})}update(e,t,i){return At(this,void 0,void 0,function*(){return this.uploadOrUpdate("PUT",e,t,i)})}move(e,t,i){return At(this,void 0,void 0,function*(){try{return{data:yield oi(this.fetch,`${this.url}/object/move`,{bucketId:this.bucketId,sourceKey:e,destinationKey:t,destinationBucket:i==null?void 0:i.destinationBucket},{headers:this.headers}),error:null}}catch(o){if(ct(o))return{data:null,error:o};throw o}})}copy(e,t,i){return At(this,void 0,void 0,function*(){try{return{data:{path:(yield oi(this.fetch,`${this.url}/object/copy`,{bucketId:this.bucketId,sourceKey:e,destinationKey:t,destinationBucket:i==null?void 0:i.destinationBucket},{headers:this.headers})).Key},error:null}}catch(o){if(ct(o))return{data:null,error:o};throw o}})}createSignedUrl(e,t,i){return At(this,void 0,void 0,function*(){try{let o=this._getFinalPath(e),l=yield oi(this.fetch,`${this.url}/object/sign/${o}`,Object.assign({expiresIn:t},i!=null&&i.transform?{transform:i.transform}:{}),{headers:this.headers});const f=i!=null&&i.download?`&download=${i.download===!0?"":i.download}`:"";return l={signedUrl:encodeURI(`${this.url}${l.signedURL}${f}`)},{data:l,error:null}}catch(o){if(ct(o))return{data:null,error:o};throw o}})}createSignedUrls(e,t,i){return At(this,void 0,void 0,function*(){try{const o=yield oi(this.fetch,`${this.url}/object/sign/${this.bucketId}`,{expiresIn:t,paths:e},{headers:this.headers}),l=i!=null&&i.download?`&download=${i.download===!0?"":i.download}`:"";return{data:o.map(f=>Object.assign(Object.assign({},f),{signedUrl:f.signedURL?encodeURI(`${this.url}${f.signedURL}${l}`):null})),error:null}}catch(o){if(ct(o))return{data:null,error:o};throw o}})}download(e,t){return At(this,void 0,void 0,function*(){const o=typeof(t==null?void 0:t.transform)<"u"?"render/image/authenticated":"object",l=this.transformOptsToQueryString((t==null?void 0:t.transform)||{}),f=l?`?${l}`:"";try{const m=this._getFinalPath(e);return{data:yield(yield Xs(this.fetch,`${this.url}/${o}/${m}${f}`,{headers:this.headers,noResolveJson:!0})).blob(),error:null}}catch(m){if(ct(m))return{data:null,error:m};throw m}})}info(e){return At(this,void 0,void 0,function*(){const t=this._getFinalPath(e);try{const i=yield Xs(this.fetch,`${this.url}/object/info/${t}`,{headers:this.headers});return{data:Wc(i),error:null}}catch(i){if(ct(i))return{data:null,error:i};throw i}})}exists(e){return At(this,void 0,void 0,function*(){const t=this._getFinalPath(e);try{return yield FC(this.fetch,`${this.url}/object/${t}`,{headers:this.headers}),{data:!0,error:null}}catch(i){if(ct(i)&&i instanceof Qc){const o=i.originalError;if([400,404].includes(o==null?void 0:o.status))return{data:!1,error:i}}throw i}})}getPublicUrl(e,t){const i=this._getFinalPath(e),o=[],l=t!=null&&t.download?`download=${t.download===!0?"":t.download}`:"";l!==""&&o.push(l);const m=typeof(t==null?void 0:t.transform)<"u"?"render/image":"object",g=this.transformOptsToQueryString((t==null?void 0:t.transform)||{});g!==""&&o.push(g);let p=o.join("&");return p!==""&&(p=`?${p}`),{data:{publicUrl:encodeURI(`${this.url}/${m}/public/${i}${p}`)}}}remove(e){return At(this,void 0,void 0,function*(){try{return{data:yield yv(this.fetch,`${this.url}/object/${this.bucketId}`,{prefixes:e},{headers:this.headers}),error:null}}catch(t){if(ct(t))return{data:null,error:t};throw t}})}list(e,t,i){return At(this,void 0,void 0,function*(){try{const o=Object.assign(Object.assign(Object.assign({},YC),t),{prefix:e||""});return{data:yield oi(this.fetch,`${this.url}/object/list/${this.bucketId}`,o,{headers:this.headers},i),error:null}}catch(o){if(ct(o))return{data:null,error:o};throw o}})}encodeMetadata(e){return JSON.stringify(e)}toBase64(e){return typeof Buffer<"u"?Buffer.from(e).toString("base64"):btoa(e)}_getFinalPath(e){return`${this.bucketId}/${e}`}_removeEmptyFolders(e){return e.replace(/^\/|\/$/g,"").replace(/\/+/g,"/")}transformOptsToQueryString(e){const t=[];return e.width&&t.push(`width=${e.width}`),e.height&&t.push(`height=${e.height}`),e.resize&&t.push(`resize=${e.resize}`),e.format&&t.push(`format=${e.format}`),e.quality&&t.push(`quality=${e.quality}`),t.join("&")}}const ZC="2.7.1",KC={"X-Client-Info":`storage-js/${ZC}`};var Nr=function(a,e,t,i){function o(l){return l instanceof t?l:new t(function(f){f(l)})}return new(t||(t=Promise))(function(l,f){function m(v){try{p(i.next(v))}catch(_){f(_)}}function g(v){try{p(i.throw(v))}catch(_){f(_)}}function p(v){v.done?l(v.value):o(v.value).then(m,g)}p((i=i.apply(a,e||[])).next())})};class XC{constructor(e,t={},i){this.url=e,this.headers=Object.assign(Object.assign({},KC),t),this.fetch=gv(i)}listBuckets(){return Nr(this,void 0,void 0,function*(){try{return{data:yield Xs(this.fetch,`${this.url}/bucket`,{headers:this.headers}),error:null}}catch(e){if(ct(e))return{data:null,error:e};throw e}})}getBucket(e){return Nr(this,void 0,void 0,function*(){try{return{data:yield Xs(this.fetch,`${this.url}/bucket/${e}`,{headers:this.headers}),error:null}}catch(t){if(ct(t))return{data:null,error:t};throw t}})}createBucket(e,t={public:!1}){return Nr(this,void 0,void 0,function*(){try{return{data:yield oi(this.fetch,`${this.url}/bucket`,{id:e,name:e,public:t.public,file_size_limit:t.fileSizeLimit,allowed_mime_types:t.allowedMimeTypes},{headers:this.headers}),error:null}}catch(i){if(ct(i))return{data:null,error:i};throw i}})}updateBucket(e,t){return Nr(this,void 0,void 0,function*(){try{return{data:yield $C(this.fetch,`${this.url}/bucket/${e}`,{id:e,name:e,public:t.public,file_size_limit:t.fileSizeLimit,allowed_mime_types:t.allowedMimeTypes},{headers:this.headers}),error:null}}catch(i){if(ct(i))return{data:null,error:i};throw i}})}emptyBucket(e){return Nr(this,void 0,void 0,function*(){try{return{data:yield oi(this.fetch,`${this.url}/bucket/${e}/empty`,{},{headers:this.headers}),error:null}}catch(t){if(ct(t))return{data:null,error:t};throw t}})}deleteBucket(e){return Nr(this,void 0,void 0,function*(){try{return{data:yield yv(this.fetch,`${this.url}/bucket/${e}`,{},{headers:this.headers}),error:null}}catch(t){if(ct(t))return{data:null,error:t};throw t}})}}class QC extends XC{constructor(e,t={},i){super(e,t,i)}from(e){return new JC(this.url,this.headers,e,this.fetch)}}const WC="2.49.8";let to="";typeof Deno<"u"?to="deno":typeof document<"u"?to="web":typeof navigator<"u"&&navigator.product==="ReactNative"?to="react-native":to="node";const jC={"X-Client-Info":`supabase-js-${to}/${WC}`},eE={headers:jC},tE={schema:"public"},nE={autoRefreshToken:!0,persistSession:!0,detectSessionInUrl:!0,flowType:"implicit"},iE={};var rE=function(a,e,t,i){function o(l){return l instanceof t?l:new t(function(f){f(l)})}return new(t||(t=Promise))(function(l,f){function m(v){try{p(i.next(v))}catch(_){f(_)}}function g(v){try{p(i.throw(v))}catch(_){f(_)}}function p(v){v.done?l(v.value):o(v.value).then(m,g)}p((i=i.apply(a,e||[])).next())})};const aE=a=>{let e;return a?e=a:typeof fetch>"u"?e=ov:e=fetch,(...t)=>e(...t)},oE=()=>typeof Headers>"u"?sv:Headers,sE=(a,e,t)=>{const i=aE(t),o=oE();return(l,f)=>rE(void 0,void 0,void 0,function*(){var m;const g=(m=yield e())!==null&&m!==void 0?m:a;let p=new o(f==null?void 0:f.headers);return p.has("apikey")||p.set("apikey",a),p.has("Authorization")||p.set("Authorization",`Bearer ${g}`),i(l,Object.assign(Object.assign({},f),{headers:p}))})};var lE=function(a,e,t,i){function o(l){return l instanceof t?l:new t(function(f){f(l)})}return new(t||(t=Promise))(function(l,f){function m(v){try{p(i.next(v))}catch(_){f(_)}}function g(v){try{p(i.throw(v))}catch(_){f(_)}}function p(v){v.done?l(v.value):o(v.value).then(m,g)}p((i=i.apply(a,e||[])).next())})};function uE(a){return a.endsWith("/")?a:a+"/"}function cE(a,e){var t,i;const{db:o,auth:l,realtime:f,global:m}=a,{db:g,auth:p,realtime:v,global:_}=e,S={db:Object.assign(Object.assign({},g),o),auth:Object.assign(Object.assign({},p),l),realtime:Object.assign(Object.assign({},v),f),global:Object.assign(Object.assign(Object.assign({},_),m),{headers:Object.assign(Object.assign({},(t=_==null?void 0:_.headers)!==null&&t!==void 0?t:{}),(i=m==null?void 0:m.headers)!==null&&i!==void 0?i:{})}),accessToken:()=>lE(this,void 0,void 0,function*(){return""})};return a.accessToken?S.accessToken=a.accessToken:delete S.accessToken,S}const vv="2.69.1",Or=30*1e3,jc=3,qc=jc*Or,fE="http://localhost:9999",dE="supabase.auth.token",hE={"X-Client-Info":`gotrue-js/${vv}`},ef="X-Supabase-Api-Version",_v={"2024-01-01":{timestamp:Date.parse("2024-01-01T00:00:00.0Z"),name:"2024-01-01"}},mE=/^([a-z0-9_-]{4})*($|[a-z0-9_-]{3}$|[a-z0-9_-]{2}$)$/i,pE=6e5;class Df extends Error{constructor(e,t,i){super(e),this.__isAuthError=!0,this.name="AuthError",this.status=t,this.code=i}}function ye(a){return typeof a=="object"&&a!==null&&"__isAuthError"in a}class gE extends Df{constructor(e,t,i){super(e,t,i),this.name="AuthApiError",this.status=t,this.code=i}}function yE(a){return ye(a)&&a.name==="AuthApiError"}class Tv extends Df{constructor(e,t){super(e),this.name="AuthUnknownError",this.originalError=t}}class fi extends Df{constructor(e,t,i,o){super(e,i,o),this.name=t,this.status=i}}class ri extends fi{constructor(){super("Auth session missing!","AuthSessionMissingError",400,void 0)}}function vE(a){return ye(a)&&a.name==="AuthSessionMissingError"}class Bc extends fi{constructor(){super("Auth session or user missing","AuthInvalidTokenResponseError",500,void 0)}}class Ps extends fi{constructor(e){super(e,"AuthInvalidCredentialsError",400,void 0)}}class Vs extends fi{constructor(e,t=null){super(e,"AuthImplicitGrantRedirectError",500,void 0),this.details=null,this.details=t}toJSON(){return{name:this.name,message:this.message,status:this.status,details:this.details}}}function _E(a){return ye(a)&&a.name==="AuthImplicitGrantRedirectError"}class rg extends fi{constructor(e,t=null){super(e,"AuthPKCEGrantCodeExchangeError",500,void 0),this.details=null,this.details=t}toJSON(){return{name:this.name,message:this.message,status:this.status,details:this.details}}}class tf extends fi{constructor(e,t){super(e,"AuthRetryableFetchError",t,void 0)}}function zc(a){return ye(a)&&a.name==="AuthRetryableFetchError"}class ag extends fi{constructor(e,t,i){super(e,"AuthWeakPasswordError",t,"weak_password"),this.reasons=i}}class so extends fi{constructor(e){super(e,"AuthInvalidJwtError",400,"invalid_jwt")}}const og="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-_".split(""),sg=` 	
\r=`.split(""),TE=(()=>{const a=new Array(128);for(let e=0;e<a.length;e+=1)a[e]=-1;for(let e=0;e<sg.length;e+=1)a[sg[e].charCodeAt(0)]=-2;for(let e=0;e<og.length;e+=1)a[og[e].charCodeAt(0)]=e;return a})();function Sv(a,e,t){const i=TE[a];if(i>-1)for(e.queue=e.queue<<6|i,e.queuedBits+=6;e.queuedBits>=8;)t(e.queue>>e.queuedBits-8&255),e.queuedBits-=8;else{if(i===-2)return;throw new Error(`Invalid Base64-URL character "${String.fromCharCode(a)}"`)}}function lg(a){const e=[],t=f=>{e.push(String.fromCodePoint(f))},i={utf8seq:0,codepoint:0},o={queue:0,queuedBits:0},l=f=>{EE(f,i,t)};for(let f=0;f<a.length;f+=1)Sv(a.charCodeAt(f),o,l);return e.join("")}function SE(a,e){if(a<=127){e(a);return}else if(a<=2047){e(192|a>>6),e(128|a&63);return}else if(a<=65535){e(224|a>>12),e(128|a>>6&63),e(128|a&63);return}else if(a<=1114111){e(240|a>>18),e(128|a>>12&63),e(128|a>>6&63),e(128|a&63);return}throw new Error(`Unrecognized Unicode codepoint: ${a.toString(16)}`)}function CE(a,e){for(let t=0;t<a.length;t+=1){let i=a.charCodeAt(t);if(i>55295&&i<=56319){const o=(i-55296)*1024&65535;i=(a.charCodeAt(t+1)-56320&65535|o)+65536,t+=1}SE(i,e)}}function EE(a,e,t){if(e.utf8seq===0){if(a<=127){t(a);return}for(let i=1;i<6;i+=1)if((a>>7-i&1)===0){e.utf8seq=i;break}if(e.utf8seq===2)e.codepoint=a&31;else if(e.utf8seq===3)e.codepoint=a&15;else if(e.utf8seq===4)e.codepoint=a&7;else throw new Error("Invalid UTF-8 sequence");e.utf8seq-=1}else if(e.utf8seq>0){if(a<=127)throw new Error("Invalid UTF-8 sequence");e.codepoint=e.codepoint<<6|a&63,e.utf8seq-=1,e.utf8seq===0&&t(e.codepoint)}}function AE(a){const e=[],t={queue:0,queuedBits:0},i=o=>{e.push(o)};for(let o=0;o<a.length;o+=1)Sv(a.charCodeAt(o),t,i);return new Uint8Array(e)}function wE(a){const e=[];return CE(a,t=>e.push(t)),new Uint8Array(e)}function xE(a){return Math.round(Date.now()/1e3)+a}function bE(){return"xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(/[xy]/g,function(a){const e=Math.random()*16|0;return(a=="x"?e:e&3|8).toString(16)})}const on=()=>typeof window<"u"&&typeof document<"u",ki={tested:!1,writable:!1},lo=()=>{if(!on())return!1;try{if(typeof globalThis.localStorage!="object")return!1}catch{return!1}if(ki.tested)return ki.writable;const a=`lswt-${Math.random()}${Math.random()}`;try{globalThis.localStorage.setItem(a,a),globalThis.localStorage.removeItem(a),ki.tested=!0,ki.writable=!0}catch{ki.tested=!0,ki.writable=!1}return ki.writable};function RE(a){const e={},t=new URL(a);if(t.hash&&t.hash[0]==="#")try{new URLSearchParams(t.hash.substring(1)).forEach((o,l)=>{e[l]=o})}catch{}return t.searchParams.forEach((i,o)=>{e[o]=i}),e}const Cv=a=>{let e;return a?e=a:typeof fetch>"u"?e=(...t)=>qr(async()=>{const{default:i}=await Promise.resolve().then(()=>Kr);return{default:i}},void 0).then(({default:i})=>i(...t)):e=fetch,(...t)=>e(...t)},ME=a=>typeof a=="object"&&a!==null&&"status"in a&&"ok"in a&&"json"in a&&typeof a.json=="function",Ev=async(a,e,t)=>{await a.setItem(e,JSON.stringify(t))},qs=async(a,e)=>{const t=await a.getItem(e);if(!t)return null;try{return JSON.parse(t)}catch{return t}},Bs=async(a,e)=>{await a.removeItem(e)};class ul{constructor(){this.promise=new ul.promiseConstructor((e,t)=>{this.resolve=e,this.reject=t})}}ul.promiseConstructor=Promise;function Gc(a){const e=a.split(".");if(e.length!==3)throw new so("Invalid JWT structure");for(let i=0;i<e.length;i++)if(!mE.test(e[i]))throw new so("JWT not in base64url format");return{header:JSON.parse(lg(e[0])),payload:JSON.parse(lg(e[1])),signature:AE(e[2]),raw:{header:e[0],payload:e[1]}}}async function DE(a){return await new Promise(e=>{setTimeout(()=>e(null),a)})}function NE(a,e){return new Promise((i,o)=>{(async()=>{for(let l=0;l<1/0;l++)try{const f=await a(l);if(!e(l,null,f)){i(f);return}}catch(f){if(!e(l,f)){o(f);return}}})()})}function kE(a){return("0"+a.toString(16)).substr(-2)}function UE(){const e=new Uint32Array(56);if(typeof crypto>"u"){const t="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-._~",i=t.length;let o="";for(let l=0;l<56;l++)o+=t.charAt(Math.floor(Math.random()*i));return o}return crypto.getRandomValues(e),Array.from(e,kE).join("")}async function IE(a){const t=new TextEncoder().encode(a),i=await crypto.subtle.digest("SHA-256",t),o=new Uint8Array(i);return Array.from(o).map(l=>String.fromCharCode(l)).join("")}async function OE(a){if(!(typeof crypto<"u"&&typeof crypto.subtle<"u"&&typeof TextEncoder<"u"))return console.warn("WebCrypto API is not supported. Code challenge method will default to use plain instead of sha256."),a;const t=await IE(a);return btoa(t).replace(/\+/g,"-").replace(/\//g,"_").replace(/=+$/,"")}async function kr(a,e,t=!1){const i=UE();let o=i;t&&(o+="/PASSWORD_RECOVERY"),await Ev(a,`${e}-code-verifier`,o);const l=await OE(i);return[l,i===l?"plain":"s256"]}const LE=/^2[0-9]{3}-(0[1-9]|1[0-2])-(0[1-9]|1[0-9]|2[0-9]|3[0-1])$/i;function PE(a){const e=a.headers.get(ef);if(!e||!e.match(LE))return null;try{return new Date(`${e}T00:00:00.0Z`)}catch{return null}}function VE(a){if(!a)throw new Error("Missing exp claim");const e=Math.floor(Date.now()/1e3);if(a<=e)throw new Error("JWT has expired")}function qE(a){switch(a){case"RS256":return{name:"RSASSA-PKCS1-v1_5",hash:{name:"SHA-256"}};case"ES256":return{name:"ECDSA",namedCurve:"P-256",hash:{name:"SHA-256"}};default:throw new Error("Invalid alg claim")}}var BE=function(a,e){var t={};for(var i in a)Object.prototype.hasOwnProperty.call(a,i)&&e.indexOf(i)<0&&(t[i]=a[i]);if(a!=null&&typeof Object.getOwnPropertySymbols=="function")for(var o=0,i=Object.getOwnPropertySymbols(a);o<i.length;o++)e.indexOf(i[o])<0&&Object.prototype.propertyIsEnumerable.call(a,i[o])&&(t[i[o]]=a[i[o]]);return t};const Ii=a=>a.msg||a.message||a.error_description||a.error||JSON.stringify(a),zE=[502,503,504];async function ug(a){var e;if(!ME(a))throw new tf(Ii(a),0);if(zE.includes(a.status))throw new tf(Ii(a),a.status);let t;try{t=await a.json()}catch(l){throw new Tv(Ii(l),l)}let i;const o=PE(a);if(o&&o.getTime()>=_v["2024-01-01"].timestamp&&typeof t=="object"&&t&&typeof t.code=="string"?i=t.code:typeof t=="object"&&t&&typeof t.error_code=="string"&&(i=t.error_code),i){if(i==="weak_password")throw new ag(Ii(t),a.status,((e=t.weak_password)===null||e===void 0?void 0:e.reasons)||[]);if(i==="session_not_found")throw new ri}else if(typeof t=="object"&&t&&typeof t.weak_password=="object"&&t.weak_password&&Array.isArray(t.weak_password.reasons)&&t.weak_password.reasons.length&&t.weak_password.reasons.reduce((l,f)=>l&&typeof f=="string",!0))throw new ag(Ii(t),a.status,t.weak_password.reasons);throw new gE(Ii(t),a.status||500,i)}const GE=(a,e,t,i)=>{const o={method:a,headers:(e==null?void 0:e.headers)||{}};return a==="GET"?o:(o.headers=Object.assign({"Content-Type":"application/json;charset=UTF-8"},e==null?void 0:e.headers),o.body=JSON.stringify(i),Object.assign(Object.assign({},o),t))};async function Ae(a,e,t,i){var o;const l=Object.assign({},i==null?void 0:i.headers);l[ef]||(l[ef]=_v["2024-01-01"].name),i!=null&&i.jwt&&(l.Authorization=`Bearer ${i.jwt}`);const f=(o=i==null?void 0:i.query)!==null&&o!==void 0?o:{};i!=null&&i.redirectTo&&(f.redirect_to=i.redirectTo);const m=Object.keys(f).length?"?"+new URLSearchParams(f).toString():"",g=await HE(a,e,t+m,{headers:l,noResolveJson:i==null?void 0:i.noResolveJson},{},i==null?void 0:i.body);return i!=null&&i.xform?i==null?void 0:i.xform(g):{data:Object.assign({},g),error:null}}async function HE(a,e,t,i,o,l){const f=GE(e,i,o,l);let m;try{m=await a(t,Object.assign({},f))}catch(g){throw console.error(g),new tf(Ii(g),0)}if(m.ok||await ug(m),i!=null&&i.noResolveJson)return m;try{return await m.json()}catch(g){await ug(g)}}function ai(a){var e;let t=null;JE(a)&&(t=Object.assign({},a),a.expires_at||(t.expires_at=xE(a.expires_in)));const i=(e=a.user)!==null&&e!==void 0?e:a;return{data:{session:t,user:i},error:null}}function cg(a){const e=ai(a);return!e.error&&a.weak_password&&typeof a.weak_password=="object"&&Array.isArray(a.weak_password.reasons)&&a.weak_password.reasons.length&&a.weak_password.message&&typeof a.weak_password.message=="string"&&a.weak_password.reasons.reduce((t,i)=>t&&typeof i=="string",!0)&&(e.data.weak_password=a.weak_password),e}function li(a){var e;return{data:{user:(e=a.user)!==null&&e!==void 0?e:a},error:null}}function $E(a){return{data:a,error:null}}function FE(a){const{action_link:e,email_otp:t,hashed_token:i,redirect_to:o,verification_type:l}=a,f=BE(a,["action_link","email_otp","hashed_token","redirect_to","verification_type"]),m={action_link:e,email_otp:t,hashed_token:i,redirect_to:o,verification_type:l},g=Object.assign({},f);return{data:{properties:m,user:g},error:null}}function YE(a){return a}function JE(a){return a.access_token&&a.refresh_token&&a.expires_in}var ZE=function(a,e){var t={};for(var i in a)Object.prototype.hasOwnProperty.call(a,i)&&e.indexOf(i)<0&&(t[i]=a[i]);if(a!=null&&typeof Object.getOwnPropertySymbols=="function")for(var o=0,i=Object.getOwnPropertySymbols(a);o<i.length;o++)e.indexOf(i[o])<0&&Object.prototype.propertyIsEnumerable.call(a,i[o])&&(t[i[o]]=a[i[o]]);return t};class KE{constructor({url:e="",headers:t={},fetch:i}){this.url=e,this.headers=t,this.fetch=Cv(i),this.mfa={listFactors:this._listFactors.bind(this),deleteFactor:this._deleteFactor.bind(this)}}async signOut(e,t="global"){try{return await Ae(this.fetch,"POST",`${this.url}/logout?scope=${t}`,{headers:this.headers,jwt:e,noResolveJson:!0}),{data:null,error:null}}catch(i){if(ye(i))return{data:null,error:i};throw i}}async inviteUserByEmail(e,t={}){try{return await Ae(this.fetch,"POST",`${this.url}/invite`,{body:{email:e,data:t.data},headers:this.headers,redirectTo:t.redirectTo,xform:li})}catch(i){if(ye(i))return{data:{user:null},error:i};throw i}}async generateLink(e){try{const{options:t}=e,i=ZE(e,["options"]),o=Object.assign(Object.assign({},i),t);return"newEmail"in i&&(o.new_email=i==null?void 0:i.newEmail,delete o.newEmail),await Ae(this.fetch,"POST",`${this.url}/admin/generate_link`,{body:o,headers:this.headers,xform:FE,redirectTo:t==null?void 0:t.redirectTo})}catch(t){if(ye(t))return{data:{properties:null,user:null},error:t};throw t}}async createUser(e){try{return await Ae(this.fetch,"POST",`${this.url}/admin/users`,{body:e,headers:this.headers,xform:li})}catch(t){if(ye(t))return{data:{user:null},error:t};throw t}}async listUsers(e){var t,i,o,l,f,m,g;try{const p={nextPage:null,lastPage:0,total:0},v=await Ae(this.fetch,"GET",`${this.url}/admin/users`,{headers:this.headers,noResolveJson:!0,query:{page:(i=(t=e==null?void 0:e.page)===null||t===void 0?void 0:t.toString())!==null&&i!==void 0?i:"",per_page:(l=(o=e==null?void 0:e.perPage)===null||o===void 0?void 0:o.toString())!==null&&l!==void 0?l:""},xform:YE});if(v.error)throw v.error;const _=await v.json(),S=(f=v.headers.get("x-total-count"))!==null&&f!==void 0?f:0,E=(g=(m=v.headers.get("link"))===null||m===void 0?void 0:m.split(","))!==null&&g!==void 0?g:[];return E.length>0&&(E.forEach(A=>{const b=parseInt(A.split(";")[0].split("=")[1].substring(0,1)),N=JSON.parse(A.split(";")[1].split("=")[1]);p[`${N}Page`]=b}),p.total=parseInt(S)),{data:Object.assign(Object.assign({},_),p),error:null}}catch(p){if(ye(p))return{data:{users:[]},error:p};throw p}}async getUserById(e){try{return await Ae(this.fetch,"GET",`${this.url}/admin/users/${e}`,{headers:this.headers,xform:li})}catch(t){if(ye(t))return{data:{user:null},error:t};throw t}}async updateUserById(e,t){try{return await Ae(this.fetch,"PUT",`${this.url}/admin/users/${e}`,{body:t,headers:this.headers,xform:li})}catch(i){if(ye(i))return{data:{user:null},error:i};throw i}}async deleteUser(e,t=!1){try{return await Ae(this.fetch,"DELETE",`${this.url}/admin/users/${e}`,{headers:this.headers,body:{should_soft_delete:t},xform:li})}catch(i){if(ye(i))return{data:{user:null},error:i};throw i}}async _listFactors(e){try{const{data:t,error:i}=await Ae(this.fetch,"GET",`${this.url}/admin/users/${e.userId}/factors`,{headers:this.headers,xform:o=>({data:{factors:o},error:null})});return{data:t,error:i}}catch(t){if(ye(t))return{data:null,error:t};throw t}}async _deleteFactor(e){try{return{data:await Ae(this.fetch,"DELETE",`${this.url}/admin/users/${e.userId}/factors/${e.id}`,{headers:this.headers}),error:null}}catch(t){if(ye(t))return{data:null,error:t};throw t}}}const XE={getItem:a=>lo()?globalThis.localStorage.getItem(a):null,setItem:(a,e)=>{lo()&&globalThis.localStorage.setItem(a,e)},removeItem:a=>{lo()&&globalThis.localStorage.removeItem(a)}};function fg(a={}){return{getItem:e=>a[e]||null,setItem:(e,t)=>{a[e]=t},removeItem:e=>{delete a[e]}}}function QE(){if(typeof globalThis!="object")try{Object.defineProperty(Object.prototype,"__magic__",{get:function(){return this},configurable:!0}),__magic__.globalThis=__magic__,delete Object.prototype.__magic__}catch{typeof self<"u"&&(self.globalThis=self)}}const Ur={debug:!!(globalThis&&lo()&&globalThis.localStorage&&globalThis.localStorage.getItem("supabase.gotrue-js.locks.debug")==="true")};class Av extends Error{constructor(e){super(e),this.isAcquireTimeout=!0}}class WE extends Av{}async function jE(a,e,t){Ur.debug&&console.log("@supabase/gotrue-js: navigatorLock: acquire lock",a,e);const i=new globalThis.AbortController;return e>0&&setTimeout(()=>{i.abort(),Ur.debug&&console.log("@supabase/gotrue-js: navigatorLock acquire timed out",a)},e),await Promise.resolve().then(()=>globalThis.navigator.locks.request(a,e===0?{mode:"exclusive",ifAvailable:!0}:{mode:"exclusive",signal:i.signal},async o=>{if(o){Ur.debug&&console.log("@supabase/gotrue-js: navigatorLock: acquired",a,o.name);try{return await t()}finally{Ur.debug&&console.log("@supabase/gotrue-js: navigatorLock: released",a,o.name)}}else{if(e===0)throw Ur.debug&&console.log("@supabase/gotrue-js: navigatorLock: not immediately available",a),new WE(`Acquiring an exclusive Navigator LockManager lock "${a}" immediately failed`);if(Ur.debug)try{const l=await globalThis.navigator.locks.query();console.log("@supabase/gotrue-js: Navigator LockManager state",JSON.stringify(l,null,"  "))}catch(l){console.warn("@supabase/gotrue-js: Error when querying Navigator LockManager state",l)}return console.warn("@supabase/gotrue-js: Navigator LockManager returned a null lock when using #request without ifAvailable set to true, it appears this browser is not following the LockManager spec https://developer.mozilla.org/en-US/docs/Web/API/LockManager/request"),await t()}}))}QE();const eA={url:fE,storageKey:dE,autoRefreshToken:!0,persistSession:!0,detectSessionInUrl:!0,headers:hE,flowType:"implicit",debug:!1,hasCustomAuthorizationHeader:!1};async function dg(a,e,t){return await t()}class ho{constructor(e){var t,i;this.memoryStorage=null,this.stateChangeEmitters=new Map,this.autoRefreshTicker=null,this.visibilityChangedCallback=null,this.refreshingDeferred=null,this.initializePromise=null,this.detectSessionInUrl=!0,this.hasCustomAuthorizationHeader=!1,this.suppressGetSessionWarning=!1,this.lockAcquired=!1,this.pendingInLock=[],this.broadcastChannel=null,this.logger=console.log,this.instanceID=ho.nextInstanceID,ho.nextInstanceID+=1,this.instanceID>0&&on()&&console.warn("Multiple GoTrueClient instances detected in the same browser context. It is not an error, but this should be avoided as it may produce undefined behavior when used concurrently under the same storage key.");const o=Object.assign(Object.assign({},eA),e);if(this.logDebugMessages=!!o.debug,typeof o.debug=="function"&&(this.logger=o.debug),this.persistSession=o.persistSession,this.storageKey=o.storageKey,this.autoRefreshToken=o.autoRefreshToken,this.admin=new KE({url:o.url,headers:o.headers,fetch:o.fetch}),this.url=o.url,this.headers=o.headers,this.fetch=Cv(o.fetch),this.lock=o.lock||dg,this.detectSessionInUrl=o.detectSessionInUrl,this.flowType=o.flowType,this.hasCustomAuthorizationHeader=o.hasCustomAuthorizationHeader,o.lock?this.lock=o.lock:on()&&(!((t=globalThis==null?void 0:globalThis.navigator)===null||t===void 0)&&t.locks)?this.lock=jE:this.lock=dg,this.jwks={keys:[]},this.jwks_cached_at=Number.MIN_SAFE_INTEGER,this.mfa={verify:this._verify.bind(this),enroll:this._enroll.bind(this),unenroll:this._unenroll.bind(this),challenge:this._challenge.bind(this),listFactors:this._listFactors.bind(this),challengeAndVerify:this._challengeAndVerify.bind(this),getAuthenticatorAssuranceLevel:this._getAuthenticatorAssuranceLevel.bind(this)},this.persistSession?o.storage?this.storage=o.storage:lo()?this.storage=XE:(this.memoryStorage={},this.storage=fg(this.memoryStorage)):(this.memoryStorage={},this.storage=fg(this.memoryStorage)),on()&&globalThis.BroadcastChannel&&this.persistSession&&this.storageKey){try{this.broadcastChannel=new globalThis.BroadcastChannel(this.storageKey)}catch(l){console.error("Failed to create a new BroadcastChannel, multi-tab state changes will not be available",l)}(i=this.broadcastChannel)===null||i===void 0||i.addEventListener("message",async l=>{this._debug("received broadcast notification from other tab or client",l),await this._notifyAllSubscribers(l.data.event,l.data.session,!1)})}this.initialize()}_debug(...e){return this.logDebugMessages&&this.logger(`GoTrueClient@${this.instanceID} (${vv}) ${new Date().toISOString()}`,...e),this}async initialize(){return this.initializePromise?await this.initializePromise:(this.initializePromise=(async()=>await this._acquireLock(-1,async()=>await this._initialize()))(),await this.initializePromise)}async _initialize(){var e;try{const t=RE(window.location.href);let i="none";if(this._isImplicitGrantCallback(t)?i="implicit":await this._isPKCECallback(t)&&(i="pkce"),on()&&this.detectSessionInUrl&&i!=="none"){const{data:o,error:l}=await this._getSessionFromURL(t,i);if(l){if(this._debug("#_initialize()","error detecting session from URL",l),_E(l)){const g=(e=l.details)===null||e===void 0?void 0:e.code;if(g==="identity_already_exists"||g==="identity_not_found"||g==="single_identity_not_deletable")return{error:l}}return await this._removeSession(),{error:l}}const{session:f,redirectType:m}=o;return this._debug("#_initialize()","detected session in URL",f,"redirect type",m),await this._saveSession(f),setTimeout(async()=>{m==="recovery"?await this._notifyAllSubscribers("PASSWORD_RECOVERY",f):await this._notifyAllSubscribers("SIGNED_IN",f)},0),{error:null}}return await this._recoverAndRefresh(),{error:null}}catch(t){return ye(t)?{error:t}:{error:new Tv("Unexpected error during initialization",t)}}finally{await this._handleVisibilityChange(),this._debug("#_initialize()","end")}}async signInAnonymously(e){var t,i,o;try{const l=await Ae(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,body:{data:(i=(t=e==null?void 0:e.options)===null||t===void 0?void 0:t.data)!==null&&i!==void 0?i:{},gotrue_meta_security:{captcha_token:(o=e==null?void 0:e.options)===null||o===void 0?void 0:o.captchaToken}},xform:ai}),{data:f,error:m}=l;if(m||!f)return{data:{user:null,session:null},error:m};const g=f.session,p=f.user;return f.session&&(await this._saveSession(f.session),await this._notifyAllSubscribers("SIGNED_IN",g)),{data:{user:p,session:g},error:null}}catch(l){if(ye(l))return{data:{user:null,session:null},error:l};throw l}}async signUp(e){var t,i,o;try{let l;if("email"in e){const{email:v,password:_,options:S}=e;let E=null,A=null;this.flowType==="pkce"&&([E,A]=await kr(this.storage,this.storageKey)),l=await Ae(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,redirectTo:S==null?void 0:S.emailRedirectTo,body:{email:v,password:_,data:(t=S==null?void 0:S.data)!==null&&t!==void 0?t:{},gotrue_meta_security:{captcha_token:S==null?void 0:S.captchaToken},code_challenge:E,code_challenge_method:A},xform:ai})}else if("phone"in e){const{phone:v,password:_,options:S}=e;l=await Ae(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,body:{phone:v,password:_,data:(i=S==null?void 0:S.data)!==null&&i!==void 0?i:{},channel:(o=S==null?void 0:S.channel)!==null&&o!==void 0?o:"sms",gotrue_meta_security:{captcha_token:S==null?void 0:S.captchaToken}},xform:ai})}else throw new Ps("You must provide either an email or phone number and a password");const{data:f,error:m}=l;if(m||!f)return{data:{user:null,session:null},error:m};const g=f.session,p=f.user;return f.session&&(await this._saveSession(f.session),await this._notifyAllSubscribers("SIGNED_IN",g)),{data:{user:p,session:g},error:null}}catch(l){if(ye(l))return{data:{user:null,session:null},error:l};throw l}}async signInWithPassword(e){try{let t;if("email"in e){const{email:l,password:f,options:m}=e;t=await Ae(this.fetch,"POST",`${this.url}/token?grant_type=password`,{headers:this.headers,body:{email:l,password:f,gotrue_meta_security:{captcha_token:m==null?void 0:m.captchaToken}},xform:cg})}else if("phone"in e){const{phone:l,password:f,options:m}=e;t=await Ae(this.fetch,"POST",`${this.url}/token?grant_type=password`,{headers:this.headers,body:{phone:l,password:f,gotrue_meta_security:{captcha_token:m==null?void 0:m.captchaToken}},xform:cg})}else throw new Ps("You must provide either an email or phone number and a password");const{data:i,error:o}=t;return o?{data:{user:null,session:null},error:o}:!i||!i.session||!i.user?{data:{user:null,session:null},error:new Bc}:(i.session&&(await this._saveSession(i.session),await this._notifyAllSubscribers("SIGNED_IN",i.session)),{data:Object.assign({user:i.user,session:i.session},i.weak_password?{weakPassword:i.weak_password}:null),error:o})}catch(t){if(ye(t))return{data:{user:null,session:null},error:t};throw t}}async signInWithOAuth(e){var t,i,o,l;return await this._handleProviderSignIn(e.provider,{redirectTo:(t=e.options)===null||t===void 0?void 0:t.redirectTo,scopes:(i=e.options)===null||i===void 0?void 0:i.scopes,queryParams:(o=e.options)===null||o===void 0?void 0:o.queryParams,skipBrowserRedirect:(l=e.options)===null||l===void 0?void 0:l.skipBrowserRedirect})}async exchangeCodeForSession(e){return await this.initializePromise,this._acquireLock(-1,async()=>this._exchangeCodeForSession(e))}async _exchangeCodeForSession(e){const t=await qs(this.storage,`${this.storageKey}-code-verifier`),[i,o]=(t??"").split("/");try{const{data:l,error:f}=await Ae(this.fetch,"POST",`${this.url}/token?grant_type=pkce`,{headers:this.headers,body:{auth_code:e,code_verifier:i},xform:ai});if(await Bs(this.storage,`${this.storageKey}-code-verifier`),f)throw f;return!l||!l.session||!l.user?{data:{user:null,session:null,redirectType:null},error:new Bc}:(l.session&&(await this._saveSession(l.session),await this._notifyAllSubscribers("SIGNED_IN",l.session)),{data:Object.assign(Object.assign({},l),{redirectType:o??null}),error:f})}catch(l){if(ye(l))return{data:{user:null,session:null,redirectType:null},error:l};throw l}}async signInWithIdToken(e){try{const{options:t,provider:i,token:o,access_token:l,nonce:f}=e,m=await Ae(this.fetch,"POST",`${this.url}/token?grant_type=id_token`,{headers:this.headers,body:{provider:i,id_token:o,access_token:l,nonce:f,gotrue_meta_security:{captcha_token:t==null?void 0:t.captchaToken}},xform:ai}),{data:g,error:p}=m;return p?{data:{user:null,session:null},error:p}:!g||!g.session||!g.user?{data:{user:null,session:null},error:new Bc}:(g.session&&(await this._saveSession(g.session),await this._notifyAllSubscribers("SIGNED_IN",g.session)),{data:g,error:p})}catch(t){if(ye(t))return{data:{user:null,session:null},error:t};throw t}}async signInWithOtp(e){var t,i,o,l,f;try{if("email"in e){const{email:m,options:g}=e;let p=null,v=null;this.flowType==="pkce"&&([p,v]=await kr(this.storage,this.storageKey));const{error:_}=await Ae(this.fetch,"POST",`${this.url}/otp`,{headers:this.headers,body:{email:m,data:(t=g==null?void 0:g.data)!==null&&t!==void 0?t:{},create_user:(i=g==null?void 0:g.shouldCreateUser)!==null&&i!==void 0?i:!0,gotrue_meta_security:{captcha_token:g==null?void 0:g.captchaToken},code_challenge:p,code_challenge_method:v},redirectTo:g==null?void 0:g.emailRedirectTo});return{data:{user:null,session:null},error:_}}if("phone"in e){const{phone:m,options:g}=e,{data:p,error:v}=await Ae(this.fetch,"POST",`${this.url}/otp`,{headers:this.headers,body:{phone:m,data:(o=g==null?void 0:g.data)!==null&&o!==void 0?o:{},create_user:(l=g==null?void 0:g.shouldCreateUser)!==null&&l!==void 0?l:!0,gotrue_meta_security:{captcha_token:g==null?void 0:g.captchaToken},channel:(f=g==null?void 0:g.channel)!==null&&f!==void 0?f:"sms"}});return{data:{user:null,session:null,messageId:p==null?void 0:p.message_id},error:v}}throw new Ps("You must provide either an email or phone number.")}catch(m){if(ye(m))return{data:{user:null,session:null},error:m};throw m}}async verifyOtp(e){var t,i;try{let o,l;"options"in e&&(o=(t=e.options)===null||t===void 0?void 0:t.redirectTo,l=(i=e.options)===null||i===void 0?void 0:i.captchaToken);const{data:f,error:m}=await Ae(this.fetch,"POST",`${this.url}/verify`,{headers:this.headers,body:Object.assign(Object.assign({},e),{gotrue_meta_security:{captcha_token:l}}),redirectTo:o,xform:ai});if(m)throw m;if(!f)throw new Error("An error occurred on token verification.");const g=f.session,p=f.user;return g!=null&&g.access_token&&(await this._saveSession(g),await this._notifyAllSubscribers(e.type=="recovery"?"PASSWORD_RECOVERY":"SIGNED_IN",g)),{data:{user:p,session:g},error:null}}catch(o){if(ye(o))return{data:{user:null,session:null},error:o};throw o}}async signInWithSSO(e){var t,i,o;try{let l=null,f=null;return this.flowType==="pkce"&&([l,f]=await kr(this.storage,this.storageKey)),await Ae(this.fetch,"POST",`${this.url}/sso`,{body:Object.assign(Object.assign(Object.assign(Object.assign(Object.assign({},"providerId"in e?{provider_id:e.providerId}:null),"domain"in e?{domain:e.domain}:null),{redirect_to:(i=(t=e.options)===null||t===void 0?void 0:t.redirectTo)!==null&&i!==void 0?i:void 0}),!((o=e==null?void 0:e.options)===null||o===void 0)&&o.captchaToken?{gotrue_meta_security:{captcha_token:e.options.captchaToken}}:null),{skip_http_redirect:!0,code_challenge:l,code_challenge_method:f}),headers:this.headers,xform:$E})}catch(l){if(ye(l))return{data:null,error:l};throw l}}async reauthenticate(){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._reauthenticate())}async _reauthenticate(){try{return await this._useSession(async e=>{const{data:{session:t},error:i}=e;if(i)throw i;if(!t)throw new ri;const{error:o}=await Ae(this.fetch,"GET",`${this.url}/reauthenticate`,{headers:this.headers,jwt:t.access_token});return{data:{user:null,session:null},error:o}})}catch(e){if(ye(e))return{data:{user:null,session:null},error:e};throw e}}async resend(e){try{const t=`${this.url}/resend`;if("email"in e){const{email:i,type:o,options:l}=e,{error:f}=await Ae(this.fetch,"POST",t,{headers:this.headers,body:{email:i,type:o,gotrue_meta_security:{captcha_token:l==null?void 0:l.captchaToken}},redirectTo:l==null?void 0:l.emailRedirectTo});return{data:{user:null,session:null},error:f}}else if("phone"in e){const{phone:i,type:o,options:l}=e,{data:f,error:m}=await Ae(this.fetch,"POST",t,{headers:this.headers,body:{phone:i,type:o,gotrue_meta_security:{captcha_token:l==null?void 0:l.captchaToken}}});return{data:{user:null,session:null,messageId:f==null?void 0:f.message_id},error:m}}throw new Ps("You must provide either an email or phone number and a type")}catch(t){if(ye(t))return{data:{user:null,session:null},error:t};throw t}}async getSession(){return await this.initializePromise,await this._acquireLock(-1,async()=>this._useSession(async t=>t))}async _acquireLock(e,t){this._debug("#_acquireLock","begin",e);try{if(this.lockAcquired){const i=this.pendingInLock.length?this.pendingInLock[this.pendingInLock.length-1]:Promise.resolve(),o=(async()=>(await i,await t()))();return this.pendingInLock.push((async()=>{try{await o}catch{}})()),o}return await this.lock(`lock:${this.storageKey}`,e,async()=>{this._debug("#_acquireLock","lock acquired for storage key",this.storageKey);try{this.lockAcquired=!0;const i=t();for(this.pendingInLock.push((async()=>{try{await i}catch{}})()),await i;this.pendingInLock.length;){const o=[...this.pendingInLock];await Promise.all(o),this.pendingInLock.splice(0,o.length)}return await i}finally{this._debug("#_acquireLock","lock released for storage key",this.storageKey),this.lockAcquired=!1}})}finally{this._debug("#_acquireLock","end")}}async _useSession(e){this._debug("#_useSession","begin");try{const t=await this.__loadSession();return await e(t)}finally{this._debug("#_useSession","end")}}async __loadSession(){this._debug("#__loadSession()","begin"),this.lockAcquired||this._debug("#__loadSession()","used outside of an acquired lock!",new Error().stack);try{let e=null;const t=await qs(this.storage,this.storageKey);if(this._debug("#getSession()","session from storage",t),t!==null&&(this._isValidSession(t)?e=t:(this._debug("#getSession()","session from storage is not valid"),await this._removeSession())),!e)return{data:{session:null},error:null};const i=e.expires_at?e.expires_at*1e3-Date.now()<qc:!1;if(this._debug("#__loadSession()",`session has${i?"":" not"} expired`,"expires_at",e.expires_at),!i){if(this.storage.isServer){let f=this.suppressGetSessionWarning;e=new Proxy(e,{get:(g,p,v)=>(!f&&p==="user"&&(console.warn("Using the user object as returned from supabase.auth.getSession() or from some supabase.auth.onAuthStateChange() events could be insecure! This value comes directly from the storage medium (usually cookies on the server) and may not be authentic. Use supabase.auth.getUser() instead which authenticates the data by contacting the Supabase Auth server."),f=!0,this.suppressGetSessionWarning=!0),Reflect.get(g,p,v))})}return{data:{session:e},error:null}}const{session:o,error:l}=await this._callRefreshToken(e.refresh_token);return l?{data:{session:null},error:l}:{data:{session:o},error:null}}finally{this._debug("#__loadSession()","end")}}async getUser(e){return e?await this._getUser(e):(await this.initializePromise,await this._acquireLock(-1,async()=>await this._getUser()))}async _getUser(e){try{return e?await Ae(this.fetch,"GET",`${this.url}/user`,{headers:this.headers,jwt:e,xform:li}):await this._useSession(async t=>{var i,o,l;const{data:f,error:m}=t;if(m)throw m;return!(!((i=f.session)===null||i===void 0)&&i.access_token)&&!this.hasCustomAuthorizationHeader?{data:{user:null},error:new ri}:await Ae(this.fetch,"GET",`${this.url}/user`,{headers:this.headers,jwt:(l=(o=f.session)===null||o===void 0?void 0:o.access_token)!==null&&l!==void 0?l:void 0,xform:li})})}catch(t){if(ye(t))return vE(t)&&(await this._removeSession(),await Bs(this.storage,`${this.storageKey}-code-verifier`)),{data:{user:null},error:t};throw t}}async updateUser(e,t={}){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._updateUser(e,t))}async _updateUser(e,t={}){try{return await this._useSession(async i=>{const{data:o,error:l}=i;if(l)throw l;if(!o.session)throw new ri;const f=o.session;let m=null,g=null;this.flowType==="pkce"&&e.email!=null&&([m,g]=await kr(this.storage,this.storageKey));const{data:p,error:v}=await Ae(this.fetch,"PUT",`${this.url}/user`,{headers:this.headers,redirectTo:t==null?void 0:t.emailRedirectTo,body:Object.assign(Object.assign({},e),{code_challenge:m,code_challenge_method:g}),jwt:f.access_token,xform:li});if(v)throw v;return f.user=p.user,await this._saveSession(f),await this._notifyAllSubscribers("USER_UPDATED",f),{data:{user:f.user},error:null}})}catch(i){if(ye(i))return{data:{user:null},error:i};throw i}}async setSession(e){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._setSession(e))}async _setSession(e){try{if(!e.access_token||!e.refresh_token)throw new ri;const t=Date.now()/1e3;let i=t,o=!0,l=null;const{payload:f}=Gc(e.access_token);if(f.exp&&(i=f.exp,o=i<=t),o){const{session:m,error:g}=await this._callRefreshToken(e.refresh_token);if(g)return{data:{user:null,session:null},error:g};if(!m)return{data:{user:null,session:null},error:null};l=m}else{const{data:m,error:g}=await this._getUser(e.access_token);if(g)throw g;l={access_token:e.access_token,refresh_token:e.refresh_token,user:m.user,token_type:"bearer",expires_in:i-t,expires_at:i},await this._saveSession(l),await this._notifyAllSubscribers("SIGNED_IN",l)}return{data:{user:l.user,session:l},error:null}}catch(t){if(ye(t))return{data:{session:null,user:null},error:t};throw t}}async refreshSession(e){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._refreshSession(e))}async _refreshSession(e){try{return await this._useSession(async t=>{var i;if(!e){const{data:f,error:m}=t;if(m)throw m;e=(i=f.session)!==null&&i!==void 0?i:void 0}if(!(e!=null&&e.refresh_token))throw new ri;const{session:o,error:l}=await this._callRefreshToken(e.refresh_token);return l?{data:{user:null,session:null},error:l}:o?{data:{user:o.user,session:o},error:null}:{data:{user:null,session:null},error:null}})}catch(t){if(ye(t))return{data:{user:null,session:null},error:t};throw t}}async _getSessionFromURL(e,t){try{if(!on())throw new Vs("No browser detected.");if(e.error||e.error_description||e.error_code)throw new Vs(e.error_description||"Error in URL with unspecified error_description",{error:e.error||"unspecified_error",code:e.error_code||"unspecified_code"});switch(t){case"implicit":if(this.flowType==="pkce")throw new rg("Not a valid PKCE flow url.");break;case"pkce":if(this.flowType==="implicit")throw new Vs("Not a valid implicit grant flow url.");break;default:}if(t==="pkce"){if(this._debug("#_initialize()","begin","is PKCE flow",!0),!e.code)throw new rg("No code detected.");const{data:q,error:H}=await this._exchangeCodeForSession(e.code);if(H)throw H;const J=new URL(window.location.href);return J.searchParams.delete("code"),window.history.replaceState(window.history.state,"",J.toString()),{data:{session:q.session,redirectType:null},error:null}}const{provider_token:i,provider_refresh_token:o,access_token:l,refresh_token:f,expires_in:m,expires_at:g,token_type:p}=e;if(!l||!m||!f||!p)throw new Vs("No session defined in URL");const v=Math.round(Date.now()/1e3),_=parseInt(m);let S=v+_;g&&(S=parseInt(g));const E=S-v;E*1e3<=Or&&console.warn(`@supabase/gotrue-js: Session as retrieved from URL expires in ${E}s, should have been closer to ${_}s`);const A=S-_;v-A>=120?console.warn("@supabase/gotrue-js: Session as retrieved from URL was issued over 120s ago, URL could be stale",A,S,v):v-A<0&&console.warn("@supabase/gotrue-js: Session as retrieved from URL was issued in the future? Check the device clock for skew",A,S,v);const{data:b,error:N}=await this._getUser(l);if(N)throw N;const O={provider_token:i,provider_refresh_token:o,access_token:l,expires_in:_,expires_at:S,refresh_token:f,token_type:p,user:b.user};return window.location.hash="",this._debug("#_getSessionFromURL()","clearing window.location.hash"),{data:{session:O,redirectType:e.type},error:null}}catch(i){if(ye(i))return{data:{session:null,redirectType:null},error:i};throw i}}_isImplicitGrantCallback(e){return!!(e.access_token||e.error_description)}async _isPKCECallback(e){const t=await qs(this.storage,`${this.storageKey}-code-verifier`);return!!(e.code&&t)}async signOut(e={scope:"global"}){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._signOut(e))}async _signOut({scope:e}={scope:"global"}){return await this._useSession(async t=>{var i;const{data:o,error:l}=t;if(l)return{error:l};const f=(i=o.session)===null||i===void 0?void 0:i.access_token;if(f){const{error:m}=await this.admin.signOut(f,e);if(m&&!(yE(m)&&(m.status===404||m.status===401||m.status===403)))return{error:m}}return e!=="others"&&(await this._removeSession(),await Bs(this.storage,`${this.storageKey}-code-verifier`)),{error:null}})}onAuthStateChange(e){const t=bE(),i={id:t,callback:e,unsubscribe:()=>{this._debug("#unsubscribe()","state change callback with id removed",t),this.stateChangeEmitters.delete(t)}};return this._debug("#onAuthStateChange()","registered callback with id",t),this.stateChangeEmitters.set(t,i),(async()=>(await this.initializePromise,await this._acquireLock(-1,async()=>{this._emitInitialSession(t)})))(),{data:{subscription:i}}}async _emitInitialSession(e){return await this._useSession(async t=>{var i,o;try{const{data:{session:l},error:f}=t;if(f)throw f;await((i=this.stateChangeEmitters.get(e))===null||i===void 0?void 0:i.callback("INITIAL_SESSION",l)),this._debug("INITIAL_SESSION","callback id",e,"session",l)}catch(l){await((o=this.stateChangeEmitters.get(e))===null||o===void 0?void 0:o.callback("INITIAL_SESSION",null)),this._debug("INITIAL_SESSION","callback id",e,"error",l),console.error(l)}})}async resetPasswordForEmail(e,t={}){let i=null,o=null;this.flowType==="pkce"&&([i,o]=await kr(this.storage,this.storageKey,!0));try{return await Ae(this.fetch,"POST",`${this.url}/recover`,{body:{email:e,code_challenge:i,code_challenge_method:o,gotrue_meta_security:{captcha_token:t.captchaToken}},headers:this.headers,redirectTo:t.redirectTo})}catch(l){if(ye(l))return{data:null,error:l};throw l}}async getUserIdentities(){var e;try{const{data:t,error:i}=await this.getUser();if(i)throw i;return{data:{identities:(e=t.user.identities)!==null&&e!==void 0?e:[]},error:null}}catch(t){if(ye(t))return{data:null,error:t};throw t}}async linkIdentity(e){var t;try{const{data:i,error:o}=await this._useSession(async l=>{var f,m,g,p,v;const{data:_,error:S}=l;if(S)throw S;const E=await this._getUrlForProvider(`${this.url}/user/identities/authorize`,e.provider,{redirectTo:(f=e.options)===null||f===void 0?void 0:f.redirectTo,scopes:(m=e.options)===null||m===void 0?void 0:m.scopes,queryParams:(g=e.options)===null||g===void 0?void 0:g.queryParams,skipBrowserRedirect:!0});return await Ae(this.fetch,"GET",E,{headers:this.headers,jwt:(v=(p=_.session)===null||p===void 0?void 0:p.access_token)!==null&&v!==void 0?v:void 0})});if(o)throw o;return on()&&!(!((t=e.options)===null||t===void 0)&&t.skipBrowserRedirect)&&window.location.assign(i==null?void 0:i.url),{data:{provider:e.provider,url:i==null?void 0:i.url},error:null}}catch(i){if(ye(i))return{data:{provider:e.provider,url:null},error:i};throw i}}async unlinkIdentity(e){try{return await this._useSession(async t=>{var i,o;const{data:l,error:f}=t;if(f)throw f;return await Ae(this.fetch,"DELETE",`${this.url}/user/identities/${e.identity_id}`,{headers:this.headers,jwt:(o=(i=l.session)===null||i===void 0?void 0:i.access_token)!==null&&o!==void 0?o:void 0})})}catch(t){if(ye(t))return{data:null,error:t};throw t}}async _refreshAccessToken(e){const t=`#_refreshAccessToken(${e.substring(0,5)}...)`;this._debug(t,"begin");try{const i=Date.now();return await NE(async o=>(o>0&&await DE(200*Math.pow(2,o-1)),this._debug(t,"refreshing attempt",o),await Ae(this.fetch,"POST",`${this.url}/token?grant_type=refresh_token`,{body:{refresh_token:e},headers:this.headers,xform:ai})),(o,l)=>{const f=200*Math.pow(2,o);return l&&zc(l)&&Date.now()+f-i<Or})}catch(i){if(this._debug(t,"error",i),ye(i))return{data:{session:null,user:null},error:i};throw i}finally{this._debug(t,"end")}}_isValidSession(e){return typeof e=="object"&&e!==null&&"access_token"in e&&"refresh_token"in e&&"expires_at"in e}async _handleProviderSignIn(e,t){const i=await this._getUrlForProvider(`${this.url}/authorize`,e,{redirectTo:t.redirectTo,scopes:t.scopes,queryParams:t.queryParams});return this._debug("#_handleProviderSignIn()","provider",e,"options",t,"url",i),on()&&!t.skipBrowserRedirect&&window.location.assign(i),{data:{provider:e,url:i},error:null}}async _recoverAndRefresh(){var e;const t="#_recoverAndRefresh()";this._debug(t,"begin");try{const i=await qs(this.storage,this.storageKey);if(this._debug(t,"session from storage",i),!this._isValidSession(i)){this._debug(t,"session is not valid"),i!==null&&await this._removeSession();return}const o=((e=i.expires_at)!==null&&e!==void 0?e:1/0)*1e3-Date.now()<qc;if(this._debug(t,`session has${o?"":" not"} expired with margin of ${qc}s`),o){if(this.autoRefreshToken&&i.refresh_token){const{error:l}=await this._callRefreshToken(i.refresh_token);l&&(console.error(l),zc(l)||(this._debug(t,"refresh failed with a non-retryable error, removing the session",l),await this._removeSession()))}}else await this._notifyAllSubscribers("SIGNED_IN",i)}catch(i){this._debug(t,"error",i),console.error(i);return}finally{this._debug(t,"end")}}async _callRefreshToken(e){var t,i;if(!e)throw new ri;if(this.refreshingDeferred)return this.refreshingDeferred.promise;const o=`#_callRefreshToken(${e.substring(0,5)}...)`;this._debug(o,"begin");try{this.refreshingDeferred=new ul;const{data:l,error:f}=await this._refreshAccessToken(e);if(f)throw f;if(!l.session)throw new ri;await this._saveSession(l.session),await this._notifyAllSubscribers("TOKEN_REFRESHED",l.session);const m={session:l.session,error:null};return this.refreshingDeferred.resolve(m),m}catch(l){if(this._debug(o,"error",l),ye(l)){const f={session:null,error:l};return zc(l)||await this._removeSession(),(t=this.refreshingDeferred)===null||t===void 0||t.resolve(f),f}throw(i=this.refreshingDeferred)===null||i===void 0||i.reject(l),l}finally{this.refreshingDeferred=null,this._debug(o,"end")}}async _notifyAllSubscribers(e,t,i=!0){const o=`#_notifyAllSubscribers(${e})`;this._debug(o,"begin",t,`broadcast = ${i}`);try{this.broadcastChannel&&i&&this.broadcastChannel.postMessage({event:e,session:t});const l=[],f=Array.from(this.stateChangeEmitters.values()).map(async m=>{try{await m.callback(e,t)}catch(g){l.push(g)}});if(await Promise.all(f),l.length>0){for(let m=0;m<l.length;m+=1)console.error(l[m]);throw l[0]}}finally{this._debug(o,"end")}}async _saveSession(e){this._debug("#_saveSession()",e),this.suppressGetSessionWarning=!0,await Ev(this.storage,this.storageKey,e)}async _removeSession(){this._debug("#_removeSession()"),await Bs(this.storage,this.storageKey),await this._notifyAllSubscribers("SIGNED_OUT",null)}_removeVisibilityChangedCallback(){this._debug("#_removeVisibilityChangedCallback()");const e=this.visibilityChangedCallback;this.visibilityChangedCallback=null;try{e&&on()&&(window!=null&&window.removeEventListener)&&window.removeEventListener("visibilitychange",e)}catch(t){console.error("removing visibilitychange callback failed",t)}}async _startAutoRefresh(){await this._stopAutoRefresh(),this._debug("#_startAutoRefresh()");const e=setInterval(()=>this._autoRefreshTokenTick(),Or);this.autoRefreshTicker=e,e&&typeof e=="object"&&typeof e.unref=="function"?e.unref():typeof Deno<"u"&&typeof Deno.unrefTimer=="function"&&Deno.unrefTimer(e),setTimeout(async()=>{await this.initializePromise,await this._autoRefreshTokenTick()},0)}async _stopAutoRefresh(){this._debug("#_stopAutoRefresh()");const e=this.autoRefreshTicker;this.autoRefreshTicker=null,e&&clearInterval(e)}async startAutoRefresh(){this._removeVisibilityChangedCallback(),await this._startAutoRefresh()}async stopAutoRefresh(){this._removeVisibilityChangedCallback(),await this._stopAutoRefresh()}async _autoRefreshTokenTick(){this._debug("#_autoRefreshTokenTick()","begin");try{await this._acquireLock(0,async()=>{try{const e=Date.now();try{return await this._useSession(async t=>{const{data:{session:i}}=t;if(!i||!i.refresh_token||!i.expires_at){this._debug("#_autoRefreshTokenTick()","no session");return}const o=Math.floor((i.expires_at*1e3-e)/Or);this._debug("#_autoRefreshTokenTick()",`access token expires in ${o} ticks, a tick lasts ${Or}ms, refresh threshold is ${jc} ticks`),o<=jc&&await this._callRefreshToken(i.refresh_token)})}catch(t){console.error("Auto refresh tick failed with error. This is likely a transient error.",t)}}finally{this._debug("#_autoRefreshTokenTick()","end")}})}catch(e){if(e.isAcquireTimeout||e instanceof Av)this._debug("auto refresh token tick lock not available");else throw e}}async _handleVisibilityChange(){if(this._debug("#_handleVisibilityChange()"),!on()||!(window!=null&&window.addEventListener))return this.autoRefreshToken&&this.startAutoRefresh(),!1;try{this.visibilityChangedCallback=async()=>await this._onVisibilityChanged(!1),window==null||window.addEventListener("visibilitychange",this.visibilityChangedCallback),await this._onVisibilityChanged(!0)}catch(e){console.error("_handleVisibilityChange",e)}}async _onVisibilityChanged(e){const t=`#_onVisibilityChanged(${e})`;this._debug(t,"visibilityState",document.visibilityState),document.visibilityState==="visible"?(this.autoRefreshToken&&this._startAutoRefresh(),e||(await this.initializePromise,await this._acquireLock(-1,async()=>{if(document.visibilityState!=="visible"){this._debug(t,"acquired the lock to recover the session, but the browser visibilityState is no longer visible, aborting");return}await this._recoverAndRefresh()}))):document.visibilityState==="hidden"&&this.autoRefreshToken&&this._stopAutoRefresh()}async _getUrlForProvider(e,t,i){const o=[`provider=${encodeURIComponent(t)}`];if(i!=null&&i.redirectTo&&o.push(`redirect_to=${encodeURIComponent(i.redirectTo)}`),i!=null&&i.scopes&&o.push(`scopes=${encodeURIComponent(i.scopes)}`),this.flowType==="pkce"){const[l,f]=await kr(this.storage,this.storageKey),m=new URLSearchParams({code_challenge:`${encodeURIComponent(l)}`,code_challenge_method:`${encodeURIComponent(f)}`});o.push(m.toString())}if(i!=null&&i.queryParams){const l=new URLSearchParams(i.queryParams);o.push(l.toString())}return i!=null&&i.skipBrowserRedirect&&o.push(`skip_http_redirect=${i.skipBrowserRedirect}`),`${e}?${o.join("&")}`}async _unenroll(e){try{return await this._useSession(async t=>{var i;const{data:o,error:l}=t;return l?{data:null,error:l}:await Ae(this.fetch,"DELETE",`${this.url}/factors/${e.factorId}`,{headers:this.headers,jwt:(i=o==null?void 0:o.session)===null||i===void 0?void 0:i.access_token})})}catch(t){if(ye(t))return{data:null,error:t};throw t}}async _enroll(e){try{return await this._useSession(async t=>{var i,o;const{data:l,error:f}=t;if(f)return{data:null,error:f};const m=Object.assign({friendly_name:e.friendlyName,factor_type:e.factorType},e.factorType==="phone"?{phone:e.phone}:{issuer:e.issuer}),{data:g,error:p}=await Ae(this.fetch,"POST",`${this.url}/factors`,{body:m,headers:this.headers,jwt:(i=l==null?void 0:l.session)===null||i===void 0?void 0:i.access_token});return p?{data:null,error:p}:(e.factorType==="totp"&&(!((o=g==null?void 0:g.totp)===null||o===void 0)&&o.qr_code)&&(g.totp.qr_code=`data:image/svg+xml;utf-8,${g.totp.qr_code}`),{data:g,error:null})})}catch(t){if(ye(t))return{data:null,error:t};throw t}}async _verify(e){return this._acquireLock(-1,async()=>{try{return await this._useSession(async t=>{var i;const{data:o,error:l}=t;if(l)return{data:null,error:l};const{data:f,error:m}=await Ae(this.fetch,"POST",`${this.url}/factors/${e.factorId}/verify`,{body:{code:e.code,challenge_id:e.challengeId},headers:this.headers,jwt:(i=o==null?void 0:o.session)===null||i===void 0?void 0:i.access_token});return m?{data:null,error:m}:(await this._saveSession(Object.assign({expires_at:Math.round(Date.now()/1e3)+f.expires_in},f)),await this._notifyAllSubscribers("MFA_CHALLENGE_VERIFIED",f),{data:f,error:m})})}catch(t){if(ye(t))return{data:null,error:t};throw t}})}async _challenge(e){return this._acquireLock(-1,async()=>{try{return await this._useSession(async t=>{var i;const{data:o,error:l}=t;return l?{data:null,error:l}:await Ae(this.fetch,"POST",`${this.url}/factors/${e.factorId}/challenge`,{body:{channel:e.channel},headers:this.headers,jwt:(i=o==null?void 0:o.session)===null||i===void 0?void 0:i.access_token})})}catch(t){if(ye(t))return{data:null,error:t};throw t}})}async _challengeAndVerify(e){const{data:t,error:i}=await this._challenge({factorId:e.factorId});return i?{data:null,error:i}:await this._verify({factorId:e.factorId,challengeId:t.id,code:e.code})}async _listFactors(){const{data:{user:e},error:t}=await this.getUser();if(t)return{data:null,error:t};const i=(e==null?void 0:e.factors)||[],o=i.filter(f=>f.factor_type==="totp"&&f.status==="verified"),l=i.filter(f=>f.factor_type==="phone"&&f.status==="verified");return{data:{all:i,totp:o,phone:l},error:null}}async _getAuthenticatorAssuranceLevel(){return this._acquireLock(-1,async()=>await this._useSession(async e=>{var t,i;const{data:{session:o},error:l}=e;if(l)return{data:null,error:l};if(!o)return{data:{currentLevel:null,nextLevel:null,currentAuthenticationMethods:[]},error:null};const{payload:f}=Gc(o.access_token);let m=null;f.aal&&(m=f.aal);let g=m;((i=(t=o.user.factors)===null||t===void 0?void 0:t.filter(_=>_.status==="verified"))!==null&&i!==void 0?i:[]).length>0&&(g="aal2");const v=f.amr||[];return{data:{currentLevel:m,nextLevel:g,currentAuthenticationMethods:v},error:null}}))}async fetchJwk(e,t={keys:[]}){let i=t.keys.find(f=>f.kid===e);if(i||(i=this.jwks.keys.find(f=>f.kid===e),i&&this.jwks_cached_at+pE>Date.now()))return i;const{data:o,error:l}=await Ae(this.fetch,"GET",`${this.url}/.well-known/jwks.json`,{headers:this.headers});if(l)throw l;if(!o.keys||o.keys.length===0)throw new so("JWKS is empty");if(this.jwks=o,this.jwks_cached_at=Date.now(),i=o.keys.find(f=>f.kid===e),!i)throw new so("No matching signing key found in JWKS");return i}async getClaims(e,t={keys:[]}){try{let i=e;if(!i){const{data:E,error:A}=await this.getSession();if(A||!E.session)return{data:null,error:A};i=E.session.access_token}const{header:o,payload:l,signature:f,raw:{header:m,payload:g}}=Gc(i);if(VE(l.exp),!o.kid||o.alg==="HS256"||!("crypto"in globalThis&&"subtle"in globalThis.crypto)){const{error:E}=await this.getUser(i);if(E)throw E;return{data:{claims:l,header:o,signature:f},error:null}}const p=qE(o.alg),v=await this.fetchJwk(o.kid,t),_=await crypto.subtle.importKey("jwk",v,p,!0,["verify"]);if(!await crypto.subtle.verify(p,_,f,wE(`${m}.${g}`)))throw new so("Invalid JWT signature");return{data:{claims:l,header:o,signature:f},error:null}}catch(i){if(ye(i))return{data:null,error:i};throw i}}}ho.nextInstanceID=0;const tA=ho;class nA extends tA{constructor(e){super(e)}}var iA=function(a,e,t,i){function o(l){return l instanceof t?l:new t(function(f){f(l)})}return new(t||(t=Promise))(function(l,f){function m(v){try{p(i.next(v))}catch(_){f(_)}}function g(v){try{p(i.throw(v))}catch(_){f(_)}}function p(v){v.done?l(v.value):o(v.value).then(m,g)}p((i=i.apply(a,e||[])).next())})};class rA{constructor(e,t,i){var o,l,f;if(this.supabaseUrl=e,this.supabaseKey=t,!e)throw new Error("supabaseUrl is required.");if(!t)throw new Error("supabaseKey is required.");const m=uE(e),g=new URL(m);this.realtimeUrl=new URL("realtime/v1",g),this.realtimeUrl.protocol=this.realtimeUrl.protocol.replace("http","ws"),this.authUrl=new URL("auth/v1",g),this.storageUrl=new URL("storage/v1",g),this.functionsUrl=new URL("functions/v1",g);const p=`sb-${g.hostname.split(".")[0]}-auth-token`,v={db:tE,realtime:iE,auth:Object.assign(Object.assign({},nE),{storageKey:p}),global:eE},_=cE(i??{},v);this.storageKey=(o=_.auth.storageKey)!==null&&o!==void 0?o:"",this.headers=(l=_.global.headers)!==null&&l!==void 0?l:{},_.accessToken?(this.accessToken=_.accessToken,this.auth=new Proxy({},{get:(S,E)=>{throw new Error(`@supabase/supabase-js: Supabase Client is configured with the accessToken option, accessing supabase.auth.${String(E)} is not possible`)}})):this.auth=this._initSupabaseAuthClient((f=_.auth)!==null&&f!==void 0?f:{},this.headers,_.global.fetch),this.fetch=sE(t,this._getAccessToken.bind(this),_.global.fetch),this.realtime=this._initRealtimeClient(Object.assign({headers:this.headers,accessToken:this._getAccessToken.bind(this)},_.realtime)),this.rest=new CC(new URL("rest/v1",g).href,{headers:this.headers,schema:_.db.schema,fetch:this.fetch}),_.accessToken||this._listenForAuthEvents()}get functions(){return new cC(this.functionsUrl.href,{headers:this.headers,customFetch:this.fetch})}get storage(){return new QC(this.storageUrl.href,this.headers,this.fetch)}from(e){return this.rest.from(e)}schema(e){return this.rest.schema(e)}rpc(e,t={},i={}){return this.rest.rpc(e,t,i)}channel(e,t={config:{}}){return this.realtime.channel(e,t)}getChannels(){return this.realtime.getChannels()}removeChannel(e){return this.realtime.removeChannel(e)}removeAllChannels(){return this.realtime.removeAllChannels()}_getAccessToken(){var e,t;return iA(this,void 0,void 0,function*(){if(this.accessToken)return yield this.accessToken();const{data:i}=yield this.auth.getSession();return(t=(e=i.session)===null||e===void 0?void 0:e.access_token)!==null&&t!==void 0?t:null})}_initSupabaseAuthClient({autoRefreshToken:e,persistSession:t,detectSessionInUrl:i,storage:o,storageKey:l,flowType:f,lock:m,debug:g},p,v){const _={Authorization:`Bearer ${this.supabaseKey}`,apikey:`${this.supabaseKey}`};return new nA({url:this.authUrl.href,headers:Object.assign(Object.assign({},_),p),storageKey:l,autoRefreshToken:e,persistSession:t,detectSessionInUrl:i,storage:o,flowType:f,lock:m,debug:g,fetch:v,hasCustomAuthorizationHeader:"Authorization"in this.headers})}_initRealtimeClient(e){return new PC(this.realtimeUrl.href,Object.assign(Object.assign({},e),{params:Object.assign({apikey:this.supabaseKey},e==null?void 0:e.params)}))}_listenForAuthEvents(){return this.auth.onAuthStateChange((t,i)=>{this._handleTokenChanged(t,"CLIENT",i==null?void 0:i.access_token)})}_handleTokenChanged(e,t,i){(e==="TOKEN_REFRESHED"||e==="SIGNED_IN")&&this.changedAccessToken!==i?this.changedAccessToken=i:e==="SIGNED_OUT"&&(this.realtime.setAuth(),t=="STORAGE"&&this.auth.signOut(),this.changedAccessToken=void 0)}}const aA=(a,e,t)=>new rA(a,e,t),sn=aA("https://ybjmhretujnrxzggwbkf.supabase.co","eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpc3MiOiJzdXBhYmFzZSIsInJlZiI6Inliam1ocmV0dWpucnh6Z2d3YmtmIiwicm9sZSI6ImFub24iLCJpYXQiOjE3NDk1MzYyNDYsImV4cCI6MjA2NTExMjI0Nn0.bZVw_uBVGRmMlKqhttJkrN7BTVZ_zwCREKU1Y_7_VfM");function oA(){const[a,e]=L.useState(null),[t,i]=L.useState(null),[o,l]=L.useState(null),[f,m]=L.useState(!1),g=async()=>{try{m(!0),l(null);const{data:p,error:v}=await sn.auth.signInWithOAuth({provider:"spotify",options:{redirectTo:`${window.location.origin}/result`,scopes:"user-top-read user-read-private user-read-email"}})}catch(p){l("An unexpected error occurred"),console.error("Login error:",p)}finally{m(!1)}};return L.useEffect(()=>{(async()=>{try{const{data:{session:_},error:S}=await sn.auth.getSession();if(S){console.error("Session error:",S);return}e((_==null?void 0:_.user)||null)}catch(_){console.error("Error getting session:",_)}finally{m(!1)}})();const{data:{subscription:v}}=sn.auth.onAuthStateChange((_,S)=>{console.log("Auth state changed:",_,S),e((S==null?void 0:S.user)||null),m(!1)});return()=>v==null?void 0:v.unsubscribe()},[]),re.jsx("main",{className:"header-bg ",children:re.jsxs("div",{className:"header flex flex-col items-center justify-center h-screen",children:[re.jsxs("h1",{className:"font-bold text-center text-3xl",children:["Discover your ",re.jsx("span",{className:"bg-gradient-to-br from-[#E391FF] to-[#B054CF] bg-clip-text text-transparent",children:"personality"})," based on ",re.jsx("br",{})," your ",re.jsx("span",{className:"bg-gradient-to-br from-[#65CCFF] to-[#4570DD] bg-clip-text text-transparent",children:"music"})," taste"]}),o&&re.jsxs("div",{className:"mt-4 p-4 bg-red-100 border border-red-400 text-red-700 rounded-lg max-w-md text-center",children:[re.jsx("p",{className:"font-semibold",children:"Authentication Error"}),re.jsx("p",{className:"text-sm mt-1",children:o}),o.includes("email")&&o.includes("verification")&&re.jsx("p",{className:"text-sm mt-2",children:"Please check your Spotify email and verify your account, then try logging in again."})]}),re.jsx("button",{onClick:g,className:"mt-3 text-sm font-bold border-2 border-white rounded-full px-3 py-2 hover:bg-white hover:text-black transition-colors ",children:f?"Connecting...":"Login to Spotify"})]})})}var De;(function(a){a.assertEqual=o=>{};function e(o){}a.assertIs=e;function t(o){throw new Error}a.assertNever=t,a.arrayToEnum=o=>{const l={};for(const f of o)l[f]=f;return l},a.getValidEnumValues=o=>{const l=a.objectKeys(o).filter(m=>typeof o[o[m]]!="number"),f={};for(const m of l)f[m]=o[m];return a.objectValues(f)},a.objectValues=o=>a.objectKeys(o).map(function(l){return o[l]}),a.objectKeys=typeof Object.keys=="function"?o=>Object.keys(o):o=>{const l=[];for(const f in o)Object.prototype.hasOwnProperty.call(o,f)&&l.push(f);return l},a.find=(o,l)=>{for(const f of o)if(l(f))return f},a.isInteger=typeof Number.isInteger=="function"?o=>Number.isInteger(o):o=>typeof o=="number"&&Number.isFinite(o)&&Math.floor(o)===o;function i(o,l=" | "){return o.map(f=>typeof f=="string"?`'${f}'`:f).join(l)}a.joinValues=i,a.jsonStringifyReplacer=(o,l)=>typeof l=="bigint"?l.toString():l})(De||(De={}));var hg;(function(a){a.mergeShapes=(e,t)=>({...e,...t})})(hg||(hg={}));const ee=De.arrayToEnum(["string","nan","number","integer","float","boolean","date","bigint","symbol","function","undefined","null","array","object","unknown","promise","void","never","map","set"]),si=a=>{switch(typeof a){case"undefined":return ee.undefined;case"string":return ee.string;case"number":return Number.isNaN(a)?ee.nan:ee.number;case"boolean":return ee.boolean;case"function":return ee.function;case"bigint":return ee.bigint;case"symbol":return ee.symbol;case"object":return Array.isArray(a)?ee.array:a===null?ee.null:a.then&&typeof a.then=="function"&&a.catch&&typeof a.catch=="function"?ee.promise:typeof Map<"u"&&a instanceof Map?ee.map:typeof Set<"u"&&a instanceof Set?ee.set:typeof Date<"u"&&a instanceof Date?ee.date:ee.object;default:return ee.unknown}},Y=De.arrayToEnum(["invalid_type","invalid_literal","custom","invalid_union","invalid_union_discriminator","invalid_enum_value","unrecognized_keys","invalid_arguments","invalid_return_type","invalid_date","invalid_string","too_small","too_big","invalid_intersection_types","not_multiple_of","not_finite"]);class kn extends Error{get errors(){return this.issues}constructor(e){super(),this.issues=[],this.addIssue=i=>{this.issues=[...this.issues,i]},this.addIssues=(i=[])=>{this.issues=[...this.issues,...i]};const t=new.target.prototype;Object.setPrototypeOf?Object.setPrototypeOf(this,t):this.__proto__=t,this.name="ZodError",this.issues=e}format(e){const t=e||function(l){return l.message},i={_errors:[]},o=l=>{for(const f of l.issues)if(f.code==="invalid_union")f.unionErrors.map(o);else if(f.code==="invalid_return_type")o(f.returnTypeError);else if(f.code==="invalid_arguments")o(f.argumentsError);else if(f.path.length===0)i._errors.push(t(f));else{let m=i,g=0;for(;g<f.path.length;){const p=f.path[g];g===f.path.length-1?(m[p]=m[p]||{_errors:[]},m[p]._errors.push(t(f))):m[p]=m[p]||{_errors:[]},m=m[p],g++}}};return o(this),i}static assert(e){if(!(e instanceof kn))throw new Error(`Not a ZodError: ${e}`)}toString(){return this.message}get message(){return JSON.stringify(this.issues,De.jsonStringifyReplacer,2)}get isEmpty(){return this.issues.length===0}flatten(e=t=>t.message){const t={},i=[];for(const o of this.issues)o.path.length>0?(t[o.path[0]]=t[o.path[0]]||[],t[o.path[0]].push(e(o))):i.push(e(o));return{formErrors:i,fieldErrors:t}}get formErrors(){return this.flatten()}}kn.create=a=>new kn(a);const nf=(a,e)=>{let t;switch(a.code){case Y.invalid_type:a.received===ee.undefined?t="Required":t=`Expected ${a.expected}, received ${a.received}`;break;case Y.invalid_literal:t=`Invalid literal value, expected ${JSON.stringify(a.expected,De.jsonStringifyReplacer)}`;break;case Y.unrecognized_keys:t=`Unrecognized key(s) in object: ${De.joinValues(a.keys,", ")}`;break;case Y.invalid_union:t="Invalid input";break;case Y.invalid_union_discriminator:t=`Invalid discriminator value. Expected ${De.joinValues(a.options)}`;break;case Y.invalid_enum_value:t=`Invalid enum value. Expected ${De.joinValues(a.options)}, received '${a.received}'`;break;case Y.invalid_arguments:t="Invalid function arguments";break;case Y.invalid_return_type:t="Invalid function return type";break;case Y.invalid_date:t="Invalid date";break;case Y.invalid_string:typeof a.validation=="object"?"includes"in a.validation?(t=`Invalid input: must include "${a.validation.includes}"`,typeof a.validation.position=="number"&&(t=`${t} at one or more positions greater than or equal to ${a.validation.position}`)):"startsWith"in a.validation?t=`Invalid input: must start with "${a.validation.startsWith}"`:"endsWith"in a.validation?t=`Invalid input: must end with "${a.validation.endsWith}"`:De.assertNever(a.validation):a.validation!=="regex"?t=`Invalid ${a.validation}`:t="Invalid";break;case Y.too_small:a.type==="array"?t=`Array must contain ${a.exact?"exactly":a.inclusive?"at least":"more than"} ${a.minimum} element(s)`:a.type==="string"?t=`String must contain ${a.exact?"exactly":a.inclusive?"at least":"over"} ${a.minimum} character(s)`:a.type==="number"?t=`Number must be ${a.exact?"exactly equal to ":a.inclusive?"greater than or equal to ":"greater than "}${a.minimum}`:a.type==="date"?t=`Date must be ${a.exact?"exactly equal to ":a.inclusive?"greater than or equal to ":"greater than "}${new Date(Number(a.minimum))}`:t="Invalid input";break;case Y.too_big:a.type==="array"?t=`Array must contain ${a.exact?"exactly":a.inclusive?"at most":"less than"} ${a.maximum} element(s)`:a.type==="string"?t=`String must contain ${a.exact?"exactly":a.inclusive?"at most":"under"} ${a.maximum} character(s)`:a.type==="number"?t=`Number must be ${a.exact?"exactly":a.inclusive?"less than or equal to":"less than"} ${a.maximum}`:a.type==="bigint"?t=`BigInt must be ${a.exact?"exactly":a.inclusive?"less than or equal to":"less than"} ${a.maximum}`:a.type==="date"?t=`Date must be ${a.exact?"exactly":a.inclusive?"smaller than or equal to":"smaller than"} ${new Date(Number(a.maximum))}`:t="Invalid input";break;case Y.custom:t="Invalid input";break;case Y.invalid_intersection_types:t="Intersection results could not be merged";break;case Y.not_multiple_of:t=`Number must be a multiple of ${a.multipleOf}`;break;case Y.not_finite:t="Number must be finite";break;default:t=e.defaultError,De.assertNever(a)}return{message:t}};let sA=nf;function lA(){return sA}const uA=a=>{const{data:e,path:t,errorMaps:i,issueData:o}=a,l=[...t,...o.path||[]],f={...o,path:l};if(o.message!==void 0)return{...o,path:l,message:o.message};let m="";const g=i.filter(p=>!!p).slice().reverse();for(const p of g)m=p(f,{data:e,defaultError:m}).message;return{...o,path:l,message:m}};function X(a,e){const t=lA(),i=uA({issueData:e,data:a.data,path:a.path,errorMaps:[a.common.contextualErrorMap,a.schemaErrorMap,t,t===nf?void 0:nf].filter(o=>!!o)});a.common.issues.push(i)}class vt{constructor(){this.value="valid"}dirty(){this.value==="valid"&&(this.value="dirty")}abort(){this.value!=="aborted"&&(this.value="aborted")}static mergeArray(e,t){const i=[];for(const o of t){if(o.status==="aborted")return pe;o.status==="dirty"&&e.dirty(),i.push(o.value)}return{status:e.value,value:i}}static async mergeObjectAsync(e,t){const i=[];for(const o of t){const l=await o.key,f=await o.value;i.push({key:l,value:f})}return vt.mergeObjectSync(e,i)}static mergeObjectSync(e,t){const i={};for(const o of t){const{key:l,value:f}=o;if(l.status==="aborted"||f.status==="aborted")return pe;l.status==="dirty"&&e.dirty(),f.status==="dirty"&&e.dirty(),l.value!=="__proto__"&&(typeof f.value<"u"||o.alwaysSet)&&(i[l.value]=f.value)}return{status:e.value,value:i}}}const pe=Object.freeze({status:"aborted"}),no=a=>({status:"dirty",value:a}),Yt=a=>({status:"valid",value:a}),mg=a=>a.status==="aborted",pg=a=>a.status==="dirty",zr=a=>a.status==="valid",Qs=a=>typeof Promise<"u"&&a instanceof Promise;var ne;(function(a){a.errToObj=e=>typeof e=="string"?{message:e}:e||{},a.toString=e=>typeof e=="string"?e:e==null?void 0:e.message})(ne||(ne={}));var Ws=function(a,e,t,i){if(t==="a"&&!i)throw new TypeError("Private accessor was defined without a getter");if(typeof e=="function"?a!==e||!i:!e.has(a))throw new TypeError("Cannot read private member from an object whose class did not declare it");return t==="m"?i:t==="a"?i.call(a):i?i.value:e.get(a)},wv=function(a,e,t,i,o){if(i==="m")throw new TypeError("Private method is not writable");if(i==="a"&&!o)throw new TypeError("Private accessor was defined without a setter");if(typeof e=="function"?a!==e||!o:!e.has(a))throw new TypeError("Cannot write private member to an object whose class did not declare it");return i==="a"?o.call(a,t):o?o.value=t:e.set(a,t),t},io,ro;class dn{constructor(e,t,i,o){this._cachedPath=[],this.parent=e,this.data=t,this._path=i,this._key=o}get path(){return this._cachedPath.length||(Array.isArray(this._key)?this._cachedPath.push(...this._path,...this._key):this._cachedPath.push(...this._path,this._key)),this._cachedPath}}const gg=(a,e)=>{if(zr(e))return{success:!0,data:e.value};if(!a.common.issues.length)throw new Error("Validation failed but no issues detected.");return{success:!1,get error(){if(this._error)return this._error;const t=new kn(a.common.issues);return this._error=t,this._error}}};function _e(a){if(!a)return{};const{errorMap:e,invalid_type_error:t,required_error:i,description:o}=a;if(e&&(t||i))throw new Error(`Can't use "invalid_type_error" or "required_error" in conjunction with custom error map.`);return e?{errorMap:e,description:o}:{errorMap:(f,m)=>{const{message:g}=a;return f.code==="invalid_enum_value"?{message:g??m.defaultError}:typeof m.data>"u"?{message:g??i??m.defaultError}:f.code!=="invalid_type"?{message:m.defaultError}:{message:g??t??m.defaultError}},description:o}}class we{get description(){return this._def.description}_getType(e){return si(e.data)}_getOrReturnCtx(e,t){return t||{common:e.parent.common,data:e.data,parsedType:si(e.data),schemaErrorMap:this._def.errorMap,path:e.path,parent:e.parent}}_processInputParams(e){return{status:new vt,ctx:{common:e.parent.common,data:e.data,parsedType:si(e.data),schemaErrorMap:this._def.errorMap,path:e.path,parent:e.parent}}}_parseSync(e){const t=this._parse(e);if(Qs(t))throw new Error("Synchronous parse encountered promise.");return t}_parseAsync(e){const t=this._parse(e);return Promise.resolve(t)}parse(e,t){const i=this.safeParse(e,t);if(i.success)return i.data;throw i.error}safeParse(e,t){const i={common:{issues:[],async:(t==null?void 0:t.async)??!1,contextualErrorMap:t==null?void 0:t.errorMap},path:(t==null?void 0:t.path)||[],schemaErrorMap:this._def.errorMap,parent:null,data:e,parsedType:si(e)},o=this._parseSync({data:e,path:i.path,parent:i});return gg(i,o)}"~validate"(e){var i,o;const t={common:{issues:[],async:!!this["~standard"].async},path:[],schemaErrorMap:this._def.errorMap,parent:null,data:e,parsedType:si(e)};if(!this["~standard"].async)try{const l=this._parseSync({data:e,path:[],parent:t});return zr(l)?{value:l.value}:{issues:t.common.issues}}catch(l){(o=(i=l==null?void 0:l.message)==null?void 0:i.toLowerCase())!=null&&o.includes("encountered")&&(this["~standard"].async=!0),t.common={issues:[],async:!0}}return this._parseAsync({data:e,path:[],parent:t}).then(l=>zr(l)?{value:l.value}:{issues:t.common.issues})}async parseAsync(e,t){const i=await this.safeParseAsync(e,t);if(i.success)return i.data;throw i.error}async safeParseAsync(e,t){const i={common:{issues:[],contextualErrorMap:t==null?void 0:t.errorMap,async:!0},path:(t==null?void 0:t.path)||[],schemaErrorMap:this._def.errorMap,parent:null,data:e,parsedType:si(e)},o=this._parse({data:e,path:i.path,parent:i}),l=await(Qs(o)?o:Promise.resolve(o));return gg(i,l)}refine(e,t){const i=o=>typeof t=="string"||typeof t>"u"?{message:t}:typeof t=="function"?t(o):t;return this._refinement((o,l)=>{const f=e(o),m=()=>l.addIssue({code:Y.custom,...i(o)});return typeof Promise<"u"&&f instanceof Promise?f.then(g=>g?!0:(m(),!1)):f?!0:(m(),!1)})}refinement(e,t){return this._refinement((i,o)=>e(i)?!0:(o.addIssue(typeof t=="function"?t(i,o):t),!1))}_refinement(e){return new $r({schema:this,typeName:he.ZodEffects,effect:{type:"refinement",refinement:e}})}superRefine(e){return this._refinement(e)}constructor(e){this.spa=this.safeParseAsync,this._def=e,this.parse=this.parse.bind(this),this.safeParse=this.safeParse.bind(this),this.parseAsync=this.parseAsync.bind(this),this.safeParseAsync=this.safeParseAsync.bind(this),this.spa=this.spa.bind(this),this.refine=this.refine.bind(this),this.refinement=this.refinement.bind(this),this.superRefine=this.superRefine.bind(this),this.optional=this.optional.bind(this),this.nullable=this.nullable.bind(this),this.nullish=this.nullish.bind(this),this.array=this.array.bind(this),this.promise=this.promise.bind(this),this.or=this.or.bind(this),this.and=this.and.bind(this),this.transform=this.transform.bind(this),this.brand=this.brand.bind(this),this.default=this.default.bind(this),this.catch=this.catch.bind(this),this.describe=this.describe.bind(this),this.pipe=this.pipe.bind(this),this.readonly=this.readonly.bind(this),this.isNullable=this.isNullable.bind(this),this.isOptional=this.isOptional.bind(this),this["~standard"]={version:1,vendor:"zod",validate:t=>this["~validate"](t)}}optional(){return ui.create(this,this._def)}nullable(){return Fr.create(this,this._def)}nullish(){return this.nullable().optional()}array(){return cn.create(this)}promise(){return il.create(this,this._def)}or(e){return el.create([this,e],this._def)}and(e){return tl.create(this,e,this._def)}transform(e){return new $r({..._e(this._def),schema:this,typeName:he.ZodEffects,effect:{type:"transform",transform:e}})}default(e){const t=typeof e=="function"?e:()=>e;return new sf({..._e(this._def),innerType:this,defaultValue:t,typeName:he.ZodDefault})}brand(){return new kA({typeName:he.ZodBranded,type:this,..._e(this._def)})}catch(e){const t=typeof e=="function"?e:()=>e;return new lf({..._e(this._def),innerType:this,catchValue:t,typeName:he.ZodCatch})}describe(e){const t=this.constructor;return new t({...this._def,description:e})}pipe(e){return Nf.create(this,e)}readonly(){return uf.create(this)}isOptional(){return this.safeParse(void 0).success}isNullable(){return this.safeParse(null).success}}const cA=/^c[^\s-]{8,}$/i,fA=/^[0-9a-z]+$/,dA=/^[0-9A-HJKMNP-TV-Z]{26}$/i,hA=/^[0-9a-fA-F]{8}\b-[0-9a-fA-F]{4}\b-[0-9a-fA-F]{4}\b-[0-9a-fA-F]{4}\b-[0-9a-fA-F]{12}$/i,mA=/^[a-z0-9_-]{21}$/i,pA=/^[A-Za-z0-9-_]+\.[A-Za-z0-9-_]+\.[A-Za-z0-9-_]*$/,gA=/^[-+]?P(?!$)(?:(?:[-+]?\d+Y)|(?:[-+]?\d+[.,]\d+Y$))?(?:(?:[-+]?\d+M)|(?:[-+]?\d+[.,]\d+M$))?(?:(?:[-+]?\d+W)|(?:[-+]?\d+[.,]\d+W$))?(?:(?:[-+]?\d+D)|(?:[-+]?\d+[.,]\d+D$))?(?:T(?=[\d+-])(?:(?:[-+]?\d+H)|(?:[-+]?\d+[.,]\d+H$))?(?:(?:[-+]?\d+M)|(?:[-+]?\d+[.,]\d+M$))?(?:[-+]?\d+(?:[.,]\d+)?S)?)??$/,yA=/^(?!\.)(?!.*\.\.)([A-Z0-9_'+\-\.]*)[A-Z0-9_+-]@([A-Z0-9][A-Z0-9\-]*\.)+[A-Z]{2,}$/i,vA="^(\\p{Extended_Pictographic}|\\p{Emoji_Component})+$";let Hc;const _A=/^(?:(?:25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9][0-9]|[0-9])\.){3}(?:25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9][0-9]|[0-9])$/,TA=/^(?:(?:25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9][0-9]|[0-9])\.){3}(?:25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9][0-9]|[0-9])\/(3[0-2]|[12]?[0-9])$/,SA=/^(([0-9a-fA-F]{1,4}:){7,7}[0-9a-fA-F]{1,4}|([0-9a-fA-F]{1,4}:){1,7}:|([0-9a-fA-F]{1,4}:){1,6}:[0-9a-fA-F]{1,4}|([0-9a-fA-F]{1,4}:){1,5}(:[0-9a-fA-F]{1,4}){1,2}|([0-9a-fA-F]{1,4}:){1,4}(:[0-9a-fA-F]{1,4}){1,3}|([0-9a-fA-F]{1,4}:){1,3}(:[0-9a-fA-F]{1,4}){1,4}|([0-9a-fA-F]{1,4}:){1,2}(:[0-9a-fA-F]{1,4}){1,5}|[0-9a-fA-F]{1,4}:((:[0-9a-fA-F]{1,4}){1,6})|:((:[0-9a-fA-F]{1,4}){1,7}|:)|fe80:(:[0-9a-fA-F]{0,4}){0,4}%[0-9a-zA-Z]{1,}|::(ffff(:0{1,4}){0,1}:){0,1}((25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9])\.){3,3}(25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9])|([0-9a-fA-F]{1,4}:){1,4}:((25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9])\.){3,3}(25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9]))$/,CA=/^(([0-9a-fA-F]{1,4}:){7,7}[0-9a-fA-F]{1,4}|([0-9a-fA-F]{1,4}:){1,7}:|([0-9a-fA-F]{1,4}:){1,6}:[0-9a-fA-F]{1,4}|([0-9a-fA-F]{1,4}:){1,5}(:[0-9a-fA-F]{1,4}){1,2}|([0-9a-fA-F]{1,4}:){1,4}(:[0-9a-fA-F]{1,4}){1,3}|([0-9a-fA-F]{1,4}:){1,3}(:[0-9a-fA-F]{1,4}){1,4}|([0-9a-fA-F]{1,4}:){1,2}(:[0-9a-fA-F]{1,4}){1,5}|[0-9a-fA-F]{1,4}:((:[0-9a-fA-F]{1,4}){1,6})|:((:[0-9a-fA-F]{1,4}){1,7}|:)|fe80:(:[0-9a-fA-F]{0,4}){0,4}%[0-9a-zA-Z]{1,}|::(ffff(:0{1,4}){0,1}:){0,1}((25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9])\.){3,3}(25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9])|([0-9a-fA-F]{1,4}:){1,4}:((25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9])\.){3,3}(25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9]))\/(12[0-8]|1[01][0-9]|[1-9]?[0-9])$/,EA=/^([0-9a-zA-Z+/]{4})*(([0-9a-zA-Z+/]{2}==)|([0-9a-zA-Z+/]{3}=))?$/,AA=/^([0-9a-zA-Z-_]{4})*(([0-9a-zA-Z-_]{2}(==)?)|([0-9a-zA-Z-_]{3}(=)?))?$/,xv="((\\d\\d[2468][048]|\\d\\d[13579][26]|\\d\\d0[48]|[02468][048]00|[13579][26]00)-02-29|\\d{4}-((0[13578]|1[02])-(0[1-9]|[12]\\d|3[01])|(0[469]|11)-(0[1-9]|[12]\\d|30)|(02)-(0[1-9]|1\\d|2[0-8])))",wA=new RegExp(`^${xv}$`);function bv(a){let e="[0-5]\\d";a.precision?e=`${e}\\.\\d{${a.precision}}`:a.precision==null&&(e=`${e}(\\.\\d+)?`);const t=a.precision?"+":"?";return`([01]\\d|2[0-3]):[0-5]\\d(:${e})${t}`}function xA(a){return new RegExp(`^${bv(a)}$`)}function bA(a){let e=`${xv}T${bv(a)}`;const t=[];return t.push(a.local?"Z?":"Z"),a.offset&&t.push("([+-]\\d{2}:?\\d{2})"),e=`${e}(${t.join("|")})`,new RegExp(`^${e}$`)}function RA(a,e){return!!((e==="v4"||!e)&&_A.test(a)||(e==="v6"||!e)&&SA.test(a))}function MA(a,e){if(!pA.test(a))return!1;try{const[t]=a.split("."),i=t.replace(/-/g,"+").replace(/_/g,"/").padEnd(t.length+(4-t.length%4)%4,"="),o=JSON.parse(atob(i));return!(typeof o!="object"||o===null||"typ"in o&&(o==null?void 0:o.typ)!=="JWT"||!o.alg||e&&o.alg!==e)}catch{return!1}}function DA(a,e){return!!((e==="v4"||!e)&&TA.test(a)||(e==="v6"||!e)&&CA.test(a))}class un extends we{_parse(e){if(this._def.coerce&&(e.data=String(e.data)),this._getType(e)!==ee.string){const l=this._getOrReturnCtx(e);return X(l,{code:Y.invalid_type,expected:ee.string,received:l.parsedType}),pe}const i=new vt;let o;for(const l of this._def.checks)if(l.kind==="min")e.data.length<l.value&&(o=this._getOrReturnCtx(e,o),X(o,{code:Y.too_small,minimum:l.value,type:"string",inclusive:!0,exact:!1,message:l.message}),i.dirty());else if(l.kind==="max")e.data.length>l.value&&(o=this._getOrReturnCtx(e,o),X(o,{code:Y.too_big,maximum:l.value,type:"string",inclusive:!0,exact:!1,message:l.message}),i.dirty());else if(l.kind==="length"){const f=e.data.length>l.value,m=e.data.length<l.value;(f||m)&&(o=this._getOrReturnCtx(e,o),f?X(o,{code:Y.too_big,maximum:l.value,type:"string",inclusive:!0,exact:!0,message:l.message}):m&&X(o,{code:Y.too_small,minimum:l.value,type:"string",inclusive:!0,exact:!0,message:l.message}),i.dirty())}else if(l.kind==="email")yA.test(e.data)||(o=this._getOrReturnCtx(e,o),X(o,{validation:"email",code:Y.invalid_string,message:l.message}),i.dirty());else if(l.kind==="emoji")Hc||(Hc=new RegExp(vA,"u")),Hc.test(e.data)||(o=this._getOrReturnCtx(e,o),X(o,{validation:"emoji",code:Y.invalid_string,message:l.message}),i.dirty());else if(l.kind==="uuid")hA.test(e.data)||(o=this._getOrReturnCtx(e,o),X(o,{validation:"uuid",code:Y.invalid_string,message:l.message}),i.dirty());else if(l.kind==="nanoid")mA.test(e.data)||(o=this._getOrReturnCtx(e,o),X(o,{validation:"nanoid",code:Y.invalid_string,message:l.message}),i.dirty());else if(l.kind==="cuid")cA.test(e.data)||(o=this._getOrReturnCtx(e,o),X(o,{validation:"cuid",code:Y.invalid_string,message:l.message}),i.dirty());else if(l.kind==="cuid2")fA.test(e.data)||(o=this._getOrReturnCtx(e,o),X(o,{validation:"cuid2",code:Y.invalid_string,message:l.message}),i.dirty());else if(l.kind==="ulid")dA.test(e.data)||(o=this._getOrReturnCtx(e,o),X(o,{validation:"ulid",code:Y.invalid_string,message:l.message}),i.dirty());else if(l.kind==="url")try{new URL(e.data)}catch{o=this._getOrReturnCtx(e,o),X(o,{validation:"url",code:Y.invalid_string,message:l.message}),i.dirty()}else l.kind==="regex"?(l.regex.lastIndex=0,l.regex.test(e.data)||(o=this._getOrReturnCtx(e,o),X(o,{validation:"regex",code:Y.invalid_string,message:l.message}),i.dirty())):l.kind==="trim"?e.data=e.data.trim():l.kind==="includes"?e.data.includes(l.value,l.position)||(o=this._getOrReturnCtx(e,o),X(o,{code:Y.invalid_string,validation:{includes:l.value,position:l.position},message:l.message}),i.dirty()):l.kind==="toLowerCase"?e.data=e.data.toLowerCase():l.kind==="toUpperCase"?e.data=e.data.toUpperCase():l.kind==="startsWith"?e.data.startsWith(l.value)||(o=this._getOrReturnCtx(e,o),X(o,{code:Y.invalid_string,validation:{startsWith:l.value},message:l.message}),i.dirty()):l.kind==="endsWith"?e.data.endsWith(l.value)||(o=this._getOrReturnCtx(e,o),X(o,{code:Y.invalid_string,validation:{endsWith:l.value},message:l.message}),i.dirty()):l.kind==="datetime"?bA(l).test(e.data)||(o=this._getOrReturnCtx(e,o),X(o,{code:Y.invalid_string,validation:"datetime",message:l.message}),i.dirty()):l.kind==="date"?wA.test(e.data)||(o=this._getOrReturnCtx(e,o),X(o,{code:Y.invalid_string,validation:"date",message:l.message}),i.dirty()):l.kind==="time"?xA(l).test(e.data)||(o=this._getOrReturnCtx(e,o),X(o,{code:Y.invalid_string,validation:"time",message:l.message}),i.dirty()):l.kind==="duration"?gA.test(e.data)||(o=this._getOrReturnCtx(e,o),X(o,{validation:"duration",code:Y.invalid_string,message:l.message}),i.dirty()):l.kind==="ip"?RA(e.data,l.version)||(o=this._getOrReturnCtx(e,o),X(o,{validation:"ip",code:Y.invalid_string,message:l.message}),i.dirty()):l.kind==="jwt"?MA(e.data,l.alg)||(o=this._getOrReturnCtx(e,o),X(o,{validation:"jwt",code:Y.invalid_string,message:l.message}),i.dirty()):l.kind==="cidr"?DA(e.data,l.version)||(o=this._getOrReturnCtx(e,o),X(o,{validation:"cidr",code:Y.invalid_string,message:l.message}),i.dirty()):l.kind==="base64"?EA.test(e.data)||(o=this._getOrReturnCtx(e,o),X(o,{validation:"base64",code:Y.invalid_string,message:l.message}),i.dirty()):l.kind==="base64url"?AA.test(e.data)||(o=this._getOrReturnCtx(e,o),X(o,{validation:"base64url",code:Y.invalid_string,message:l.message}),i.dirty()):De.assertNever(l);return{status:i.value,value:e.data}}_regex(e,t,i){return this.refinement(o=>e.test(o),{validation:t,code:Y.invalid_string,...ne.errToObj(i)})}_addCheck(e){return new un({...this._def,checks:[...this._def.checks,e]})}email(e){return this._addCheck({kind:"email",...ne.errToObj(e)})}url(e){return this._addCheck({kind:"url",...ne.errToObj(e)})}emoji(e){return this._addCheck({kind:"emoji",...ne.errToObj(e)})}uuid(e){return this._addCheck({kind:"uuid",...ne.errToObj(e)})}nanoid(e){return this._addCheck({kind:"nanoid",...ne.errToObj(e)})}cuid(e){return this._addCheck({kind:"cuid",...ne.errToObj(e)})}cuid2(e){return this._addCheck({kind:"cuid2",...ne.errToObj(e)})}ulid(e){return this._addCheck({kind:"ulid",...ne.errToObj(e)})}base64(e){return this._addCheck({kind:"base64",...ne.errToObj(e)})}base64url(e){return this._addCheck({kind:"base64url",...ne.errToObj(e)})}jwt(e){return this._addCheck({kind:"jwt",...ne.errToObj(e)})}ip(e){return this._addCheck({kind:"ip",...ne.errToObj(e)})}cidr(e){return this._addCheck({kind:"cidr",...ne.errToObj(e)})}datetime(e){return typeof e=="string"?this._addCheck({kind:"datetime",precision:null,offset:!1,local:!1,message:e}):this._addCheck({kind:"datetime",precision:typeof(e==null?void 0:e.precision)>"u"?null:e==null?void 0:e.precision,offset:(e==null?void 0:e.offset)??!1,local:(e==null?void 0:e.local)??!1,...ne.errToObj(e==null?void 0:e.message)})}date(e){return this._addCheck({kind:"date",message:e})}time(e){return typeof e=="string"?this._addCheck({kind:"time",precision:null,message:e}):this._addCheck({kind:"time",precision:typeof(e==null?void 0:e.precision)>"u"?null:e==null?void 0:e.precision,...ne.errToObj(e==null?void 0:e.message)})}duration(e){return this._addCheck({kind:"duration",...ne.errToObj(e)})}regex(e,t){return this._addCheck({kind:"regex",regex:e,...ne.errToObj(t)})}includes(e,t){return this._addCheck({kind:"includes",value:e,position:t==null?void 0:t.position,...ne.errToObj(t==null?void 0:t.message)})}startsWith(e,t){return this._addCheck({kind:"startsWith",value:e,...ne.errToObj(t)})}endsWith(e,t){return this._addCheck({kind:"endsWith",value:e,...ne.errToObj(t)})}min(e,t){return this._addCheck({kind:"min",value:e,...ne.errToObj(t)})}max(e,t){return this._addCheck({kind:"max",value:e,...ne.errToObj(t)})}length(e,t){return this._addCheck({kind:"length",value:e,...ne.errToObj(t)})}nonempty(e){return this.min(1,ne.errToObj(e))}trim(){return new un({...this._def,checks:[...this._def.checks,{kind:"trim"}]})}toLowerCase(){return new un({...this._def,checks:[...this._def.checks,{kind:"toLowerCase"}]})}toUpperCase(){return new un({...this._def,checks:[...this._def.checks,{kind:"toUpperCase"}]})}get isDatetime(){return!!this._def.checks.find(e=>e.kind==="datetime")}get isDate(){return!!this._def.checks.find(e=>e.kind==="date")}get isTime(){return!!this._def.checks.find(e=>e.kind==="time")}get isDuration(){return!!this._def.checks.find(e=>e.kind==="duration")}get isEmail(){return!!this._def.checks.find(e=>e.kind==="email")}get isURL(){return!!this._def.checks.find(e=>e.kind==="url")}get isEmoji(){return!!this._def.checks.find(e=>e.kind==="emoji")}get isUUID(){return!!this._def.checks.find(e=>e.kind==="uuid")}get isNANOID(){return!!this._def.checks.find(e=>e.kind==="nanoid")}get isCUID(){return!!this._def.checks.find(e=>e.kind==="cuid")}get isCUID2(){return!!this._def.checks.find(e=>e.kind==="cuid2")}get isULID(){return!!this._def.checks.find(e=>e.kind==="ulid")}get isIP(){return!!this._def.checks.find(e=>e.kind==="ip")}get isCIDR(){return!!this._def.checks.find(e=>e.kind==="cidr")}get isBase64(){return!!this._def.checks.find(e=>e.kind==="base64")}get isBase64url(){return!!this._def.checks.find(e=>e.kind==="base64url")}get minLength(){let e=null;for(const t of this._def.checks)t.kind==="min"&&(e===null||t.value>e)&&(e=t.value);return e}get maxLength(){let e=null;for(const t of this._def.checks)t.kind==="max"&&(e===null||t.value<e)&&(e=t.value);return e}}un.create=a=>new un({checks:[],typeName:he.ZodString,coerce:(a==null?void 0:a.coerce)??!1,..._e(a)});function NA(a,e){const t=(a.toString().split(".")[1]||"").length,i=(e.toString().split(".")[1]||"").length,o=t>i?t:i,l=Number.parseInt(a.toFixed(o).replace(".","")),f=Number.parseInt(e.toFixed(o).replace(".",""));return l%f/10**o}class Li extends we{constructor(){super(...arguments),this.min=this.gte,this.max=this.lte,this.step=this.multipleOf}_parse(e){if(this._def.coerce&&(e.data=Number(e.data)),this._getType(e)!==ee.number){const l=this._getOrReturnCtx(e);return X(l,{code:Y.invalid_type,expected:ee.number,received:l.parsedType}),pe}let i;const o=new vt;for(const l of this._def.checks)l.kind==="int"?De.isInteger(e.data)||(i=this._getOrReturnCtx(e,i),X(i,{code:Y.invalid_type,expected:"integer",received:"float",message:l.message}),o.dirty()):l.kind==="min"?(l.inclusive?e.data<l.value:e.data<=l.value)&&(i=this._getOrReturnCtx(e,i),X(i,{code:Y.too_small,minimum:l.value,type:"number",inclusive:l.inclusive,exact:!1,message:l.message}),o.dirty()):l.kind==="max"?(l.inclusive?e.data>l.value:e.data>=l.value)&&(i=this._getOrReturnCtx(e,i),X(i,{code:Y.too_big,maximum:l.value,type:"number",inclusive:l.inclusive,exact:!1,message:l.message}),o.dirty()):l.kind==="multipleOf"?NA(e.data,l.value)!==0&&(i=this._getOrReturnCtx(e,i),X(i,{code:Y.not_multiple_of,multipleOf:l.value,message:l.message}),o.dirty()):l.kind==="finite"?Number.isFinite(e.data)||(i=this._getOrReturnCtx(e,i),X(i,{code:Y.not_finite,message:l.message}),o.dirty()):De.assertNever(l);return{status:o.value,value:e.data}}gte(e,t){return this.setLimit("min",e,!0,ne.toString(t))}gt(e,t){return this.setLimit("min",e,!1,ne.toString(t))}lte(e,t){return this.setLimit("max",e,!0,ne.toString(t))}lt(e,t){return this.setLimit("max",e,!1,ne.toString(t))}setLimit(e,t,i,o){return new Li({...this._def,checks:[...this._def.checks,{kind:e,value:t,inclusive:i,message:ne.toString(o)}]})}_addCheck(e){return new Li({...this._def,checks:[...this._def.checks,e]})}int(e){return this._addCheck({kind:"int",message:ne.toString(e)})}positive(e){return this._addCheck({kind:"min",value:0,inclusive:!1,message:ne.toString(e)})}negative(e){return this._addCheck({kind:"max",value:0,inclusive:!1,message:ne.toString(e)})}nonpositive(e){return this._addCheck({kind:"max",value:0,inclusive:!0,message:ne.toString(e)})}nonnegative(e){return this._addCheck({kind:"min",value:0,inclusive:!0,message:ne.toString(e)})}multipleOf(e,t){return this._addCheck({kind:"multipleOf",value:e,message:ne.toString(t)})}finite(e){return this._addCheck({kind:"finite",message:ne.toString(e)})}safe(e){return this._addCheck({kind:"min",inclusive:!0,value:Number.MIN_SAFE_INTEGER,message:ne.toString(e)})._addCheck({kind:"max",inclusive:!0,value:Number.MAX_SAFE_INTEGER,message:ne.toString(e)})}get minValue(){let e=null;for(const t of this._def.checks)t.kind==="min"&&(e===null||t.value>e)&&(e=t.value);return e}get maxValue(){let e=null;for(const t of this._def.checks)t.kind==="max"&&(e===null||t.value<e)&&(e=t.value);return e}get isInt(){return!!this._def.checks.find(e=>e.kind==="int"||e.kind==="multipleOf"&&De.isInteger(e.value))}get isFinite(){let e=null,t=null;for(const i of this._def.checks){if(i.kind==="finite"||i.kind==="int"||i.kind==="multipleOf")return!0;i.kind==="min"?(t===null||i.value>t)&&(t=i.value):i.kind==="max"&&(e===null||i.value<e)&&(e=i.value)}return Number.isFinite(t)&&Number.isFinite(e)}}Li.create=a=>new Li({checks:[],typeName:he.ZodNumber,coerce:(a==null?void 0:a.coerce)||!1,..._e(a)});class Pi extends we{constructor(){super(...arguments),this.min=this.gte,this.max=this.lte}_parse(e){if(this._def.coerce)try{e.data=BigInt(e.data)}catch{return this._getInvalidInput(e)}if(this._getType(e)!==ee.bigint)return this._getInvalidInput(e);let i;const o=new vt;for(const l of this._def.checks)l.kind==="min"?(l.inclusive?e.data<l.value:e.data<=l.value)&&(i=this._getOrReturnCtx(e,i),X(i,{code:Y.too_small,type:"bigint",minimum:l.value,inclusive:l.inclusive,message:l.message}),o.dirty()):l.kind==="max"?(l.inclusive?e.data>l.value:e.data>=l.value)&&(i=this._getOrReturnCtx(e,i),X(i,{code:Y.too_big,type:"bigint",maximum:l.value,inclusive:l.inclusive,message:l.message}),o.dirty()):l.kind==="multipleOf"?e.data%l.value!==BigInt(0)&&(i=this._getOrReturnCtx(e,i),X(i,{code:Y.not_multiple_of,multipleOf:l.value,message:l.message}),o.dirty()):De.assertNever(l);return{status:o.value,value:e.data}}_getInvalidInput(e){const t=this._getOrReturnCtx(e);return X(t,{code:Y.invalid_type,expected:ee.bigint,received:t.parsedType}),pe}gte(e,t){return this.setLimit("min",e,!0,ne.toString(t))}gt(e,t){return this.setLimit("min",e,!1,ne.toString(t))}lte(e,t){return this.setLimit("max",e,!0,ne.toString(t))}lt(e,t){return this.setLimit("max",e,!1,ne.toString(t))}setLimit(e,t,i,o){return new Pi({...this._def,checks:[...this._def.checks,{kind:e,value:t,inclusive:i,message:ne.toString(o)}]})}_addCheck(e){return new Pi({...this._def,checks:[...this._def.checks,e]})}positive(e){return this._addCheck({kind:"min",value:BigInt(0),inclusive:!1,message:ne.toString(e)})}negative(e){return this._addCheck({kind:"max",value:BigInt(0),inclusive:!1,message:ne.toString(e)})}nonpositive(e){return this._addCheck({kind:"max",value:BigInt(0),inclusive:!0,message:ne.toString(e)})}nonnegative(e){return this._addCheck({kind:"min",value:BigInt(0),inclusive:!0,message:ne.toString(e)})}multipleOf(e,t){return this._addCheck({kind:"multipleOf",value:e,message:ne.toString(t)})}get minValue(){let e=null;for(const t of this._def.checks)t.kind==="min"&&(e===null||t.value>e)&&(e=t.value);return e}get maxValue(){let e=null;for(const t of this._def.checks)t.kind==="max"&&(e===null||t.value<e)&&(e=t.value);return e}}Pi.create=a=>new Pi({checks:[],typeName:he.ZodBigInt,coerce:(a==null?void 0:a.coerce)??!1,..._e(a)});class js extends we{_parse(e){if(this._def.coerce&&(e.data=!!e.data),this._getType(e)!==ee.boolean){const i=this._getOrReturnCtx(e);return X(i,{code:Y.invalid_type,expected:ee.boolean,received:i.parsedType}),pe}return Yt(e.data)}}js.create=a=>new js({typeName:he.ZodBoolean,coerce:(a==null?void 0:a.coerce)||!1,..._e(a)});class Gr extends we{_parse(e){if(this._def.coerce&&(e.data=new Date(e.data)),this._getType(e)!==ee.date){const l=this._getOrReturnCtx(e);return X(l,{code:Y.invalid_type,expected:ee.date,received:l.parsedType}),pe}if(Number.isNaN(e.data.getTime())){const l=this._getOrReturnCtx(e);return X(l,{code:Y.invalid_date}),pe}const i=new vt;let o;for(const l of this._def.checks)l.kind==="min"?e.data.getTime()<l.value&&(o=this._getOrReturnCtx(e,o),X(o,{code:Y.too_small,message:l.message,inclusive:!0,exact:!1,minimum:l.value,type:"date"}),i.dirty()):l.kind==="max"?e.data.getTime()>l.value&&(o=this._getOrReturnCtx(e,o),X(o,{code:Y.too_big,message:l.message,inclusive:!0,exact:!1,maximum:l.value,type:"date"}),i.dirty()):De.assertNever(l);return{status:i.value,value:new Date(e.data.getTime())}}_addCheck(e){return new Gr({...this._def,checks:[...this._def.checks,e]})}min(e,t){return this._addCheck({kind:"min",value:e.getTime(),message:ne.toString(t)})}max(e,t){return this._addCheck({kind:"max",value:e.getTime(),message:ne.toString(t)})}get minDate(){let e=null;for(const t of this._def.checks)t.kind==="min"&&(e===null||t.value>e)&&(e=t.value);return e!=null?new Date(e):null}get maxDate(){let e=null;for(const t of this._def.checks)t.kind==="max"&&(e===null||t.value<e)&&(e=t.value);return e!=null?new Date(e):null}}Gr.create=a=>new Gr({checks:[],coerce:(a==null?void 0:a.coerce)||!1,typeName:he.ZodDate,..._e(a)});class yg extends we{_parse(e){if(this._getType(e)!==ee.symbol){const i=this._getOrReturnCtx(e);return X(i,{code:Y.invalid_type,expected:ee.symbol,received:i.parsedType}),pe}return Yt(e.data)}}yg.create=a=>new yg({typeName:he.ZodSymbol,..._e(a)});class vg extends we{_parse(e){if(this._getType(e)!==ee.undefined){const i=this._getOrReturnCtx(e);return X(i,{code:Y.invalid_type,expected:ee.undefined,received:i.parsedType}),pe}return Yt(e.data)}}vg.create=a=>new vg({typeName:he.ZodUndefined,..._e(a)});class _g extends we{_parse(e){if(this._getType(e)!==ee.null){const i=this._getOrReturnCtx(e);return X(i,{code:Y.invalid_type,expected:ee.null,received:i.parsedType}),pe}return Yt(e.data)}}_g.create=a=>new _g({typeName:he.ZodNull,..._e(a)});class Tg extends we{constructor(){super(...arguments),this._any=!0}_parse(e){return Yt(e.data)}}Tg.create=a=>new Tg({typeName:he.ZodAny,..._e(a)});class rf extends we{constructor(){super(...arguments),this._unknown=!0}_parse(e){return Yt(e.data)}}rf.create=a=>new rf({typeName:he.ZodUnknown,..._e(a)});class ci extends we{_parse(e){const t=this._getOrReturnCtx(e);return X(t,{code:Y.invalid_type,expected:ee.never,received:t.parsedType}),pe}}ci.create=a=>new ci({typeName:he.ZodNever,..._e(a)});class Sg extends we{_parse(e){if(this._getType(e)!==ee.undefined){const i=this._getOrReturnCtx(e);return X(i,{code:Y.invalid_type,expected:ee.void,received:i.parsedType}),pe}return Yt(e.data)}}Sg.create=a=>new Sg({typeName:he.ZodVoid,..._e(a)});class cn extends we{_parse(e){const{ctx:t,status:i}=this._processInputParams(e),o=this._def;if(t.parsedType!==ee.array)return X(t,{code:Y.invalid_type,expected:ee.array,received:t.parsedType}),pe;if(o.exactLength!==null){const f=t.data.length>o.exactLength.value,m=t.data.length<o.exactLength.value;(f||m)&&(X(t,{code:f?Y.too_big:Y.too_small,minimum:m?o.exactLength.value:void 0,maximum:f?o.exactLength.value:void 0,type:"array",inclusive:!0,exact:!0,message:o.exactLength.message}),i.dirty())}if(o.minLength!==null&&t.data.length<o.minLength.value&&(X(t,{code:Y.too_small,minimum:o.minLength.value,type:"array",inclusive:!0,exact:!1,message:o.minLength.message}),i.dirty()),o.maxLength!==null&&t.data.length>o.maxLength.value&&(X(t,{code:Y.too_big,maximum:o.maxLength.value,type:"array",inclusive:!0,exact:!1,message:o.maxLength.message}),i.dirty()),t.common.async)return Promise.all([...t.data].map((f,m)=>o.type._parseAsync(new dn(t,f,t.path,m)))).then(f=>vt.mergeArray(i,f));const l=[...t.data].map((f,m)=>o.type._parseSync(new dn(t,f,t.path,m)));return vt.mergeArray(i,l)}get element(){return this._def.type}min(e,t){return new cn({...this._def,minLength:{value:e,message:ne.toString(t)}})}max(e,t){return new cn({...this._def,maxLength:{value:e,message:ne.toString(t)}})}length(e,t){return new cn({...this._def,exactLength:{value:e,message:ne.toString(t)}})}nonempty(e){return this.min(1,e)}}cn.create=(a,e)=>new cn({type:a,minLength:null,maxLength:null,exactLength:null,typeName:he.ZodArray,..._e(e)});function Lr(a){if(a instanceof tt){const e={};for(const t in a.shape){const i=a.shape[t];e[t]=ui.create(Lr(i))}return new tt({...a._def,shape:()=>e})}else return a instanceof cn?new cn({...a._def,type:Lr(a.element)}):a instanceof ui?ui.create(Lr(a.unwrap())):a instanceof Fr?Fr.create(Lr(a.unwrap())):a instanceof Vi?Vi.create(a.items.map(e=>Lr(e))):a}class tt extends we{constructor(){super(...arguments),this._cached=null,this.nonstrict=this.passthrough,this.augment=this.extend}_getCached(){if(this._cached!==null)return this._cached;const e=this._def.shape(),t=De.objectKeys(e);return this._cached={shape:e,keys:t},this._cached}_parse(e){if(this._getType(e)!==ee.object){const p=this._getOrReturnCtx(e);return X(p,{code:Y.invalid_type,expected:ee.object,received:p.parsedType}),pe}const{status:i,ctx:o}=this._processInputParams(e),{shape:l,keys:f}=this._getCached(),m=[];if(!(this._def.catchall instanceof ci&&this._def.unknownKeys==="strip"))for(const p in o.data)f.includes(p)||m.push(p);const g=[];for(const p of f){const v=l[p],_=o.data[p];g.push({key:{status:"valid",value:p},value:v._parse(new dn(o,_,o.path,p)),alwaysSet:p in o.data})}if(this._def.catchall instanceof ci){const p=this._def.unknownKeys;if(p==="passthrough")for(const v of m)g.push({key:{status:"valid",value:v},value:{status:"valid",value:o.data[v]}});else if(p==="strict")m.length>0&&(X(o,{code:Y.unrecognized_keys,keys:m}),i.dirty());else if(p!=="strip")throw new Error("Internal ZodObject error: invalid unknownKeys value.")}else{const p=this._def.catchall;for(const v of m){const _=o.data[v];g.push({key:{status:"valid",value:v},value:p._parse(new dn(o,_,o.path,v)),alwaysSet:v in o.data})}}return o.common.async?Promise.resolve().then(async()=>{const p=[];for(const v of g){const _=await v.key,S=await v.value;p.push({key:_,value:S,alwaysSet:v.alwaysSet})}return p}).then(p=>vt.mergeObjectSync(i,p)):vt.mergeObjectSync(i,g)}get shape(){return this._def.shape()}strict(e){return ne.errToObj,new tt({...this._def,unknownKeys:"strict",...e!==void 0?{errorMap:(t,i)=>{var l,f;const o=((f=(l=this._def).errorMap)==null?void 0:f.call(l,t,i).message)??i.defaultError;return t.code==="unrecognized_keys"?{message:ne.errToObj(e).message??o}:{message:o}}}:{}})}strip(){return new tt({...this._def,unknownKeys:"strip"})}passthrough(){return new tt({...this._def,unknownKeys:"passthrough"})}extend(e){return new tt({...this._def,shape:()=>({...this._def.shape(),...e})})}merge(e){return new tt({unknownKeys:e._def.unknownKeys,catchall:e._def.catchall,shape:()=>({...this._def.shape(),...e._def.shape()}),typeName:he.ZodObject})}setKey(e,t){return this.augment({[e]:t})}catchall(e){return new tt({...this._def,catchall:e})}pick(e){const t={};for(const i of De.objectKeys(e))e[i]&&this.shape[i]&&(t[i]=this.shape[i]);return new tt({...this._def,shape:()=>t})}omit(e){const t={};for(const i of De.objectKeys(this.shape))e[i]||(t[i]=this.shape[i]);return new tt({...this._def,shape:()=>t})}deepPartial(){return Lr(this)}partial(e){const t={};for(const i of De.objectKeys(this.shape)){const o=this.shape[i];e&&!e[i]?t[i]=o:t[i]=o.optional()}return new tt({...this._def,shape:()=>t})}required(e){const t={};for(const i of De.objectKeys(this.shape))if(e&&!e[i])t[i]=this.shape[i];else{let l=this.shape[i];for(;l instanceof ui;)l=l._def.innerType;t[i]=l}return new tt({...this._def,shape:()=>t})}keyof(){return Rv(De.objectKeys(this.shape))}}tt.create=(a,e)=>new tt({shape:()=>a,unknownKeys:"strip",catchall:ci.create(),typeName:he.ZodObject,..._e(e)});tt.strictCreate=(a,e)=>new tt({shape:()=>a,unknownKeys:"strict",catchall:ci.create(),typeName:he.ZodObject,..._e(e)});tt.lazycreate=(a,e)=>new tt({shape:a,unknownKeys:"strip",catchall:ci.create(),typeName:he.ZodObject,..._e(e)});class el extends we{_parse(e){const{ctx:t}=this._processInputParams(e),i=this._def.options;function o(l){for(const m of l)if(m.result.status==="valid")return m.result;for(const m of l)if(m.result.status==="dirty")return t.common.issues.push(...m.ctx.common.issues),m.result;const f=l.map(m=>new kn(m.ctx.common.issues));return X(t,{code:Y.invalid_union,unionErrors:f}),pe}if(t.common.async)return Promise.all(i.map(async l=>{const f={...t,common:{...t.common,issues:[]},parent:null};return{result:await l._parseAsync({data:t.data,path:t.path,parent:f}),ctx:f}})).then(o);{let l;const f=[];for(const g of i){const p={...t,common:{...t.common,issues:[]},parent:null},v=g._parseSync({data:t.data,path:t.path,parent:p});if(v.status==="valid")return v;v.status==="dirty"&&!l&&(l={result:v,ctx:p}),p.common.issues.length&&f.push(p.common.issues)}if(l)return t.common.issues.push(...l.ctx.common.issues),l.result;const m=f.map(g=>new kn(g));return X(t,{code:Y.invalid_union,unionErrors:m}),pe}}get options(){return this._def.options}}el.create=(a,e)=>new el({options:a,typeName:he.ZodUnion,..._e(e)});function af(a,e){const t=si(a),i=si(e);if(a===e)return{valid:!0,data:a};if(t===ee.object&&i===ee.object){const o=De.objectKeys(e),l=De.objectKeys(a).filter(m=>o.indexOf(m)!==-1),f={...a,...e};for(const m of l){const g=af(a[m],e[m]);if(!g.valid)return{valid:!1};f[m]=g.data}return{valid:!0,data:f}}else if(t===ee.array&&i===ee.array){if(a.length!==e.length)return{valid:!1};const o=[];for(let l=0;l<a.length;l++){const f=a[l],m=e[l],g=af(f,m);if(!g.valid)return{valid:!1};o.push(g.data)}return{valid:!0,data:o}}else return t===ee.date&&i===ee.date&&+a==+e?{valid:!0,data:a}:{valid:!1}}class tl extends we{_parse(e){const{status:t,ctx:i}=this._processInputParams(e),o=(l,f)=>{if(mg(l)||mg(f))return pe;const m=af(l.value,f.value);return m.valid?((pg(l)||pg(f))&&t.dirty(),{status:t.value,value:m.data}):(X(i,{code:Y.invalid_intersection_types}),pe)};return i.common.async?Promise.all([this._def.left._parseAsync({data:i.data,path:i.path,parent:i}),this._def.right._parseAsync({data:i.data,path:i.path,parent:i})]).then(([l,f])=>o(l,f)):o(this._def.left._parseSync({data:i.data,path:i.path,parent:i}),this._def.right._parseSync({data:i.data,path:i.path,parent:i}))}}tl.create=(a,e,t)=>new tl({left:a,right:e,typeName:he.ZodIntersection,..._e(t)});class Vi extends we{_parse(e){const{status:t,ctx:i}=this._processInputParams(e);if(i.parsedType!==ee.array)return X(i,{code:Y.invalid_type,expected:ee.array,received:i.parsedType}),pe;if(i.data.length<this._def.items.length)return X(i,{code:Y.too_small,minimum:this._def.items.length,inclusive:!0,exact:!1,type:"array"}),pe;!this._def.rest&&i.data.length>this._def.items.length&&(X(i,{code:Y.too_big,maximum:this._def.items.length,inclusive:!0,exact:!1,type:"array"}),t.dirty());const l=[...i.data].map((f,m)=>{const g=this._def.items[m]||this._def.rest;return g?g._parse(new dn(i,f,i.path,m)):null}).filter(f=>!!f);return i.common.async?Promise.all(l).then(f=>vt.mergeArray(t,f)):vt.mergeArray(t,l)}get items(){return this._def.items}rest(e){return new Vi({...this._def,rest:e})}}Vi.create=(a,e)=>{if(!Array.isArray(a))throw new Error("You must pass an array of schemas to z.tuple([ ... ])");return new Vi({items:a,typeName:he.ZodTuple,rest:null,..._e(e)})};class nl extends we{get keySchema(){return this._def.keyType}get valueSchema(){return this._def.valueType}_parse(e){const{status:t,ctx:i}=this._processInputParams(e);if(i.parsedType!==ee.object)return X(i,{code:Y.invalid_type,expected:ee.object,received:i.parsedType}),pe;const o=[],l=this._def.keyType,f=this._def.valueType;for(const m in i.data)o.push({key:l._parse(new dn(i,m,i.path,m)),value:f._parse(new dn(i,i.data[m],i.path,m)),alwaysSet:m in i.data});return i.common.async?vt.mergeObjectAsync(t,o):vt.mergeObjectSync(t,o)}get element(){return this._def.valueType}static create(e,t,i){return t instanceof we?new nl({keyType:e,valueType:t,typeName:he.ZodRecord,..._e(i)}):new nl({keyType:un.create(),valueType:e,typeName:he.ZodRecord,..._e(t)})}}class Cg extends we{get keySchema(){return this._def.keyType}get valueSchema(){return this._def.valueType}_parse(e){const{status:t,ctx:i}=this._processInputParams(e);if(i.parsedType!==ee.map)return X(i,{code:Y.invalid_type,expected:ee.map,received:i.parsedType}),pe;const o=this._def.keyType,l=this._def.valueType,f=[...i.data.entries()].map(([m,g],p)=>({key:o._parse(new dn(i,m,i.path,[p,"key"])),value:l._parse(new dn(i,g,i.path,[p,"value"]))}));if(i.common.async){const m=new Map;return Promise.resolve().then(async()=>{for(const g of f){const p=await g.key,v=await g.value;if(p.status==="aborted"||v.status==="aborted")return pe;(p.status==="dirty"||v.status==="dirty")&&t.dirty(),m.set(p.value,v.value)}return{status:t.value,value:m}})}else{const m=new Map;for(const g of f){const p=g.key,v=g.value;if(p.status==="aborted"||v.status==="aborted")return pe;(p.status==="dirty"||v.status==="dirty")&&t.dirty(),m.set(p.value,v.value)}return{status:t.value,value:m}}}}Cg.create=(a,e,t)=>new Cg({valueType:e,keyType:a,typeName:he.ZodMap,..._e(t)});class mo extends we{_parse(e){const{status:t,ctx:i}=this._processInputParams(e);if(i.parsedType!==ee.set)return X(i,{code:Y.invalid_type,expected:ee.set,received:i.parsedType}),pe;const o=this._def;o.minSize!==null&&i.data.size<o.minSize.value&&(X(i,{code:Y.too_small,minimum:o.minSize.value,type:"set",inclusive:!0,exact:!1,message:o.minSize.message}),t.dirty()),o.maxSize!==null&&i.data.size>o.maxSize.value&&(X(i,{code:Y.too_big,maximum:o.maxSize.value,type:"set",inclusive:!0,exact:!1,message:o.maxSize.message}),t.dirty());const l=this._def.valueType;function f(g){const p=new Set;for(const v of g){if(v.status==="aborted")return pe;v.status==="dirty"&&t.dirty(),p.add(v.value)}return{status:t.value,value:p}}const m=[...i.data.values()].map((g,p)=>l._parse(new dn(i,g,i.path,p)));return i.common.async?Promise.all(m).then(g=>f(g)):f(m)}min(e,t){return new mo({...this._def,minSize:{value:e,message:ne.toString(t)}})}max(e,t){return new mo({...this._def,maxSize:{value:e,message:ne.toString(t)}})}size(e,t){return this.min(e,t).max(e,t)}nonempty(e){return this.min(1,e)}}mo.create=(a,e)=>new mo({valueType:a,minSize:null,maxSize:null,typeName:he.ZodSet,..._e(e)});class of extends we{get schema(){return this._def.getter()}_parse(e){const{ctx:t}=this._processInputParams(e);return this._def.getter()._parse({data:t.data,path:t.path,parent:t})}}of.create=(a,e)=>new of({getter:a,typeName:he.ZodLazy,..._e(e)});class Eg extends we{_parse(e){if(e.data!==this._def.value){const t=this._getOrReturnCtx(e);return X(t,{received:t.data,code:Y.invalid_literal,expected:this._def.value}),pe}return{status:"valid",value:e.data}}get value(){return this._def.value}}Eg.create=(a,e)=>new Eg({value:a,typeName:he.ZodLiteral,..._e(e)});function Rv(a,e){return new Hr({values:a,typeName:he.ZodEnum,..._e(e)})}class Hr extends we{constructor(){super(...arguments),io.set(this,void 0)}_parse(e){if(typeof e.data!="string"){const t=this._getOrReturnCtx(e),i=this._def.values;return X(t,{expected:De.joinValues(i),received:t.parsedType,code:Y.invalid_type}),pe}if(Ws(this,io,"f")||wv(this,io,new Set(this._def.values),"f"),!Ws(this,io,"f").has(e.data)){const t=this._getOrReturnCtx(e),i=this._def.values;return X(t,{received:t.data,code:Y.invalid_enum_value,options:i}),pe}return Yt(e.data)}get options(){return this._def.values}get enum(){const e={};for(const t of this._def.values)e[t]=t;return e}get Values(){const e={};for(const t of this._def.values)e[t]=t;return e}get Enum(){const e={};for(const t of this._def.values)e[t]=t;return e}extract(e,t=this._def){return Hr.create(e,{...this._def,...t})}exclude(e,t=this._def){return Hr.create(this.options.filter(i=>!e.includes(i)),{...this._def,...t})}}io=new WeakMap;Hr.create=Rv;class Ag extends we{constructor(){super(...arguments),ro.set(this,void 0)}_parse(e){const t=De.getValidEnumValues(this._def.values),i=this._getOrReturnCtx(e);if(i.parsedType!==ee.string&&i.parsedType!==ee.number){const o=De.objectValues(t);return X(i,{expected:De.joinValues(o),received:i.parsedType,code:Y.invalid_type}),pe}if(Ws(this,ro,"f")||wv(this,ro,new Set(De.getValidEnumValues(this._def.values)),"f"),!Ws(this,ro,"f").has(e.data)){const o=De.objectValues(t);return X(i,{received:i.data,code:Y.invalid_enum_value,options:o}),pe}return Yt(e.data)}get enum(){return this._def.values}}ro=new WeakMap;Ag.create=(a,e)=>new Ag({values:a,typeName:he.ZodNativeEnum,..._e(e)});class il extends we{unwrap(){return this._def.type}_parse(e){const{ctx:t}=this._processInputParams(e);if(t.parsedType!==ee.promise&&t.common.async===!1)return X(t,{code:Y.invalid_type,expected:ee.promise,received:t.parsedType}),pe;const i=t.parsedType===ee.promise?t.data:Promise.resolve(t.data);return Yt(i.then(o=>this._def.type.parseAsync(o,{path:t.path,errorMap:t.common.contextualErrorMap})))}}il.create=(a,e)=>new il({type:a,typeName:he.ZodPromise,..._e(e)});class $r extends we{innerType(){return this._def.schema}sourceType(){return this._def.schema._def.typeName===he.ZodEffects?this._def.schema.sourceType():this._def.schema}_parse(e){const{status:t,ctx:i}=this._processInputParams(e),o=this._def.effect||null,l={addIssue:f=>{X(i,f),f.fatal?t.abort():t.dirty()},get path(){return i.path}};if(l.addIssue=l.addIssue.bind(l),o.type==="preprocess"){const f=o.transform(i.data,l);if(i.common.async)return Promise.resolve(f).then(async m=>{if(t.value==="aborted")return pe;const g=await this._def.schema._parseAsync({data:m,path:i.path,parent:i});return g.status==="aborted"?pe:g.status==="dirty"||t.value==="dirty"?no(g.value):g});{if(t.value==="aborted")return pe;const m=this._def.schema._parseSync({data:f,path:i.path,parent:i});return m.status==="aborted"?pe:m.status==="dirty"||t.value==="dirty"?no(m.value):m}}if(o.type==="refinement"){const f=m=>{const g=o.refinement(m,l);if(i.common.async)return Promise.resolve(g);if(g instanceof Promise)throw new Error("Async refinement encountered during synchronous parse operation. Use .parseAsync instead.");return m};if(i.common.async===!1){const m=this._def.schema._parseSync({data:i.data,path:i.path,parent:i});return m.status==="aborted"?pe:(m.status==="dirty"&&t.dirty(),f(m.value),{status:t.value,value:m.value})}else return this._def.schema._parseAsync({data:i.data,path:i.path,parent:i}).then(m=>m.status==="aborted"?pe:(m.status==="dirty"&&t.dirty(),f(m.value).then(()=>({status:t.value,value:m.value}))))}if(o.type==="transform")if(i.common.async===!1){const f=this._def.schema._parseSync({data:i.data,path:i.path,parent:i});if(!zr(f))return f;const m=o.transform(f.value,l);if(m instanceof Promise)throw new Error("Asynchronous transform encountered during synchronous parse operation. Use .parseAsync instead.");return{status:t.value,value:m}}else return this._def.schema._parseAsync({data:i.data,path:i.path,parent:i}).then(f=>zr(f)?Promise.resolve(o.transform(f.value,l)).then(m=>({status:t.value,value:m})):f);De.assertNever(o)}}$r.create=(a,e,t)=>new $r({schema:a,typeName:he.ZodEffects,effect:e,..._e(t)});$r.createWithPreprocess=(a,e,t)=>new $r({schema:e,effect:{type:"preprocess",transform:a},typeName:he.ZodEffects,..._e(t)});class ui extends we{_parse(e){return this._getType(e)===ee.undefined?Yt(void 0):this._def.innerType._parse(e)}unwrap(){return this._def.innerType}}ui.create=(a,e)=>new ui({innerType:a,typeName:he.ZodOptional,..._e(e)});class Fr extends we{_parse(e){return this._getType(e)===ee.null?Yt(null):this._def.innerType._parse(e)}unwrap(){return this._def.innerType}}Fr.create=(a,e)=>new Fr({innerType:a,typeName:he.ZodNullable,..._e(e)});class sf extends we{_parse(e){const{ctx:t}=this._processInputParams(e);let i=t.data;return t.parsedType===ee.undefined&&(i=this._def.defaultValue()),this._def.innerType._parse({data:i,path:t.path,parent:t})}removeDefault(){return this._def.innerType}}sf.create=(a,e)=>new sf({innerType:a,typeName:he.ZodDefault,defaultValue:typeof e.default=="function"?e.default:()=>e.default,..._e(e)});class lf extends we{_parse(e){const{ctx:t}=this._processInputParams(e),i={...t,common:{...t.common,issues:[]}},o=this._def.innerType._parse({data:i.data,path:i.path,parent:{...i}});return Qs(o)?o.then(l=>({status:"valid",value:l.status==="valid"?l.value:this._def.catchValue({get error(){return new kn(i.common.issues)},input:i.data})})):{status:"valid",value:o.status==="valid"?o.value:this._def.catchValue({get error(){return new kn(i.common.issues)},input:i.data})}}removeCatch(){return this._def.innerType}}lf.create=(a,e)=>new lf({innerType:a,typeName:he.ZodCatch,catchValue:typeof e.catch=="function"?e.catch:()=>e.catch,..._e(e)});class wg extends we{_parse(e){if(this._getType(e)!==ee.nan){const i=this._getOrReturnCtx(e);return X(i,{code:Y.invalid_type,expected:ee.nan,received:i.parsedType}),pe}return{status:"valid",value:e.data}}}wg.create=a=>new wg({typeName:he.ZodNaN,..._e(a)});class kA extends we{_parse(e){const{ctx:t}=this._processInputParams(e),i=t.data;return this._def.type._parse({data:i,path:t.path,parent:t})}unwrap(){return this._def.type}}class Nf extends we{_parse(e){const{status:t,ctx:i}=this._processInputParams(e);if(i.common.async)return(async()=>{const l=await this._def.in._parseAsync({data:i.data,path:i.path,parent:i});return l.status==="aborted"?pe:l.status==="dirty"?(t.dirty(),no(l.value)):this._def.out._parseAsync({data:l.value,path:i.path,parent:i})})();{const o=this._def.in._parseSync({data:i.data,path:i.path,parent:i});return o.status==="aborted"?pe:o.status==="dirty"?(t.dirty(),{status:"dirty",value:o.value}):this._def.out._parseSync({data:o.value,path:i.path,parent:i})}}static create(e,t){return new Nf({in:e,out:t,typeName:he.ZodPipeline})}}class uf extends we{_parse(e){const t=this._def.innerType._parse(e),i=o=>(zr(o)&&(o.value=Object.freeze(o.value)),o);return Qs(t)?t.then(o=>i(o)):i(t)}unwrap(){return this._def.innerType}}uf.create=(a,e)=>new uf({innerType:a,typeName:he.ZodReadonly,..._e(e)});var he;(function(a){a.ZodString="ZodString",a.ZodNumber="ZodNumber",a.ZodNaN="ZodNaN",a.ZodBigInt="ZodBigInt",a.ZodBoolean="ZodBoolean",a.ZodDate="ZodDate",a.ZodSymbol="ZodSymbol",a.ZodUndefined="ZodUndefined",a.ZodNull="ZodNull",a.ZodAny="ZodAny",a.ZodUnknown="ZodUnknown",a.ZodNever="ZodNever",a.ZodVoid="ZodVoid",a.ZodArray="ZodArray",a.ZodObject="ZodObject",a.ZodUnion="ZodUnion",a.ZodDiscriminatedUnion="ZodDiscriminatedUnion",a.ZodIntersection="ZodIntersection",a.ZodTuple="ZodTuple",a.ZodRecord="ZodRecord",a.ZodMap="ZodMap",a.ZodSet="ZodSet",a.ZodFunction="ZodFunction",a.ZodLazy="ZodLazy",a.ZodLiteral="ZodLiteral",a.ZodEnum="ZodEnum",a.ZodEffects="ZodEffects",a.ZodNativeEnum="ZodNativeEnum",a.ZodOptional="ZodOptional",a.ZodNullable="ZodNullable",a.ZodDefault="ZodDefault",a.ZodCatch="ZodCatch",a.ZodPromise="ZodPromise",a.ZodBranded="ZodBranded",a.ZodPipeline="ZodPipeline",a.ZodReadonly="ZodReadonly"})(he||(he={}));const Ui=un.create,xg=Li.create;Pi.create;const UA=js.create;Gr.create;const bg=rf.create;ci.create;const ao=cn.create,IA=tt.create,OA=el.create;tl.create;Vi.create;const LA=nl.create,PA=of.create,VA=Hr.create;il.create;ui.create;Fr.create;const Ir={string:a=>un.create({...a,coerce:!0}),number:a=>Li.create({...a,coerce:!0}),boolean:a=>js.create({...a,coerce:!0}),bigint:a=>Pi.create({...a,coerce:!0}),date:a=>Gr.create({...a,coerce:!0})};/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */let qA,BA;function zA(){return{geminiUrl:qA,vertexUrl:BA}}function GA(a,e,t){var i,o,l;if(!(!((i=a.httpOptions)===null||i===void 0)&&i.baseUrl)){const f=zA();return a.vertexai?(o=f.vertexUrl)!==null&&o!==void 0?o:e:(l=f.geminiUrl)!==null&&l!==void 0?l:t}return a.httpOptions.baseUrl}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class _o{}function fe(a,e){const t=/\{([^}]+)\}/g;return a.replace(t,(i,o)=>{if(Object.prototype.hasOwnProperty.call(e,o)){const l=e[o];return l!=null?String(l):""}else throw new Error(`Key '${o}' not found in valueMap.`)})}function d(a,e,t){for(let l=0;l<e.length-1;l++){const f=e[l];if(f.endsWith("[]")){const m=f.slice(0,-2);if(!(m in a))if(Array.isArray(t))a[m]=Array.from({length:t.length},()=>({}));else throw new Error(`Value must be a list given an array path ${f}`);if(Array.isArray(a[m])){const g=a[m];if(Array.isArray(t))for(let p=0;p<g.length;p++){const v=g[p];d(v,e.slice(l+1),t[p])}else for(const p of g)d(p,e.slice(l+1),t)}return}else if(f.endsWith("[0]")){const m=f.slice(0,-3);m in a||(a[m]=[{}]);const g=a[m];d(g[0],e.slice(l+1),t);return}(!a[f]||typeof a[f]!="object")&&(a[f]={}),a=a[f]}const i=e[e.length-1],o=a[i];if(o!==void 0){if(!t||typeof t=="object"&&Object.keys(t).length===0||t===o)return;if(typeof o=="object"&&typeof t=="object"&&o!==null&&t!==null)Object.assign(o,t);else throw new Error(`Cannot set value for an existing key. Key: ${i}`)}else a[i]=t}function c(a,e){try{if(e.length===1&&e[0]==="_self")return a;for(let t=0;t<e.length;t++){if(typeof a!="object"||a===null)return;const i=e[t];if(i.endsWith("[]")){const o=i.slice(0,-2);if(o in a){const l=a[o];return Array.isArray(l)?l.map(f=>c(f,e.slice(t+1))):void 0}else return}else a=a[i]}return a}catch(t){if(t instanceof TypeError)return;throw t}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */var Rg;(function(a){a.OUTCOME_UNSPECIFIED="OUTCOME_UNSPECIFIED",a.OUTCOME_OK="OUTCOME_OK",a.OUTCOME_FAILED="OUTCOME_FAILED",a.OUTCOME_DEADLINE_EXCEEDED="OUTCOME_DEADLINE_EXCEEDED"})(Rg||(Rg={}));var Mg;(function(a){a.LANGUAGE_UNSPECIFIED="LANGUAGE_UNSPECIFIED",a.PYTHON="PYTHON"})(Mg||(Mg={}));var ln;(function(a){a.TYPE_UNSPECIFIED="TYPE_UNSPECIFIED",a.STRING="STRING",a.NUMBER="NUMBER",a.INTEGER="INTEGER",a.BOOLEAN="BOOLEAN",a.ARRAY="ARRAY",a.OBJECT="OBJECT",a.NULL="NULL"})(ln||(ln={}));var Dg;(function(a){a.HARM_CATEGORY_UNSPECIFIED="HARM_CATEGORY_UNSPECIFIED",a.HARM_CATEGORY_HATE_SPEECH="HARM_CATEGORY_HATE_SPEECH",a.HARM_CATEGORY_DANGEROUS_CONTENT="HARM_CATEGORY_DANGEROUS_CONTENT",a.HARM_CATEGORY_HARASSMENT="HARM_CATEGORY_HARASSMENT",a.HARM_CATEGORY_SEXUALLY_EXPLICIT="HARM_CATEGORY_SEXUALLY_EXPLICIT",a.HARM_CATEGORY_CIVIC_INTEGRITY="HARM_CATEGORY_CIVIC_INTEGRITY"})(Dg||(Dg={}));var Ng;(function(a){a.HARM_BLOCK_METHOD_UNSPECIFIED="HARM_BLOCK_METHOD_UNSPECIFIED",a.SEVERITY="SEVERITY",a.PROBABILITY="PROBABILITY"})(Ng||(Ng={}));var kg;(function(a){a.HARM_BLOCK_THRESHOLD_UNSPECIFIED="HARM_BLOCK_THRESHOLD_UNSPECIFIED",a.BLOCK_LOW_AND_ABOVE="BLOCK_LOW_AND_ABOVE",a.BLOCK_MEDIUM_AND_ABOVE="BLOCK_MEDIUM_AND_ABOVE",a.BLOCK_ONLY_HIGH="BLOCK_ONLY_HIGH",a.BLOCK_NONE="BLOCK_NONE",a.OFF="OFF"})(kg||(kg={}));var Ug;(function(a){a.MODE_UNSPECIFIED="MODE_UNSPECIFIED",a.MODE_DYNAMIC="MODE_DYNAMIC"})(Ug||(Ug={}));var Ig;(function(a){a.AUTH_TYPE_UNSPECIFIED="AUTH_TYPE_UNSPECIFIED",a.NO_AUTH="NO_AUTH",a.API_KEY_AUTH="API_KEY_AUTH",a.HTTP_BASIC_AUTH="HTTP_BASIC_AUTH",a.GOOGLE_SERVICE_ACCOUNT_AUTH="GOOGLE_SERVICE_ACCOUNT_AUTH",a.OAUTH="OAUTH",a.OIDC_AUTH="OIDC_AUTH"})(Ig||(Ig={}));var Og;(function(a){a.FINISH_REASON_UNSPECIFIED="FINISH_REASON_UNSPECIFIED",a.STOP="STOP",a.MAX_TOKENS="MAX_TOKENS",a.SAFETY="SAFETY",a.RECITATION="RECITATION",a.LANGUAGE="LANGUAGE",a.OTHER="OTHER",a.BLOCKLIST="BLOCKLIST",a.PROHIBITED_CONTENT="PROHIBITED_CONTENT",a.SPII="SPII",a.MALFORMED_FUNCTION_CALL="MALFORMED_FUNCTION_CALL",a.IMAGE_SAFETY="IMAGE_SAFETY"})(Og||(Og={}));var Lg;(function(a){a.HARM_PROBABILITY_UNSPECIFIED="HARM_PROBABILITY_UNSPECIFIED",a.NEGLIGIBLE="NEGLIGIBLE",a.LOW="LOW",a.MEDIUM="MEDIUM",a.HIGH="HIGH"})(Lg||(Lg={}));var Pg;(function(a){a.HARM_SEVERITY_UNSPECIFIED="HARM_SEVERITY_UNSPECIFIED",a.HARM_SEVERITY_NEGLIGIBLE="HARM_SEVERITY_NEGLIGIBLE",a.HARM_SEVERITY_LOW="HARM_SEVERITY_LOW",a.HARM_SEVERITY_MEDIUM="HARM_SEVERITY_MEDIUM",a.HARM_SEVERITY_HIGH="HARM_SEVERITY_HIGH"})(Pg||(Pg={}));var Vg;(function(a){a.BLOCKED_REASON_UNSPECIFIED="BLOCKED_REASON_UNSPECIFIED",a.SAFETY="SAFETY",a.OTHER="OTHER",a.BLOCKLIST="BLOCKLIST",a.PROHIBITED_CONTENT="PROHIBITED_CONTENT"})(Vg||(Vg={}));var qg;(function(a){a.TRAFFIC_TYPE_UNSPECIFIED="TRAFFIC_TYPE_UNSPECIFIED",a.ON_DEMAND="ON_DEMAND",a.PROVISIONED_THROUGHPUT="PROVISIONED_THROUGHPUT"})(qg||(qg={}));var rl;(function(a){a.MODALITY_UNSPECIFIED="MODALITY_UNSPECIFIED",a.TEXT="TEXT",a.IMAGE="IMAGE",a.AUDIO="AUDIO"})(rl||(rl={}));var Bg;(function(a){a.MEDIA_RESOLUTION_UNSPECIFIED="MEDIA_RESOLUTION_UNSPECIFIED",a.MEDIA_RESOLUTION_LOW="MEDIA_RESOLUTION_LOW",a.MEDIA_RESOLUTION_MEDIUM="MEDIA_RESOLUTION_MEDIUM",a.MEDIA_RESOLUTION_HIGH="MEDIA_RESOLUTION_HIGH"})(Bg||(Bg={}));var cf;(function(a){a.JOB_STATE_UNSPECIFIED="JOB_STATE_UNSPECIFIED",a.JOB_STATE_QUEUED="JOB_STATE_QUEUED",a.JOB_STATE_PENDING="JOB_STATE_PENDING",a.JOB_STATE_RUNNING="JOB_STATE_RUNNING",a.JOB_STATE_SUCCEEDED="JOB_STATE_SUCCEEDED",a.JOB_STATE_FAILED="JOB_STATE_FAILED",a.JOB_STATE_CANCELLING="JOB_STATE_CANCELLING",a.JOB_STATE_CANCELLED="JOB_STATE_CANCELLED",a.JOB_STATE_PAUSED="JOB_STATE_PAUSED",a.JOB_STATE_EXPIRED="JOB_STATE_EXPIRED",a.JOB_STATE_UPDATING="JOB_STATE_UPDATING",a.JOB_STATE_PARTIALLY_SUCCEEDED="JOB_STATE_PARTIALLY_SUCCEEDED"})(cf||(cf={}));var zg;(function(a){a.ADAPTER_SIZE_UNSPECIFIED="ADAPTER_SIZE_UNSPECIFIED",a.ADAPTER_SIZE_ONE="ADAPTER_SIZE_ONE",a.ADAPTER_SIZE_TWO="ADAPTER_SIZE_TWO",a.ADAPTER_SIZE_FOUR="ADAPTER_SIZE_FOUR",a.ADAPTER_SIZE_EIGHT="ADAPTER_SIZE_EIGHT",a.ADAPTER_SIZE_SIXTEEN="ADAPTER_SIZE_SIXTEEN",a.ADAPTER_SIZE_THIRTY_TWO="ADAPTER_SIZE_THIRTY_TWO"})(zg||(zg={}));var Gg;(function(a){a.FEATURE_SELECTION_PREFERENCE_UNSPECIFIED="FEATURE_SELECTION_PREFERENCE_UNSPECIFIED",a.PRIORITIZE_QUALITY="PRIORITIZE_QUALITY",a.BALANCED="BALANCED",a.PRIORITIZE_COST="PRIORITIZE_COST"})(Gg||(Gg={}));var Hg;(function(a){a.UNSPECIFIED="UNSPECIFIED",a.BLOCKING="BLOCKING",a.NON_BLOCKING="NON_BLOCKING"})(Hg||(Hg={}));var $g;(function(a){a.MODE_UNSPECIFIED="MODE_UNSPECIFIED",a.MODE_DYNAMIC="MODE_DYNAMIC"})($g||($g={}));var Fg;(function(a){a.MODE_UNSPECIFIED="MODE_UNSPECIFIED",a.AUTO="AUTO",a.ANY="ANY",a.NONE="NONE"})(Fg||(Fg={}));var Yg;(function(a){a.URL_RETRIEVAL_STATUS_UNSPECIFIED="URL_RETRIEVAL_STATUS_UNSPECIFIED",a.URL_RETRIEVAL_STATUS_SUCCESS="URL_RETRIEVAL_STATUS_SUCCESS",a.URL_RETRIEVAL_STATUS_ERROR="URL_RETRIEVAL_STATUS_ERROR"})(Yg||(Yg={}));var Jg;(function(a){a.BLOCK_LOW_AND_ABOVE="BLOCK_LOW_AND_ABOVE",a.BLOCK_MEDIUM_AND_ABOVE="BLOCK_MEDIUM_AND_ABOVE",a.BLOCK_ONLY_HIGH="BLOCK_ONLY_HIGH",a.BLOCK_NONE="BLOCK_NONE"})(Jg||(Jg={}));var Zg;(function(a){a.DONT_ALLOW="DONT_ALLOW",a.ALLOW_ADULT="ALLOW_ADULT",a.ALLOW_ALL="ALLOW_ALL"})(Zg||(Zg={}));var Kg;(function(a){a.auto="auto",a.en="en",a.ja="ja",a.ko="ko",a.hi="hi"})(Kg||(Kg={}));var Xg;(function(a){a.MASK_MODE_DEFAULT="MASK_MODE_DEFAULT",a.MASK_MODE_USER_PROVIDED="MASK_MODE_USER_PROVIDED",a.MASK_MODE_BACKGROUND="MASK_MODE_BACKGROUND",a.MASK_MODE_FOREGROUND="MASK_MODE_FOREGROUND",a.MASK_MODE_SEMANTIC="MASK_MODE_SEMANTIC"})(Xg||(Xg={}));var Qg;(function(a){a.CONTROL_TYPE_DEFAULT="CONTROL_TYPE_DEFAULT",a.CONTROL_TYPE_CANNY="CONTROL_TYPE_CANNY",a.CONTROL_TYPE_SCRIBBLE="CONTROL_TYPE_SCRIBBLE",a.CONTROL_TYPE_FACE_MESH="CONTROL_TYPE_FACE_MESH"})(Qg||(Qg={}));var Wg;(function(a){a.SUBJECT_TYPE_DEFAULT="SUBJECT_TYPE_DEFAULT",a.SUBJECT_TYPE_PERSON="SUBJECT_TYPE_PERSON",a.SUBJECT_TYPE_ANIMAL="SUBJECT_TYPE_ANIMAL",a.SUBJECT_TYPE_PRODUCT="SUBJECT_TYPE_PRODUCT"})(Wg||(Wg={}));var jg;(function(a){a.EDIT_MODE_DEFAULT="EDIT_MODE_DEFAULT",a.EDIT_MODE_INPAINT_REMOVAL="EDIT_MODE_INPAINT_REMOVAL",a.EDIT_MODE_INPAINT_INSERTION="EDIT_MODE_INPAINT_INSERTION",a.EDIT_MODE_OUTPAINT="EDIT_MODE_OUTPAINT",a.EDIT_MODE_CONTROLLED_EDITING="EDIT_MODE_CONTROLLED_EDITING",a.EDIT_MODE_STYLE="EDIT_MODE_STYLE",a.EDIT_MODE_BGSWAP="EDIT_MODE_BGSWAP",a.EDIT_MODE_PRODUCT_IMAGE="EDIT_MODE_PRODUCT_IMAGE"})(jg||(jg={}));var ey;(function(a){a.STATE_UNSPECIFIED="STATE_UNSPECIFIED",a.PROCESSING="PROCESSING",a.ACTIVE="ACTIVE",a.FAILED="FAILED"})(ey||(ey={}));var ty;(function(a){a.SOURCE_UNSPECIFIED="SOURCE_UNSPECIFIED",a.UPLOADED="UPLOADED",a.GENERATED="GENERATED"})(ty||(ty={}));var ny;(function(a){a.MODALITY_UNSPECIFIED="MODALITY_UNSPECIFIED",a.TEXT="TEXT",a.IMAGE="IMAGE",a.VIDEO="VIDEO",a.AUDIO="AUDIO",a.DOCUMENT="DOCUMENT"})(ny||(ny={}));var iy;(function(a){a.START_SENSITIVITY_UNSPECIFIED="START_SENSITIVITY_UNSPECIFIED",a.START_SENSITIVITY_HIGH="START_SENSITIVITY_HIGH",a.START_SENSITIVITY_LOW="START_SENSITIVITY_LOW"})(iy||(iy={}));var ry;(function(a){a.END_SENSITIVITY_UNSPECIFIED="END_SENSITIVITY_UNSPECIFIED",a.END_SENSITIVITY_HIGH="END_SENSITIVITY_HIGH",a.END_SENSITIVITY_LOW="END_SENSITIVITY_LOW"})(ry||(ry={}));var ay;(function(a){a.ACTIVITY_HANDLING_UNSPECIFIED="ACTIVITY_HANDLING_UNSPECIFIED",a.START_OF_ACTIVITY_INTERRUPTS="START_OF_ACTIVITY_INTERRUPTS",a.NO_INTERRUPTION="NO_INTERRUPTION"})(ay||(ay={}));var oy;(function(a){a.TURN_COVERAGE_UNSPECIFIED="TURN_COVERAGE_UNSPECIFIED",a.TURN_INCLUDES_ONLY_ACTIVITY="TURN_INCLUDES_ONLY_ACTIVITY",a.TURN_INCLUDES_ALL_INPUT="TURN_INCLUDES_ALL_INPUT"})(oy||(oy={}));var sy;(function(a){a.SCHEDULING_UNSPECIFIED="SCHEDULING_UNSPECIFIED",a.SILENT="SILENT",a.WHEN_IDLE="WHEN_IDLE",a.INTERRUPT="INTERRUPT"})(sy||(sy={}));var ly;(function(a){a.SCALE_UNSPECIFIED="SCALE_UNSPECIFIED",a.C_MAJOR_A_MINOR="C_MAJOR_A_MINOR",a.D_FLAT_MAJOR_B_FLAT_MINOR="D_FLAT_MAJOR_B_FLAT_MINOR",a.D_MAJOR_B_MINOR="D_MAJOR_B_MINOR",a.E_FLAT_MAJOR_C_MINOR="E_FLAT_MAJOR_C_MINOR",a.E_MAJOR_D_FLAT_MINOR="E_MAJOR_D_FLAT_MINOR",a.F_MAJOR_D_MINOR="F_MAJOR_D_MINOR",a.G_FLAT_MAJOR_E_FLAT_MINOR="G_FLAT_MAJOR_E_FLAT_MINOR",a.G_MAJOR_E_MINOR="G_MAJOR_E_MINOR",a.A_FLAT_MAJOR_F_MINOR="A_FLAT_MAJOR_F_MINOR",a.A_MAJOR_G_FLAT_MINOR="A_MAJOR_G_FLAT_MINOR",a.B_FLAT_MAJOR_G_MINOR="B_FLAT_MAJOR_G_MINOR",a.B_MAJOR_A_FLAT_MINOR="B_MAJOR_A_FLAT_MINOR"})(ly||(ly={}));var uy;(function(a){a.MUSIC_GENERATION_MODE_UNSPECIFIED="MUSIC_GENERATION_MODE_UNSPECIFIED",a.QUALITY="QUALITY",a.DIVERSITY="DIVERSITY"})(uy||(uy={}));var Pr;(function(a){a.PLAYBACK_CONTROL_UNSPECIFIED="PLAYBACK_CONTROL_UNSPECIFIED",a.PLAY="PLAY",a.PAUSE="PAUSE",a.STOP="STOP",a.RESET_CONTEXT="RESET_CONTEXT"})(Pr||(Pr={}));class eo{get text(){var e,t,i,o,l,f,m,g;if(((o=(i=(t=(e=this.candidates)===null||e===void 0?void 0:e[0])===null||t===void 0?void 0:t.content)===null||i===void 0?void 0:i.parts)===null||o===void 0?void 0:o.length)===0)return;this.candidates&&this.candidates.length>1&&console.warn("there are multiple candidates in the response, returning text from the first one.");let p="",v=!1;const _=[];for(const S of(g=(m=(f=(l=this.candidates)===null||l===void 0?void 0:l[0])===null||f===void 0?void 0:f.content)===null||m===void 0?void 0:m.parts)!==null&&g!==void 0?g:[]){for(const[E,A]of Object.entries(S))E!=="text"&&E!=="thought"&&(A!==null||A!==void 0)&&_.push(E);if(typeof S.text=="string"){if(typeof S.thought=="boolean"&&S.thought)continue;v=!0,p+=S.text}}return _.length>0&&console.warn(`there are non-text parts ${_} in the response, returning concatenation of all text parts. Please refer to the non text parts for a full response from model.`),v?p:void 0}get data(){var e,t,i,o,l,f,m,g;if(((o=(i=(t=(e=this.candidates)===null||e===void 0?void 0:e[0])===null||t===void 0?void 0:t.content)===null||i===void 0?void 0:i.parts)===null||o===void 0?void 0:o.length)===0)return;this.candidates&&this.candidates.length>1&&console.warn("there are multiple candidates in the response, returning data from the first one.");let p="";const v=[];for(const _ of(g=(m=(f=(l=this.candidates)===null||l===void 0?void 0:l[0])===null||f===void 0?void 0:f.content)===null||m===void 0?void 0:m.parts)!==null&&g!==void 0?g:[]){for(const[S,E]of Object.entries(_))S!=="inlineData"&&(E!==null||E!==void 0)&&v.push(S);_.inlineData&&typeof _.inlineData.data=="string"&&(p+=atob(_.inlineData.data))}return v.length>0&&console.warn(`there are non-data parts ${v} in the response, returning concatenation of all data parts. Please refer to the non data parts for a full response from model.`),p.length>0?btoa(p):void 0}get functionCalls(){var e,t,i,o,l,f,m,g;if(((o=(i=(t=(e=this.candidates)===null||e===void 0?void 0:e[0])===null||t===void 0?void 0:t.content)===null||i===void 0?void 0:i.parts)===null||o===void 0?void 0:o.length)===0)return;this.candidates&&this.candidates.length>1&&console.warn("there are multiple candidates in the response, returning function calls from the first one.");const p=(g=(m=(f=(l=this.candidates)===null||l===void 0?void 0:l[0])===null||f===void 0?void 0:f.content)===null||m===void 0?void 0:m.parts)===null||g===void 0?void 0:g.filter(v=>v.functionCall).map(v=>v.functionCall).filter(v=>v!==void 0);if((p==null?void 0:p.length)!==0)return p}get executableCode(){var e,t,i,o,l,f,m,g,p;if(((o=(i=(t=(e=this.candidates)===null||e===void 0?void 0:e[0])===null||t===void 0?void 0:t.content)===null||i===void 0?void 0:i.parts)===null||o===void 0?void 0:o.length)===0)return;this.candidates&&this.candidates.length>1&&console.warn("there are multiple candidates in the response, returning executable code from the first one.");const v=(g=(m=(f=(l=this.candidates)===null||l===void 0?void 0:l[0])===null||f===void 0?void 0:f.content)===null||m===void 0?void 0:m.parts)===null||g===void 0?void 0:g.filter(_=>_.executableCode).map(_=>_.executableCode).filter(_=>_!==void 0);if((v==null?void 0:v.length)!==0)return(p=v==null?void 0:v[0])===null||p===void 0?void 0:p.code}get codeExecutionResult(){var e,t,i,o,l,f,m,g,p;if(((o=(i=(t=(e=this.candidates)===null||e===void 0?void 0:e[0])===null||t===void 0?void 0:t.content)===null||i===void 0?void 0:i.parts)===null||o===void 0?void 0:o.length)===0)return;this.candidates&&this.candidates.length>1&&console.warn("there are multiple candidates in the response, returning code execution result from the first one.");const v=(g=(m=(f=(l=this.candidates)===null||l===void 0?void 0:l[0])===null||f===void 0?void 0:f.content)===null||m===void 0?void 0:m.parts)===null||g===void 0?void 0:g.filter(_=>_.codeExecutionResult).map(_=>_.codeExecutionResult).filter(_=>_!==void 0);if((v==null?void 0:v.length)!==0)return(p=v==null?void 0:v[0])===null||p===void 0?void 0:p.output}}class cy{}class fy{}class HA{}class $A{}class dy{}class hy{}class my{}class FA{}class py{}class gy{}class yy{}class YA{}class ff{constructor(e){const t={};for(const i of e.headers.entries())t[i[0]]=i[1];this.headers=t,this.responseInternal=e}json(){return this.responseInternal.json()}}class JA{}class ZA{}class KA{get text(){var e,t,i;let o="",l=!1;const f=[];for(const m of(i=(t=(e=this.serverContent)===null||e===void 0?void 0:e.modelTurn)===null||t===void 0?void 0:t.parts)!==null&&i!==void 0?i:[]){for(const[g,p]of Object.entries(m))g!=="text"&&g!=="thought"&&p!==null&&f.push(g);if(typeof m.text=="string"){if(typeof m.thought=="boolean"&&m.thought)continue;l=!0,o+=m.text}}return f.length>0&&console.warn(`there are non-text parts ${f} in the response, returning concatenation of all text parts. Please refer to the non text parts for a full response from model.`),l?o:void 0}get data(){var e,t,i;let o="";const l=[];for(const f of(i=(t=(e=this.serverContent)===null||e===void 0?void 0:e.modelTurn)===null||t===void 0?void 0:t.parts)!==null&&i!==void 0?i:[]){for(const[m,g]of Object.entries(f))m!=="inlineData"&&g!==null&&l.push(m);f.inlineData&&typeof f.inlineData.data=="string"&&(o+=atob(f.inlineData.data))}return l.length>0&&console.warn(`there are non-data parts ${l} in the response, returning concatenation of all data parts. Please refer to the non data parts for a full response from model.`),o.length>0?btoa(o):void 0}}class XA{get audioChunk(){if(this.serverContent&&this.serverContent.audioChunks&&this.serverContent.audioChunks.length>0)return this.serverContent.audioChunks[0]}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function Ge(a,e){if(!e||typeof e!="string")throw new Error("model is required and must be a string");if(a.isVertexAI()){if(e.startsWith("publishers/")||e.startsWith("projects/")||e.startsWith("models/"))return e;if(e.indexOf("/")>=0){const t=e.split("/",2);return`publishers/${t[0]}/models/${t[1]}`}else return`publishers/google/models/${e}`}else return e.startsWith("models/")||e.startsWith("tunedModels/")?e:`models/${e}`}function Mv(a,e){const t=Ge(a,e);return t?t.startsWith("publishers/")&&a.isVertexAI()?`projects/${a.getProject()}/locations/${a.getLocation()}/${t}`:t.startsWith("models/")&&a.isVertexAI()?`projects/${a.getProject()}/locations/${a.getLocation()}/publishers/google/${t}`:t:""}function Dv(a,e){return Array.isArray(e)?e.map(t=>al(a,t)):[al(a,e)]}function al(a,e){if(typeof e=="object"&&e!==null)return e;throw new Error(`Could not parse input as Blob. Unsupported blob type: ${typeof e}`)}function QA(a,e){const t=al(a,e);if(t.mimeType&&t.mimeType.startsWith("image/"))return t;throw new Error(`Unsupported mime type: ${t.mimeType}`)}function WA(a,e){const t=al(a,e);if(t.mimeType&&t.mimeType.startsWith("audio/"))return t;throw new Error(`Unsupported mime type: ${t.mimeType}`)}function vy(a,e){if(e==null)throw new Error("PartUnion is required");if(typeof e=="object")return e;if(typeof e=="string")return{text:e};throw new Error(`Unsupported part type: ${typeof e}`)}function Nv(a,e){if(e==null||Array.isArray(e)&&e.length===0)throw new Error("PartListUnion is required");return Array.isArray(e)?e.map(t=>vy(a,t)):[vy(a,e)]}function df(a){return a!=null&&typeof a=="object"&&"parts"in a&&Array.isArray(a.parts)}function _y(a){return a!=null&&typeof a=="object"&&"functionCall"in a}function Ty(a){return a!=null&&typeof a=="object"&&"functionResponse"in a}function wt(a,e){if(e==null)throw new Error("ContentUnion is required");return df(e)?e:{role:"user",parts:Nv(a,e)}}function kv(a,e){if(!e)return[];if(a.isVertexAI()&&Array.isArray(e))return e.flatMap(t=>{const i=wt(a,t);return i.parts&&i.parts.length>0&&i.parts[0].text!==void 0?[i.parts[0].text]:[]});if(a.isVertexAI()){const t=wt(a,e);return t.parts&&t.parts.length>0&&t.parts[0].text!==void 0?[t.parts[0].text]:[]}return Array.isArray(e)?e.map(t=>wt(a,t)):[wt(a,e)]}function Wt(a,e){if(e==null||Array.isArray(e)&&e.length===0)throw new Error("contents are required");if(!Array.isArray(e)){if(_y(e)||Ty(e))throw new Error("To specify functionCall or functionResponse parts, please wrap them in a Content object, specifying the role for them");return[wt(a,e)]}const t=[],i=[],o=df(e[0]);for(const l of e){const f=df(l);if(f!=o)throw new Error("Mixing Content and Parts is not supported, please group the parts into a the appropriate Content objects and specify the roles for them");if(f)t.push(l);else{if(_y(l)||Ty(l))throw new Error("To specify functionCall or functionResponse parts, please wrap them, and any other parts, in Content objects as appropriate, specifying the role for them");i.push(l)}}return o||t.push({role:"user",parts:Nv(a,i)}),t}const Sy=VA(["string","number","integer","object","array","boolean","null"]),jA=OA([Sy,ao(Sy)]);function ew(a=!0){const e=PA(()=>{const t=IA({type:jA.optional(),format:Ui().optional(),title:Ui().optional(),description:Ui().optional(),default:bg().optional(),items:e.optional(),minItems:Ir.string().optional(),maxItems:Ir.string().optional(),enum:ao(bg()).optional(),properties:LA(Ui(),e).optional(),required:ao(Ui()).optional(),minProperties:Ir.string().optional(),maxProperties:Ir.string().optional(),propertyOrdering:ao(Ui()).optional(),minimum:xg().optional(),maximum:xg().optional(),minLength:Ir.string().optional(),maxLength:Ir.string().optional(),pattern:Ui().optional(),anyOf:ao(e).optional(),additionalProperties:UA().optional()});return a?t.strict():t});return e}function tw(a,e){a.includes("null")&&(e.nullable=!0);const t=a.filter(i=>i!=="null");if(t.length===1)e.type=Object.keys(ln).includes(t[0].toUpperCase())?ln[t[0].toUpperCase()]:ln.TYPE_UNSPECIFIED;else{e.anyOf=[];for(const i of t)e.anyOf.push({type:Object.keys(ln).includes(i.toUpperCase())?ln[i.toUpperCase()]:ln.TYPE_UNSPECIFIED})}}function uo(a){const e={},t=["items"],i=["anyOf"],o=["properties"];if(a.type&&a.anyOf)throw new Error("type and anyOf cannot be both populated.");const l=a.anyOf;l!=null&&l.length==2&&(l[0].type==="null"?(e.nullable=!0,a=l[1]):l[1].type==="null"&&(e.nullable=!0,a=l[0])),a.type instanceof Array&&tw(a.type,e);for(const[f,m]of Object.entries(a))if(m!=null)if(f=="type"){if(m==="null")throw new Error("type: null can not be the only possible type for the field.");if(m instanceof Array)continue;e.type=Object.keys(ln).includes(m.toUpperCase())?m.toUpperCase():ln.TYPE_UNSPECIFIED}else if(t.includes(f))e[f]=uo(m);else if(i.includes(f)){const g=[];for(const p of m){if(p.type=="null"){e.nullable=!0;continue}g.push(uo(p))}e[f]=g}else if(o.includes(f)){const g={};for(const[p,v]of Object.entries(m))g[p]=uo(v);e[f]=g}else{if(f==="additionalProperties")continue;e[f]=m}return e}function ol(a,e){if(Object.keys(e).includes("$schema")){delete e.$schema;const t=ew().parse(e);return uo(t)}else return uo(e)}function Uv(a,e){if(typeof e=="object")return e;if(typeof e=="string")return{voiceConfig:{prebuiltVoiceConfig:{voiceName:e}}};throw new Error(`Unsupported speechConfig type: ${typeof e}`)}function Iv(a,e){if("multiSpeakerVoiceConfig"in e)throw new Error("multiSpeakerVoiceConfig is not supported in the live API.");return e}function cl(a,e){if(e.functionDeclarations)for(const t of e.functionDeclarations)t.parameters&&(t.parameters=ol(a,t.parameters)),t.response&&(t.response=ol(a,t.response));return e}function fl(a,e){if(e==null)throw new Error("tools is required");if(!Array.isArray(e))throw new Error("tools is required and must be an array of Tools");const t=[];for(const i of e)t.push(i);return t}function nw(a,e,t,i=1){const o=!e.startsWith(`${t}/`)&&e.split("/").length===i;return a.isVertexAI()?e.startsWith("projects/")?e:e.startsWith("locations/")?`projects/${a.getProject()}/${e}`:e.startsWith(`${t}/`)?`projects/${a.getProject()}/locations/${a.getLocation()}/${e}`:o?`projects/${a.getProject()}/locations/${a.getLocation()}/${t}/${e}`:e:o?`${t}/${e}`:e}function di(a,e){if(typeof e!="string")throw new Error("name must be a string");return nw(a,e,"cachedContents")}function Ov(a,e){switch(e){case"STATE_UNSPECIFIED":return"JOB_STATE_UNSPECIFIED";case"CREATING":return"JOB_STATE_RUNNING";case"ACTIVE":return"JOB_STATE_SUCCEEDED";case"FAILED":return"JOB_STATE_FAILED";default:return e}}function hi(a,e){if(typeof e!="string")throw new Error("fromImageBytes must be a string");return e}function iw(a){return a!=null&&typeof a=="object"&&"name"in a}function rw(a){return a!=null&&typeof a=="object"&&"video"in a}function aw(a){return a!=null&&typeof a=="object"&&"uri"in a}function Lv(a,e){var t;let i;if(iw(e)&&(i=e.name),!(aw(e)&&(i=e.uri,i===void 0))&&!(rw(e)&&(i=(t=e.video)===null||t===void 0?void 0:t.uri,i===void 0))){if(typeof e=="string"&&(i=e),i===void 0)throw new Error("Could not extract file name from the provided input.");if(i.startsWith("https://")){const l=i.split("files/")[1].match(/[a-z0-9]+/);if(l===null)throw new Error(`Could not extract file name from URI ${i}`);i=l[0]}else i.startsWith("files/")&&(i=i.split("files/")[1]);return i}}function Pv(a,e){let t;return a.isVertexAI()?t=e?"publishers/google/models":"models":t=e?"models":"tunedModels",t}function Vv(a,e){for(const t of["models","tunedModels","publisherModels"])if(ow(e,t))return e[t];return[]}function ow(a,e){return a!==null&&typeof a=="object"&&e in a}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function sw(a,e){const t={},i=c(e,["fps"]);i!=null&&d(t,["fps"],i);const o=c(e,["endOffset"]);o!=null&&d(t,["endOffset"],o);const l=c(e,["startOffset"]);return l!=null&&d(t,["startOffset"],l),t}function lw(a,e){const t={};if(c(e,["displayName"])!==void 0)throw new Error("displayName parameter is not supported in Gemini API.");const i=c(e,["data"]);i!=null&&d(t,["data"],i);const o=c(e,["mimeType"]);return o!=null&&d(t,["mimeType"],o),t}function uw(a,e){const t={};if(c(e,["displayName"])!==void 0)throw new Error("displayName parameter is not supported in Gemini API.");const i=c(e,["fileUri"]);i!=null&&d(t,["fileUri"],i);const o=c(e,["mimeType"]);return o!=null&&d(t,["mimeType"],o),t}function cw(a,e){const t={},i=c(e,["videoMetadata"]);i!=null&&d(t,["videoMetadata"],sw(a,i));const o=c(e,["thought"]);o!=null&&d(t,["thought"],o);const l=c(e,["inlineData"]);l!=null&&d(t,["inlineData"],lw(a,l));const f=c(e,["fileData"]);f!=null&&d(t,["fileData"],uw(a,f));const m=c(e,["codeExecutionResult"]);m!=null&&d(t,["codeExecutionResult"],m);const g=c(e,["executableCode"]);g!=null&&d(t,["executableCode"],g);const p=c(e,["functionCall"]);p!=null&&d(t,["functionCall"],p);const v=c(e,["functionResponse"]);v!=null&&d(t,["functionResponse"],v);const _=c(e,["text"]);return _!=null&&d(t,["text"],_),t}function Cy(a,e){const t={},i=c(e,["parts"]);if(i!=null){let l=i;Array.isArray(l)&&(l=l.map(f=>cw(a,f))),d(t,["parts"],l)}const o=c(e,["role"]);return o!=null&&d(t,["role"],o),t}function fw(a,e){const t={},i=c(e,["behavior"]);i!=null&&d(t,["behavior"],i);const o=c(e,["description"]);o!=null&&d(t,["description"],o);const l=c(e,["name"]);l!=null&&d(t,["name"],l);const f=c(e,["parameters"]);f!=null&&d(t,["parameters"],f);const m=c(e,["response"]);return m!=null&&d(t,["response"],m),t}function dw(a,e){const t={},i=c(e,["startTime"]);i!=null&&d(t,["startTime"],i);const o=c(e,["endTime"]);return o!=null&&d(t,["endTime"],o),t}function hw(a,e){const t={},i=c(e,["timeRangeFilter"]);return i!=null&&d(t,["timeRangeFilter"],dw(a,i)),t}function mw(a,e){const t={},i=c(e,["mode"]);i!=null&&d(t,["mode"],i);const o=c(e,["dynamicThreshold"]);return o!=null&&d(t,["dynamicThreshold"],o),t}function pw(a,e){const t={},i=c(e,["dynamicRetrievalConfig"]);return i!=null&&d(t,["dynamicRetrievalConfig"],mw(a,i)),t}function gw(){return{}}function yw(a,e){const t={},i=c(e,["functionDeclarations"]);if(i!=null){let g=i;Array.isArray(g)&&(g=g.map(p=>fw(a,p))),d(t,["functionDeclarations"],g)}if(c(e,["retrieval"])!==void 0)throw new Error("retrieval parameter is not supported in Gemini API.");const o=c(e,["googleSearch"]);o!=null&&d(t,["googleSearch"],hw(a,o));const l=c(e,["googleSearchRetrieval"]);if(l!=null&&d(t,["googleSearchRetrieval"],pw(a,l)),c(e,["enterpriseWebSearch"])!==void 0)throw new Error("enterpriseWebSearch parameter is not supported in Gemini API.");if(c(e,["googleMaps"])!==void 0)throw new Error("googleMaps parameter is not supported in Gemini API.");c(e,["urlContext"])!=null&&d(t,["urlContext"],gw());const m=c(e,["codeExecution"]);return m!=null&&d(t,["codeExecution"],m),t}function vw(a,e){const t={},i=c(e,["mode"]);i!=null&&d(t,["mode"],i);const o=c(e,["allowedFunctionNames"]);return o!=null&&d(t,["allowedFunctionNames"],o),t}function _w(a,e){const t={},i=c(e,["latitude"]);i!=null&&d(t,["latitude"],i);const o=c(e,["longitude"]);return o!=null&&d(t,["longitude"],o),t}function Tw(a,e){const t={},i=c(e,["latLng"]);i!=null&&d(t,["latLng"],_w(a,i));const o=c(e,["languageCode"]);return o!=null&&d(t,["languageCode"],o),t}function Sw(a,e){const t={},i=c(e,["functionCallingConfig"]);i!=null&&d(t,["functionCallingConfig"],vw(a,i));const o=c(e,["retrievalConfig"]);return o!=null&&d(t,["retrievalConfig"],Tw(a,o)),t}function Cw(a,e,t){const i={},o=c(e,["ttl"]);t!==void 0&&o!=null&&d(t,["ttl"],o);const l=c(e,["expireTime"]);t!==void 0&&l!=null&&d(t,["expireTime"],l);const f=c(e,["displayName"]);t!==void 0&&f!=null&&d(t,["displayName"],f);const m=c(e,["contents"]);if(t!==void 0&&m!=null){let _=Wt(a,m);Array.isArray(_)&&(_=_.map(S=>Cy(a,S))),d(t,["contents"],_)}const g=c(e,["systemInstruction"]);t!==void 0&&g!=null&&d(t,["systemInstruction"],Cy(a,wt(a,g)));const p=c(e,["tools"]);if(t!==void 0&&p!=null){let _=p;Array.isArray(_)&&(_=_.map(S=>yw(a,S))),d(t,["tools"],_)}const v=c(e,["toolConfig"]);if(t!==void 0&&v!=null&&d(t,["toolConfig"],Sw(a,v)),c(e,["kmsKeyName"])!==void 0)throw new Error("kmsKeyName parameter is not supported in Gemini API.");return i}function Ew(a,e){const t={},i=c(e,["model"]);i!=null&&d(t,["model"],Mv(a,i));const o=c(e,["config"]);return o!=null&&d(t,["config"],Cw(a,o,t)),t}function Aw(a,e){const t={},i=c(e,["name"]);i!=null&&d(t,["_url","name"],di(a,i));const o=c(e,["config"]);return o!=null&&d(t,["config"],o),t}function ww(a,e){const t={},i=c(e,["name"]);i!=null&&d(t,["_url","name"],di(a,i));const o=c(e,["config"]);return o!=null&&d(t,["config"],o),t}function xw(a,e,t){const i={},o=c(e,["ttl"]);t!==void 0&&o!=null&&d(t,["ttl"],o);const l=c(e,["expireTime"]);return t!==void 0&&l!=null&&d(t,["expireTime"],l),i}function bw(a,e){const t={},i=c(e,["name"]);i!=null&&d(t,["_url","name"],di(a,i));const o=c(e,["config"]);return o!=null&&d(t,["config"],xw(a,o,t)),t}function Rw(a,e,t){const i={},o=c(e,["pageSize"]);t!==void 0&&o!=null&&d(t,["_query","pageSize"],o);const l=c(e,["pageToken"]);return t!==void 0&&l!=null&&d(t,["_query","pageToken"],l),i}function Mw(a,e){const t={},i=c(e,["config"]);return i!=null&&d(t,["config"],Rw(a,i,t)),t}function Dw(a,e){const t={},i=c(e,["fps"]);i!=null&&d(t,["fps"],i);const o=c(e,["endOffset"]);o!=null&&d(t,["endOffset"],o);const l=c(e,["startOffset"]);return l!=null&&d(t,["startOffset"],l),t}function Nw(a,e){const t={},i=c(e,["displayName"]);i!=null&&d(t,["displayName"],i);const o=c(e,["data"]);o!=null&&d(t,["data"],o);const l=c(e,["mimeType"]);return l!=null&&d(t,["mimeType"],l),t}function kw(a,e){const t={},i=c(e,["displayName"]);i!=null&&d(t,["displayName"],i);const o=c(e,["fileUri"]);o!=null&&d(t,["fileUri"],o);const l=c(e,["mimeType"]);return l!=null&&d(t,["mimeType"],l),t}function Uw(a,e){const t={},i=c(e,["videoMetadata"]);i!=null&&d(t,["videoMetadata"],Dw(a,i));const o=c(e,["thought"]);o!=null&&d(t,["thought"],o);const l=c(e,["inlineData"]);l!=null&&d(t,["inlineData"],Nw(a,l));const f=c(e,["fileData"]);f!=null&&d(t,["fileData"],kw(a,f));const m=c(e,["codeExecutionResult"]);m!=null&&d(t,["codeExecutionResult"],m);const g=c(e,["executableCode"]);g!=null&&d(t,["executableCode"],g);const p=c(e,["functionCall"]);p!=null&&d(t,["functionCall"],p);const v=c(e,["functionResponse"]);v!=null&&d(t,["functionResponse"],v);const _=c(e,["text"]);return _!=null&&d(t,["text"],_),t}function Ey(a,e){const t={},i=c(e,["parts"]);if(i!=null){let l=i;Array.isArray(l)&&(l=l.map(f=>Uw(a,f))),d(t,["parts"],l)}const o=c(e,["role"]);return o!=null&&d(t,["role"],o),t}function Iw(a,e){const t={};if(c(e,["behavior"])!==void 0)throw new Error("behavior parameter is not supported in Vertex AI.");const i=c(e,["description"]);i!=null&&d(t,["description"],i);const o=c(e,["name"]);o!=null&&d(t,["name"],o);const l=c(e,["parameters"]);l!=null&&d(t,["parameters"],l);const f=c(e,["response"]);return f!=null&&d(t,["response"],f),t}function Ow(a,e){const t={},i=c(e,["startTime"]);i!=null&&d(t,["startTime"],i);const o=c(e,["endTime"]);return o!=null&&d(t,["endTime"],o),t}function Lw(a,e){const t={},i=c(e,["timeRangeFilter"]);return i!=null&&d(t,["timeRangeFilter"],Ow(a,i)),t}function Pw(a,e){const t={},i=c(e,["mode"]);i!=null&&d(t,["mode"],i);const o=c(e,["dynamicThreshold"]);return o!=null&&d(t,["dynamicThreshold"],o),t}function Vw(a,e){const t={},i=c(e,["dynamicRetrievalConfig"]);return i!=null&&d(t,["dynamicRetrievalConfig"],Pw(a,i)),t}function qw(){return{}}function Bw(a,e){const t={},i=c(e,["apiKeyString"]);return i!=null&&d(t,["apiKeyString"],i),t}function zw(a,e){const t={},i=c(e,["apiKeyConfig"]);i!=null&&d(t,["apiKeyConfig"],Bw(a,i));const o=c(e,["authType"]);o!=null&&d(t,["authType"],o);const l=c(e,["googleServiceAccountConfig"]);l!=null&&d(t,["googleServiceAccountConfig"],l);const f=c(e,["httpBasicAuthConfig"]);f!=null&&d(t,["httpBasicAuthConfig"],f);const m=c(e,["oauthConfig"]);m!=null&&d(t,["oauthConfig"],m);const g=c(e,["oidcConfig"]);return g!=null&&d(t,["oidcConfig"],g),t}function Gw(a,e){const t={},i=c(e,["authConfig"]);return i!=null&&d(t,["authConfig"],zw(a,i)),t}function Hw(a,e){const t={},i=c(e,["functionDeclarations"]);if(i!=null){let v=i;Array.isArray(v)&&(v=v.map(_=>Iw(a,_))),d(t,["functionDeclarations"],v)}const o=c(e,["retrieval"]);o!=null&&d(t,["retrieval"],o);const l=c(e,["googleSearch"]);l!=null&&d(t,["googleSearch"],Lw(a,l));const f=c(e,["googleSearchRetrieval"]);f!=null&&d(t,["googleSearchRetrieval"],Vw(a,f)),c(e,["enterpriseWebSearch"])!=null&&d(t,["enterpriseWebSearch"],qw());const g=c(e,["googleMaps"]);if(g!=null&&d(t,["googleMaps"],Gw(a,g)),c(e,["urlContext"])!==void 0)throw new Error("urlContext parameter is not supported in Vertex AI.");const p=c(e,["codeExecution"]);return p!=null&&d(t,["codeExecution"],p),t}function $w(a,e){const t={},i=c(e,["mode"]);i!=null&&d(t,["mode"],i);const o=c(e,["allowedFunctionNames"]);return o!=null&&d(t,["allowedFunctionNames"],o),t}function Fw(a,e){const t={},i=c(e,["latitude"]);i!=null&&d(t,["latitude"],i);const o=c(e,["longitude"]);return o!=null&&d(t,["longitude"],o),t}function Yw(a,e){const t={},i=c(e,["latLng"]);i!=null&&d(t,["latLng"],Fw(a,i));const o=c(e,["languageCode"]);return o!=null&&d(t,["languageCode"],o),t}function Jw(a,e){const t={},i=c(e,["functionCallingConfig"]);i!=null&&d(t,["functionCallingConfig"],$w(a,i));const o=c(e,["retrievalConfig"]);return o!=null&&d(t,["retrievalConfig"],Yw(a,o)),t}function Zw(a,e,t){const i={},o=c(e,["ttl"]);t!==void 0&&o!=null&&d(t,["ttl"],o);const l=c(e,["expireTime"]);t!==void 0&&l!=null&&d(t,["expireTime"],l);const f=c(e,["displayName"]);t!==void 0&&f!=null&&d(t,["displayName"],f);const m=c(e,["contents"]);if(t!==void 0&&m!=null){let S=Wt(a,m);Array.isArray(S)&&(S=S.map(E=>Ey(a,E))),d(t,["contents"],S)}const g=c(e,["systemInstruction"]);t!==void 0&&g!=null&&d(t,["systemInstruction"],Ey(a,wt(a,g)));const p=c(e,["tools"]);if(t!==void 0&&p!=null){let S=p;Array.isArray(S)&&(S=S.map(E=>Hw(a,E))),d(t,["tools"],S)}const v=c(e,["toolConfig"]);t!==void 0&&v!=null&&d(t,["toolConfig"],Jw(a,v));const _=c(e,["kmsKeyName"]);return t!==void 0&&_!=null&&d(t,["encryption_spec","kmsKeyName"],_),i}function Kw(a,e){const t={},i=c(e,["model"]);i!=null&&d(t,["model"],Mv(a,i));const o=c(e,["config"]);return o!=null&&d(t,["config"],Zw(a,o,t)),t}function Xw(a,e){const t={},i=c(e,["name"]);i!=null&&d(t,["_url","name"],di(a,i));const o=c(e,["config"]);return o!=null&&d(t,["config"],o),t}function Qw(a,e){const t={},i=c(e,["name"]);i!=null&&d(t,["_url","name"],di(a,i));const o=c(e,["config"]);return o!=null&&d(t,["config"],o),t}function Ww(a,e,t){const i={},o=c(e,["ttl"]);t!==void 0&&o!=null&&d(t,["ttl"],o);const l=c(e,["expireTime"]);return t!==void 0&&l!=null&&d(t,["expireTime"],l),i}function jw(a,e){const t={},i=c(e,["name"]);i!=null&&d(t,["_url","name"],di(a,i));const o=c(e,["config"]);return o!=null&&d(t,["config"],Ww(a,o,t)),t}function ex(a,e,t){const i={},o=c(e,["pageSize"]);t!==void 0&&o!=null&&d(t,["_query","pageSize"],o);const l=c(e,["pageToken"]);return t!==void 0&&l!=null&&d(t,["_query","pageToken"],l),i}function tx(a,e){const t={},i=c(e,["config"]);return i!=null&&d(t,["config"],ex(a,i,t)),t}function Fs(a,e){const t={},i=c(e,["name"]);i!=null&&d(t,["name"],i);const o=c(e,["displayName"]);o!=null&&d(t,["displayName"],o);const l=c(e,["model"]);l!=null&&d(t,["model"],l);const f=c(e,["createTime"]);f!=null&&d(t,["createTime"],f);const m=c(e,["updateTime"]);m!=null&&d(t,["updateTime"],m);const g=c(e,["expireTime"]);g!=null&&d(t,["expireTime"],g);const p=c(e,["usageMetadata"]);return p!=null&&d(t,["usageMetadata"],p),t}function nx(){return{}}function ix(a,e){const t={},i=c(e,["nextPageToken"]);i!=null&&d(t,["nextPageToken"],i);const o=c(e,["cachedContents"]);if(o!=null){let l=o;Array.isArray(l)&&(l=l.map(f=>Fs(a,f))),d(t,["cachedContents"],l)}return t}function Ys(a,e){const t={},i=c(e,["name"]);i!=null&&d(t,["name"],i);const o=c(e,["displayName"]);o!=null&&d(t,["displayName"],o);const l=c(e,["model"]);l!=null&&d(t,["model"],l);const f=c(e,["createTime"]);f!=null&&d(t,["createTime"],f);const m=c(e,["updateTime"]);m!=null&&d(t,["updateTime"],m);const g=c(e,["expireTime"]);g!=null&&d(t,["expireTime"],g);const p=c(e,["usageMetadata"]);return p!=null&&d(t,["usageMetadata"],p),t}function rx(){return{}}function ax(a,e){const t={},i=c(e,["nextPageToken"]);i!=null&&d(t,["nextPageToken"],i);const o=c(e,["cachedContents"]);if(o!=null){let l=o;Array.isArray(l)&&(l=l.map(f=>Ys(a,f))),d(t,["cachedContents"],l)}return t}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */var Yr;(function(a){a.PAGED_ITEM_BATCH_JOBS="batchJobs",a.PAGED_ITEM_MODELS="models",a.PAGED_ITEM_TUNING_JOBS="tuningJobs",a.PAGED_ITEM_FILES="files",a.PAGED_ITEM_CACHED_CONTENTS="cachedContents"})(Yr||(Yr={}));class dl{constructor(e,t,i,o){this.pageInternal=[],this.paramsInternal={},this.requestInternal=t,this.init(e,i,o)}init(e,t,i){var o,l;this.nameInternal=e,this.pageInternal=t[this.nameInternal]||[],this.idxInternal=0;let f={config:{}};i?typeof i=="object"?f=Object.assign({},i):f=i:f={config:{}},f.config&&(f.config.pageToken=t.nextPageToken),this.paramsInternal=f,this.pageInternalSize=(l=(o=f.config)===null||o===void 0?void 0:o.pageSize)!==null&&l!==void 0?l:this.pageInternal.length}initNextPage(e){this.init(this.nameInternal,e,this.paramsInternal)}get page(){return this.pageInternal}get name(){return this.nameInternal}get pageSize(){return this.pageInternalSize}get params(){return this.paramsInternal}get pageLength(){return this.pageInternal.length}getItem(e){return this.pageInternal[e]}[Symbol.asyncIterator](){return{next:async()=>{if(this.idxInternal>=this.pageLength)if(this.hasNextPage())await this.nextPage();else return{value:void 0,done:!0};const e=this.getItem(this.idxInternal);return this.idxInternal+=1,{value:e,done:!1}},return:async()=>({value:void 0,done:!0})}}async nextPage(){if(!this.hasNextPage())throw new Error("No more pages to fetch.");const e=await this.requestInternal(this.params);return this.initNextPage(e),this.page}hasNextPage(){var e;return((e=this.params.config)===null||e===void 0?void 0:e.pageToken)!==void 0}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class ox extends _o{constructor(e){super(),this.apiClient=e,this.list=async(t={})=>new dl(Yr.PAGED_ITEM_CACHED_CONTENTS,i=>this.listInternal(i),await this.listInternal(t),t)}async create(e){var t,i,o,l;let f,m="",g={};if(this.apiClient.isVertexAI()){const p=Kw(this.apiClient,e);return m=fe("cachedContents",p._url),g=p._query,delete p.config,delete p._url,delete p._query,f=this.apiClient.request({path:m,queryParams:g,body:JSON.stringify(p),httpMethod:"POST",httpOptions:(t=e.config)===null||t===void 0?void 0:t.httpOptions,abortSignal:(i=e.config)===null||i===void 0?void 0:i.abortSignal}).then(v=>v.json()),f.then(v=>Ys(this.apiClient,v))}else{const p=Ew(this.apiClient,e);return m=fe("cachedContents",p._url),g=p._query,delete p.config,delete p._url,delete p._query,f=this.apiClient.request({path:m,queryParams:g,body:JSON.stringify(p),httpMethod:"POST",httpOptions:(o=e.config)===null||o===void 0?void 0:o.httpOptions,abortSignal:(l=e.config)===null||l===void 0?void 0:l.abortSignal}).then(v=>v.json()),f.then(v=>Fs(this.apiClient,v))}}async get(e){var t,i,o,l;let f,m="",g={};if(this.apiClient.isVertexAI()){const p=Xw(this.apiClient,e);return m=fe("{name}",p._url),g=p._query,delete p.config,delete p._url,delete p._query,f=this.apiClient.request({path:m,queryParams:g,body:JSON.stringify(p),httpMethod:"GET",httpOptions:(t=e.config)===null||t===void 0?void 0:t.httpOptions,abortSignal:(i=e.config)===null||i===void 0?void 0:i.abortSignal}).then(v=>v.json()),f.then(v=>Ys(this.apiClient,v))}else{const p=Aw(this.apiClient,e);return m=fe("{name}",p._url),g=p._query,delete p.config,delete p._url,delete p._query,f=this.apiClient.request({path:m,queryParams:g,body:JSON.stringify(p),httpMethod:"GET",httpOptions:(o=e.config)===null||o===void 0?void 0:o.httpOptions,abortSignal:(l=e.config)===null||l===void 0?void 0:l.abortSignal}).then(v=>v.json()),f.then(v=>Fs(this.apiClient,v))}}async delete(e){var t,i,o,l;let f,m="",g={};if(this.apiClient.isVertexAI()){const p=Qw(this.apiClient,e);return m=fe("{name}",p._url),g=p._query,delete p.config,delete p._url,delete p._query,f=this.apiClient.request({path:m,queryParams:g,body:JSON.stringify(p),httpMethod:"DELETE",httpOptions:(t=e.config)===null||t===void 0?void 0:t.httpOptions,abortSignal:(i=e.config)===null||i===void 0?void 0:i.abortSignal}).then(v=>v.json()),f.then(()=>{const v=rx(),_=new gy;return Object.assign(_,v),_})}else{const p=ww(this.apiClient,e);return m=fe("{name}",p._url),g=p._query,delete p.config,delete p._url,delete p._query,f=this.apiClient.request({path:m,queryParams:g,body:JSON.stringify(p),httpMethod:"DELETE",httpOptions:(o=e.config)===null||o===void 0?void 0:o.httpOptions,abortSignal:(l=e.config)===null||l===void 0?void 0:l.abortSignal}).then(v=>v.json()),f.then(()=>{const v=nx(),_=new gy;return Object.assign(_,v),_})}}async update(e){var t,i,o,l;let f,m="",g={};if(this.apiClient.isVertexAI()){const p=jw(this.apiClient,e);return m=fe("{name}",p._url),g=p._query,delete p.config,delete p._url,delete p._query,f=this.apiClient.request({path:m,queryParams:g,body:JSON.stringify(p),httpMethod:"PATCH",httpOptions:(t=e.config)===null||t===void 0?void 0:t.httpOptions,abortSignal:(i=e.config)===null||i===void 0?void 0:i.abortSignal}).then(v=>v.json()),f.then(v=>Ys(this.apiClient,v))}else{const p=bw(this.apiClient,e);return m=fe("{name}",p._url),g=p._query,delete p.config,delete p._url,delete p._query,f=this.apiClient.request({path:m,queryParams:g,body:JSON.stringify(p),httpMethod:"PATCH",httpOptions:(o=e.config)===null||o===void 0?void 0:o.httpOptions,abortSignal:(l=e.config)===null||l===void 0?void 0:l.abortSignal}).then(v=>v.json()),f.then(v=>Fs(this.apiClient,v))}}async listInternal(e){var t,i,o,l;let f,m="",g={};if(this.apiClient.isVertexAI()){const p=tx(this.apiClient,e);return m=fe("cachedContents",p._url),g=p._query,delete p.config,delete p._url,delete p._query,f=this.apiClient.request({path:m,queryParams:g,body:JSON.stringify(p),httpMethod:"GET",httpOptions:(t=e.config)===null||t===void 0?void 0:t.httpOptions,abortSignal:(i=e.config)===null||i===void 0?void 0:i.abortSignal}).then(v=>v.json()),f.then(v=>{const _=ax(this.apiClient,v),S=new yy;return Object.assign(S,_),S})}else{const p=Mw(this.apiClient,e);return m=fe("cachedContents",p._url),g=p._query,delete p.config,delete p._url,delete p._query,f=this.apiClient.request({path:m,queryParams:g,body:JSON.stringify(p),httpMethod:"GET",httpOptions:(o=e.config)===null||o===void 0?void 0:o.httpOptions,abortSignal:(l=e.config)===null||l===void 0?void 0:l.abortSignal}).then(v=>v.json()),f.then(v=>{const _=ix(this.apiClient,v),S=new yy;return Object.assign(S,_),S})}}}function Ay(a){var e=typeof Symbol=="function"&&Symbol.iterator,t=e&&a[e],i=0;if(t)return t.call(a);if(a&&typeof a.length=="number")return{next:function(){return a&&i>=a.length&&(a=void 0),{value:a&&a[i++],done:!a}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")}function Fe(a){return this instanceof Fe?(this.v=a,this):new Fe(a)}function co(a,e,t){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var i=t.apply(a,e||[]),o,l=[];return o=Object.create((typeof AsyncIterator=="function"?AsyncIterator:Object).prototype),m("next"),m("throw"),m("return",f),o[Symbol.asyncIterator]=function(){return this},o;function f(E){return function(A){return Promise.resolve(A).then(E,_)}}function m(E,A){i[E]&&(o[E]=function(b){return new Promise(function(N,O){l.push([E,b,N,O])>1||g(E,b)})},A&&(o[E]=A(o[E])))}function g(E,A){try{p(i[E](A))}catch(b){S(l[0][3],b)}}function p(E){E.value instanceof Fe?Promise.resolve(E.value.v).then(v,_):S(l[0][2],E)}function v(E){g("next",E)}function _(E){g("throw",E)}function S(E,A){E(A),l.shift(),l.length&&g(l[0][0],l[0][1])}}function Js(a){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var e=a[Symbol.asyncIterator],t;return e?e.call(a):(a=typeof Ay=="function"?Ay(a):a[Symbol.iterator](),t={},i("next"),i("throw"),i("return"),t[Symbol.asyncIterator]=function(){return this},t);function i(l){t[l]=a[l]&&function(f){return new Promise(function(m,g){f=a[l](f),o(m,g,f.done,f.value)})}}function o(l,f,m,g){Promise.resolve(g).then(function(p){l({value:p,done:m})},f)}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function sx(a){var e;if(a.candidates==null||a.candidates.length===0)return!1;const t=(e=a.candidates[0])===null||e===void 0?void 0:e.content;return t===void 0?!1:qv(t)}function qv(a){if(a.parts===void 0||a.parts.length===0)return!1;for(const e of a.parts)if(e===void 0||Object.keys(e).length===0||!e.thought&&e.text!==void 0&&e.text==="")return!1;return!0}function lx(a){if(a.length!==0){for(const e of a)if(e.role!=="user"&&e.role!=="model")throw new Error(`Role must be user or model, but got ${e.role}.`)}}function wy(a){if(a===void 0||a.length===0)return[];const e=[],t=a.length;let i=0;for(;i<t;)if(a[i].role==="user")e.push(a[i]),i++;else{const o=[];let l=!0;for(;i<t&&a[i].role==="model";)o.push(a[i]),l&&!qv(a[i])&&(l=!1),i++;l?e.push(...o):e.pop()}return e}class ux{constructor(e,t){this.modelsModule=e,this.apiClient=t}create(e){return new cx(this.apiClient,this.modelsModule,e.model,e.config,structuredClone(e.history))}}class cx{constructor(e,t,i,o={},l=[]){this.apiClient=e,this.modelsModule=t,this.model=i,this.config=o,this.history=l,this.sendPromise=Promise.resolve(),lx(l)}async sendMessage(e){var t;await this.sendPromise;const i=wt(this.apiClient,e.message),o=this.modelsModule.generateContent({model:this.model,contents:this.getHistory(!0).concat(i),config:(t=e.config)!==null&&t!==void 0?t:this.config});return this.sendPromise=(async()=>{var l,f,m;const g=await o,p=(f=(l=g.candidates)===null||l===void 0?void 0:l[0])===null||f===void 0?void 0:f.content,v=g.automaticFunctionCallingHistory,_=this.getHistory(!0).length;let S=[];v!=null&&(S=(m=v.slice(_))!==null&&m!==void 0?m:[]);const E=p?[p]:[];this.recordHistory(i,E,S)})(),await this.sendPromise.catch(()=>{this.sendPromise=Promise.resolve()}),o}async sendMessageStream(e){var t;await this.sendPromise;const i=wt(this.apiClient,e.message),o=this.modelsModule.generateContentStream({model:this.model,contents:this.getHistory(!0).concat(i),config:(t=e.config)!==null&&t!==void 0?t:this.config});this.sendPromise=o.then(()=>{}).catch(()=>{});const l=await o;return this.processStreamResponse(l,i)}getHistory(e=!1){const t=e?wy(this.history):this.history;return structuredClone(t)}processStreamResponse(e,t){var i,o;return co(this,arguments,function*(){var f,m,g,p;const v=[];try{for(var _=!0,S=Js(e),E;E=yield Fe(S.next()),f=E.done,!f;_=!0){p=E.value,_=!1;const A=p;if(sx(A)){const b=(o=(i=A.candidates)===null||i===void 0?void 0:i[0])===null||o===void 0?void 0:o.content;b!==void 0&&v.push(b)}yield yield Fe(A)}}catch(A){m={error:A}}finally{try{!_&&!f&&(g=S.return)&&(yield Fe(g.call(S)))}finally{if(m)throw m.error}}this.recordHistory(t,v)})}recordHistory(e,t,i){let o=[];t.length>0&&t.every(l=>l.role!==void 0)?o=t:o.push({role:"model",parts:[]}),i&&i.length>0?this.history.push(...wy(i)):this.history.push(e),this.history.push(...o)}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function fx(a,e,t){const i={},o=c(e,["pageSize"]);t!==void 0&&o!=null&&d(t,["_query","pageSize"],o);const l=c(e,["pageToken"]);return t!==void 0&&l!=null&&d(t,["_query","pageToken"],l),i}function dx(a,e){const t={},i=c(e,["config"]);return i!=null&&d(t,["config"],fx(a,i,t)),t}function hx(a,e){const t={},i=c(e,["details"]);i!=null&&d(t,["details"],i);const o=c(e,["message"]);o!=null&&d(t,["message"],o);const l=c(e,["code"]);return l!=null&&d(t,["code"],l),t}function mx(a,e){const t={},i=c(e,["name"]);i!=null&&d(t,["name"],i);const o=c(e,["displayName"]);o!=null&&d(t,["displayName"],o);const l=c(e,["mimeType"]);l!=null&&d(t,["mimeType"],l);const f=c(e,["sizeBytes"]);f!=null&&d(t,["sizeBytes"],f);const m=c(e,["createTime"]);m!=null&&d(t,["createTime"],m);const g=c(e,["expirationTime"]);g!=null&&d(t,["expirationTime"],g);const p=c(e,["updateTime"]);p!=null&&d(t,["updateTime"],p);const v=c(e,["sha256Hash"]);v!=null&&d(t,["sha256Hash"],v);const _=c(e,["uri"]);_!=null&&d(t,["uri"],_);const S=c(e,["downloadUri"]);S!=null&&d(t,["downloadUri"],S);const E=c(e,["state"]);E!=null&&d(t,["state"],E);const A=c(e,["source"]);A!=null&&d(t,["source"],A);const b=c(e,["videoMetadata"]);b!=null&&d(t,["videoMetadata"],b);const N=c(e,["error"]);return N!=null&&d(t,["error"],hx(a,N)),t}function px(a,e){const t={},i=c(e,["file"]);i!=null&&d(t,["file"],mx(a,i));const o=c(e,["config"]);return o!=null&&d(t,["config"],o),t}function gx(a,e){const t={},i=c(e,["name"]);i!=null&&d(t,["_url","file"],Lv(a,i));const o=c(e,["config"]);return o!=null&&d(t,["config"],o),t}function yx(a,e){const t={},i=c(e,["name"]);i!=null&&d(t,["_url","file"],Lv(a,i));const o=c(e,["config"]);return o!=null&&d(t,["config"],o),t}function vx(a,e){const t={},i=c(e,["details"]);i!=null&&d(t,["details"],i);const o=c(e,["message"]);o!=null&&d(t,["message"],o);const l=c(e,["code"]);return l!=null&&d(t,["code"],l),t}function hf(a,e){const t={},i=c(e,["name"]);i!=null&&d(t,["name"],i);const o=c(e,["displayName"]);o!=null&&d(t,["displayName"],o);const l=c(e,["mimeType"]);l!=null&&d(t,["mimeType"],l);const f=c(e,["sizeBytes"]);f!=null&&d(t,["sizeBytes"],f);const m=c(e,["createTime"]);m!=null&&d(t,["createTime"],m);const g=c(e,["expirationTime"]);g!=null&&d(t,["expirationTime"],g);const p=c(e,["updateTime"]);p!=null&&d(t,["updateTime"],p);const v=c(e,["sha256Hash"]);v!=null&&d(t,["sha256Hash"],v);const _=c(e,["uri"]);_!=null&&d(t,["uri"],_);const S=c(e,["downloadUri"]);S!=null&&d(t,["downloadUri"],S);const E=c(e,["state"]);E!=null&&d(t,["state"],E);const A=c(e,["source"]);A!=null&&d(t,["source"],A);const b=c(e,["videoMetadata"]);b!=null&&d(t,["videoMetadata"],b);const N=c(e,["error"]);return N!=null&&d(t,["error"],vx(a,N)),t}function _x(a,e){const t={},i=c(e,["nextPageToken"]);i!=null&&d(t,["nextPageToken"],i);const o=c(e,["files"]);if(o!=null){let l=o;Array.isArray(l)&&(l=l.map(f=>hf(a,f))),d(t,["files"],l)}return t}function Tx(){return{}}function Sx(){return{}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class Cx extends _o{constructor(e){super(),this.apiClient=e,this.list=async(t={})=>new dl(Yr.PAGED_ITEM_FILES,i=>this.listInternal(i),await this.listInternal(t),t)}async upload(e){if(this.apiClient.isVertexAI())throw new Error("Vertex AI does not support uploading files. You can share files through a GCS bucket.");return this.apiClient.uploadFile(e.file,e.config).then(t=>hf(this.apiClient,t))}async download(e){await this.apiClient.downloadFile(e)}async listInternal(e){var t,i;let o,l="",f={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const m=dx(this.apiClient,e);return l=fe("files",m._url),f=m._query,delete m.config,delete m._url,delete m._query,o=this.apiClient.request({path:l,queryParams:f,body:JSON.stringify(m),httpMethod:"GET",httpOptions:(t=e.config)===null||t===void 0?void 0:t.httpOptions,abortSignal:(i=e.config)===null||i===void 0?void 0:i.abortSignal}).then(g=>g.json()),o.then(g=>{const p=_x(this.apiClient,g),v=new YA;return Object.assign(v,p),v})}}async createInternal(e){var t,i;let o,l="",f={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const m=px(this.apiClient,e);return l=fe("upload/v1beta/files",m._url),f=m._query,delete m.config,delete m._url,delete m._query,o=this.apiClient.request({path:l,queryParams:f,body:JSON.stringify(m),httpMethod:"POST",httpOptions:(t=e.config)===null||t===void 0?void 0:t.httpOptions,abortSignal:(i=e.config)===null||i===void 0?void 0:i.abortSignal}).then(g=>g.json()),o.then(()=>{const g=Tx(),p=new JA;return Object.assign(p,g),p})}}async get(e){var t,i;let o,l="",f={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const m=gx(this.apiClient,e);return l=fe("files/{file}",m._url),f=m._query,delete m.config,delete m._url,delete m._query,o=this.apiClient.request({path:l,queryParams:f,body:JSON.stringify(m),httpMethod:"GET",httpOptions:(t=e.config)===null||t===void 0?void 0:t.httpOptions,abortSignal:(i=e.config)===null||i===void 0?void 0:i.abortSignal}).then(g=>g.json()),o.then(g=>hf(this.apiClient,g))}}async delete(e){var t,i;let o,l="",f={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const m=yx(this.apiClient,e);return l=fe("files/{file}",m._url),f=m._query,delete m.config,delete m._url,delete m._query,o=this.apiClient.request({path:l,queryParams:f,body:JSON.stringify(m),httpMethod:"DELETE",httpOptions:(t=e.config)===null||t===void 0?void 0:t.httpOptions,abortSignal:(i=e.config)===null||i===void 0?void 0:i.abortSignal}).then(g=>g.json()),o.then(()=>{const g=Sx(),p=new ZA;return Object.assign(p,g),p})}}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function Ex(a,e){const t={},i=c(e,["voiceName"]);return i!=null&&d(t,["voiceName"],i),t}function Ax(a,e){const t={},i=c(e,["voiceName"]);return i!=null&&d(t,["voiceName"],i),t}function Bv(a,e){const t={},i=c(e,["prebuiltVoiceConfig"]);return i!=null&&d(t,["prebuiltVoiceConfig"],Ex(a,i)),t}function wx(a,e){const t={},i=c(e,["prebuiltVoiceConfig"]);return i!=null&&d(t,["prebuiltVoiceConfig"],Ax(a,i)),t}function xx(a,e){const t={},i=c(e,["speaker"]);i!=null&&d(t,["speaker"],i);const o=c(e,["voiceConfig"]);return o!=null&&d(t,["voiceConfig"],Bv(a,o)),t}function bx(a,e){const t={},i=c(e,["speakerVoiceConfigs"]);if(i!=null){let o=i;Array.isArray(o)&&(o=o.map(l=>xx(a,l))),d(t,["speakerVoiceConfigs"],o)}return t}function Rx(a,e){const t={},i=c(e,["voiceConfig"]);i!=null&&d(t,["voiceConfig"],Bv(a,i));const o=c(e,["multiSpeakerVoiceConfig"]);o!=null&&d(t,["multiSpeakerVoiceConfig"],bx(a,o));const l=c(e,["languageCode"]);return l!=null&&d(t,["languageCode"],l),t}function Mx(a,e){const t={},i=c(e,["voiceConfig"]);if(i!=null&&d(t,["voiceConfig"],wx(a,i)),c(e,["multiSpeakerVoiceConfig"])!==void 0)throw new Error("multiSpeakerVoiceConfig parameter is not supported in Vertex AI.");const o=c(e,["languageCode"]);return o!=null&&d(t,["languageCode"],o),t}function Dx(a,e){const t={},i=c(e,["fps"]);i!=null&&d(t,["fps"],i);const o=c(e,["endOffset"]);o!=null&&d(t,["endOffset"],o);const l=c(e,["startOffset"]);return l!=null&&d(t,["startOffset"],l),t}function Nx(a,e){const t={},i=c(e,["fps"]);i!=null&&d(t,["fps"],i);const o=c(e,["endOffset"]);o!=null&&d(t,["endOffset"],o);const l=c(e,["startOffset"]);return l!=null&&d(t,["startOffset"],l),t}function kx(a,e){const t={};if(c(e,["displayName"])!==void 0)throw new Error("displayName parameter is not supported in Gemini API.");const i=c(e,["data"]);i!=null&&d(t,["data"],i);const o=c(e,["mimeType"]);return o!=null&&d(t,["mimeType"],o),t}function Ux(a,e){const t={},i=c(e,["displayName"]);i!=null&&d(t,["displayName"],i);const o=c(e,["data"]);o!=null&&d(t,["data"],o);const l=c(e,["mimeType"]);return l!=null&&d(t,["mimeType"],l),t}function Ix(a,e){const t={};if(c(e,["displayName"])!==void 0)throw new Error("displayName parameter is not supported in Gemini API.");const i=c(e,["fileUri"]);i!=null&&d(t,["fileUri"],i);const o=c(e,["mimeType"]);return o!=null&&d(t,["mimeType"],o),t}function Ox(a,e){const t={},i=c(e,["displayName"]);i!=null&&d(t,["displayName"],i);const o=c(e,["fileUri"]);o!=null&&d(t,["fileUri"],o);const l=c(e,["mimeType"]);return l!=null&&d(t,["mimeType"],l),t}function Lx(a,e){const t={},i=c(e,["videoMetadata"]);i!=null&&d(t,["videoMetadata"],Dx(a,i));const o=c(e,["thought"]);o!=null&&d(t,["thought"],o);const l=c(e,["inlineData"]);l!=null&&d(t,["inlineData"],kx(a,l));const f=c(e,["fileData"]);f!=null&&d(t,["fileData"],Ix(a,f));const m=c(e,["codeExecutionResult"]);m!=null&&d(t,["codeExecutionResult"],m);const g=c(e,["executableCode"]);g!=null&&d(t,["executableCode"],g);const p=c(e,["functionCall"]);p!=null&&d(t,["functionCall"],p);const v=c(e,["functionResponse"]);v!=null&&d(t,["functionResponse"],v);const _=c(e,["text"]);return _!=null&&d(t,["text"],_),t}function Px(a,e){const t={},i=c(e,["videoMetadata"]);i!=null&&d(t,["videoMetadata"],Nx(a,i));const o=c(e,["thought"]);o!=null&&d(t,["thought"],o);const l=c(e,["inlineData"]);l!=null&&d(t,["inlineData"],Ux(a,l));const f=c(e,["fileData"]);f!=null&&d(t,["fileData"],Ox(a,f));const m=c(e,["codeExecutionResult"]);m!=null&&d(t,["codeExecutionResult"],m);const g=c(e,["executableCode"]);g!=null&&d(t,["executableCode"],g);const p=c(e,["functionCall"]);p!=null&&d(t,["functionCall"],p);const v=c(e,["functionResponse"]);v!=null&&d(t,["functionResponse"],v);const _=c(e,["text"]);return _!=null&&d(t,["text"],_),t}function Vx(a,e){const t={},i=c(e,["parts"]);if(i!=null){let l=i;Array.isArray(l)&&(l=l.map(f=>Lx(a,f))),d(t,["parts"],l)}const o=c(e,["role"]);return o!=null&&d(t,["role"],o),t}function qx(a,e){const t={},i=c(e,["parts"]);if(i!=null){let l=i;Array.isArray(l)&&(l=l.map(f=>Px(a,f))),d(t,["parts"],l)}const o=c(e,["role"]);return o!=null&&d(t,["role"],o),t}function Bx(a,e){const t={},i=c(e,["behavior"]);i!=null&&d(t,["behavior"],i);const o=c(e,["description"]);o!=null&&d(t,["description"],o);const l=c(e,["name"]);l!=null&&d(t,["name"],l);const f=c(e,["parameters"]);f!=null&&d(t,["parameters"],f);const m=c(e,["response"]);return m!=null&&d(t,["response"],m),t}function zx(a,e){const t={};if(c(e,["behavior"])!==void 0)throw new Error("behavior parameter is not supported in Vertex AI.");const i=c(e,["description"]);i!=null&&d(t,["description"],i);const o=c(e,["name"]);o!=null&&d(t,["name"],o);const l=c(e,["parameters"]);l!=null&&d(t,["parameters"],l);const f=c(e,["response"]);return f!=null&&d(t,["response"],f),t}function Gx(a,e){const t={},i=c(e,["startTime"]);i!=null&&d(t,["startTime"],i);const o=c(e,["endTime"]);return o!=null&&d(t,["endTime"],o),t}function Hx(a,e){const t={},i=c(e,["startTime"]);i!=null&&d(t,["startTime"],i);const o=c(e,["endTime"]);return o!=null&&d(t,["endTime"],o),t}function $x(a,e){const t={},i=c(e,["timeRangeFilter"]);return i!=null&&d(t,["timeRangeFilter"],Gx(a,i)),t}function Fx(a,e){const t={},i=c(e,["timeRangeFilter"]);return i!=null&&d(t,["timeRangeFilter"],Hx(a,i)),t}function Yx(a,e){const t={},i=c(e,["mode"]);i!=null&&d(t,["mode"],i);const o=c(e,["dynamicThreshold"]);return o!=null&&d(t,["dynamicThreshold"],o),t}function Jx(a,e){const t={},i=c(e,["mode"]);i!=null&&d(t,["mode"],i);const o=c(e,["dynamicThreshold"]);return o!=null&&d(t,["dynamicThreshold"],o),t}function Zx(a,e){const t={},i=c(e,["dynamicRetrievalConfig"]);return i!=null&&d(t,["dynamicRetrievalConfig"],Yx(a,i)),t}function Kx(a,e){const t={},i=c(e,["dynamicRetrievalConfig"]);return i!=null&&d(t,["dynamicRetrievalConfig"],Jx(a,i)),t}function Xx(){return{}}function Qx(a,e){const t={},i=c(e,["apiKeyString"]);return i!=null&&d(t,["apiKeyString"],i),t}function Wx(a,e){const t={},i=c(e,["apiKeyConfig"]);i!=null&&d(t,["apiKeyConfig"],Qx(a,i));const o=c(e,["authType"]);o!=null&&d(t,["authType"],o);const l=c(e,["googleServiceAccountConfig"]);l!=null&&d(t,["googleServiceAccountConfig"],l);const f=c(e,["httpBasicAuthConfig"]);f!=null&&d(t,["httpBasicAuthConfig"],f);const m=c(e,["oauthConfig"]);m!=null&&d(t,["oauthConfig"],m);const g=c(e,["oidcConfig"]);return g!=null&&d(t,["oidcConfig"],g),t}function jx(a,e){const t={},i=c(e,["authConfig"]);return i!=null&&d(t,["authConfig"],Wx(a,i)),t}function eb(){return{}}function tb(a,e){const t={},i=c(e,["functionDeclarations"]);if(i!=null){let g=i;Array.isArray(g)&&(g=g.map(p=>Bx(a,p))),d(t,["functionDeclarations"],g)}if(c(e,["retrieval"])!==void 0)throw new Error("retrieval parameter is not supported in Gemini API.");const o=c(e,["googleSearch"]);o!=null&&d(t,["googleSearch"],$x(a,o));const l=c(e,["googleSearchRetrieval"]);if(l!=null&&d(t,["googleSearchRetrieval"],Zx(a,l)),c(e,["enterpriseWebSearch"])!==void 0)throw new Error("enterpriseWebSearch parameter is not supported in Gemini API.");if(c(e,["googleMaps"])!==void 0)throw new Error("googleMaps parameter is not supported in Gemini API.");c(e,["urlContext"])!=null&&d(t,["urlContext"],eb());const m=c(e,["codeExecution"]);return m!=null&&d(t,["codeExecution"],m),t}function nb(a,e){const t={},i=c(e,["functionDeclarations"]);if(i!=null){let v=i;Array.isArray(v)&&(v=v.map(_=>zx(a,_))),d(t,["functionDeclarations"],v)}const o=c(e,["retrieval"]);o!=null&&d(t,["retrieval"],o);const l=c(e,["googleSearch"]);l!=null&&d(t,["googleSearch"],Fx(a,l));const f=c(e,["googleSearchRetrieval"]);f!=null&&d(t,["googleSearchRetrieval"],Kx(a,f)),c(e,["enterpriseWebSearch"])!=null&&d(t,["enterpriseWebSearch"],Xx());const g=c(e,["googleMaps"]);if(g!=null&&d(t,["googleMaps"],jx(a,g)),c(e,["urlContext"])!==void 0)throw new Error("urlContext parameter is not supported in Vertex AI.");const p=c(e,["codeExecution"]);return p!=null&&d(t,["codeExecution"],p),t}function ib(a,e){const t={},i=c(e,["handle"]);if(i!=null&&d(t,["handle"],i),c(e,["transparent"])!==void 0)throw new Error("transparent parameter is not supported in Gemini API.");return t}function rb(a,e){const t={},i=c(e,["handle"]);i!=null&&d(t,["handle"],i);const o=c(e,["transparent"]);return o!=null&&d(t,["transparent"],o),t}function xy(){return{}}function by(){return{}}function ab(a,e){const t={},i=c(e,["disabled"]);i!=null&&d(t,["disabled"],i);const o=c(e,["startOfSpeechSensitivity"]);o!=null&&d(t,["startOfSpeechSensitivity"],o);const l=c(e,["endOfSpeechSensitivity"]);l!=null&&d(t,["endOfSpeechSensitivity"],l);const f=c(e,["prefixPaddingMs"]);f!=null&&d(t,["prefixPaddingMs"],f);const m=c(e,["silenceDurationMs"]);return m!=null&&d(t,["silenceDurationMs"],m),t}function ob(a,e){const t={},i=c(e,["disabled"]);i!=null&&d(t,["disabled"],i);const o=c(e,["startOfSpeechSensitivity"]);o!=null&&d(t,["startOfSpeechSensitivity"],o);const l=c(e,["endOfSpeechSensitivity"]);l!=null&&d(t,["endOfSpeechSensitivity"],l);const f=c(e,["prefixPaddingMs"]);f!=null&&d(t,["prefixPaddingMs"],f);const m=c(e,["silenceDurationMs"]);return m!=null&&d(t,["silenceDurationMs"],m),t}function sb(a,e){const t={},i=c(e,["automaticActivityDetection"]);i!=null&&d(t,["automaticActivityDetection"],ab(a,i));const o=c(e,["activityHandling"]);o!=null&&d(t,["activityHandling"],o);const l=c(e,["turnCoverage"]);return l!=null&&d(t,["turnCoverage"],l),t}function lb(a,e){const t={},i=c(e,["automaticActivityDetection"]);i!=null&&d(t,["automaticActivityDetection"],ob(a,i));const o=c(e,["activityHandling"]);o!=null&&d(t,["activityHandling"],o);const l=c(e,["turnCoverage"]);return l!=null&&d(t,["turnCoverage"],l),t}function ub(a,e){const t={},i=c(e,["targetTokens"]);return i!=null&&d(t,["targetTokens"],i),t}function cb(a,e){const t={},i=c(e,["targetTokens"]);return i!=null&&d(t,["targetTokens"],i),t}function fb(a,e){const t={},i=c(e,["triggerTokens"]);i!=null&&d(t,["triggerTokens"],i);const o=c(e,["slidingWindow"]);return o!=null&&d(t,["slidingWindow"],ub(a,o)),t}function db(a,e){const t={},i=c(e,["triggerTokens"]);i!=null&&d(t,["triggerTokens"],i);const o=c(e,["slidingWindow"]);return o!=null&&d(t,["slidingWindow"],cb(a,o)),t}function hb(a,e){const t={},i=c(e,["proactiveAudio"]);return i!=null&&d(t,["proactiveAudio"],i),t}function mb(a,e){const t={},i=c(e,["proactiveAudio"]);return i!=null&&d(t,["proactiveAudio"],i),t}function pb(a,e,t){const i={},o=c(e,["generationConfig"]);t!==void 0&&o!=null&&d(t,["setup","generationConfig"],o);const l=c(e,["responseModalities"]);t!==void 0&&l!=null&&d(t,["setup","generationConfig","responseModalities"],l);const f=c(e,["temperature"]);t!==void 0&&f!=null&&d(t,["setup","generationConfig","temperature"],f);const m=c(e,["topP"]);t!==void 0&&m!=null&&d(t,["setup","generationConfig","topP"],m);const g=c(e,["topK"]);t!==void 0&&g!=null&&d(t,["setup","generationConfig","topK"],g);const p=c(e,["maxOutputTokens"]);t!==void 0&&p!=null&&d(t,["setup","generationConfig","maxOutputTokens"],p);const v=c(e,["mediaResolution"]);t!==void 0&&v!=null&&d(t,["setup","generationConfig","mediaResolution"],v);const _=c(e,["seed"]);t!==void 0&&_!=null&&d(t,["setup","generationConfig","seed"],_);const S=c(e,["speechConfig"]);t!==void 0&&S!=null&&d(t,["setup","generationConfig","speechConfig"],Rx(a,Iv(a,S)));const E=c(e,["enableAffectiveDialog"]);t!==void 0&&E!=null&&d(t,["setup","generationConfig","enableAffectiveDialog"],E);const A=c(e,["systemInstruction"]);t!==void 0&&A!=null&&d(t,["setup","systemInstruction"],Vx(a,wt(a,A)));const b=c(e,["tools"]);if(t!==void 0&&b!=null){let oe=fl(a,b);Array.isArray(oe)&&(oe=oe.map(se=>tb(a,cl(a,se)))),d(t,["setup","tools"],oe)}const N=c(e,["sessionResumption"]);t!==void 0&&N!=null&&d(t,["setup","sessionResumption"],ib(a,N));const O=c(e,["inputAudioTranscription"]);t!==void 0&&O!=null&&d(t,["setup","inputAudioTranscription"],xy());const q=c(e,["outputAudioTranscription"]);t!==void 0&&q!=null&&d(t,["setup","outputAudioTranscription"],xy());const H=c(e,["realtimeInputConfig"]);t!==void 0&&H!=null&&d(t,["setup","realtimeInputConfig"],sb(a,H));const J=c(e,["contextWindowCompression"]);t!==void 0&&J!=null&&d(t,["setup","contextWindowCompression"],fb(a,J));const F=c(e,["proactivity"]);return t!==void 0&&F!=null&&d(t,["setup","proactivity"],hb(a,F)),i}function gb(a,e,t){const i={},o=c(e,["generationConfig"]);t!==void 0&&o!=null&&d(t,["setup","generationConfig"],o);const l=c(e,["responseModalities"]);t!==void 0&&l!=null&&d(t,["setup","generationConfig","responseModalities"],l);const f=c(e,["temperature"]);t!==void 0&&f!=null&&d(t,["setup","generationConfig","temperature"],f);const m=c(e,["topP"]);t!==void 0&&m!=null&&d(t,["setup","generationConfig","topP"],m);const g=c(e,["topK"]);t!==void 0&&g!=null&&d(t,["setup","generationConfig","topK"],g);const p=c(e,["maxOutputTokens"]);t!==void 0&&p!=null&&d(t,["setup","generationConfig","maxOutputTokens"],p);const v=c(e,["mediaResolution"]);t!==void 0&&v!=null&&d(t,["setup","generationConfig","mediaResolution"],v);const _=c(e,["seed"]);t!==void 0&&_!=null&&d(t,["setup","generationConfig","seed"],_);const S=c(e,["speechConfig"]);t!==void 0&&S!=null&&d(t,["setup","generationConfig","speechConfig"],Mx(a,Iv(a,S)));const E=c(e,["enableAffectiveDialog"]);t!==void 0&&E!=null&&d(t,["setup","generationConfig","enableAffectiveDialog"],E);const A=c(e,["systemInstruction"]);t!==void 0&&A!=null&&d(t,["setup","systemInstruction"],qx(a,wt(a,A)));const b=c(e,["tools"]);if(t!==void 0&&b!=null){let oe=fl(a,b);Array.isArray(oe)&&(oe=oe.map(se=>nb(a,cl(a,se)))),d(t,["setup","tools"],oe)}const N=c(e,["sessionResumption"]);t!==void 0&&N!=null&&d(t,["setup","sessionResumption"],rb(a,N));const O=c(e,["inputAudioTranscription"]);t!==void 0&&O!=null&&d(t,["setup","inputAudioTranscription"],by());const q=c(e,["outputAudioTranscription"]);t!==void 0&&q!=null&&d(t,["setup","outputAudioTranscription"],by());const H=c(e,["realtimeInputConfig"]);t!==void 0&&H!=null&&d(t,["setup","realtimeInputConfig"],lb(a,H));const J=c(e,["contextWindowCompression"]);t!==void 0&&J!=null&&d(t,["setup","contextWindowCompression"],db(a,J));const F=c(e,["proactivity"]);return t!==void 0&&F!=null&&d(t,["setup","proactivity"],mb(a,F)),i}function yb(a,e){const t={},i=c(e,["model"]);i!=null&&d(t,["setup","model"],Ge(a,i));const o=c(e,["config"]);return o!=null&&d(t,["config"],pb(a,o,t)),t}function vb(a,e){const t={},i=c(e,["model"]);i!=null&&d(t,["setup","model"],Ge(a,i));const o=c(e,["config"]);return o!=null&&d(t,["config"],gb(a,o,t)),t}function _b(){return{}}function Tb(){return{}}function Sb(){return{}}function Cb(){return{}}function Eb(a,e){const t={},i=c(e,["media"]);i!=null&&d(t,["mediaChunks"],Dv(a,i));const o=c(e,["audio"]);o!=null&&d(t,["audio"],WA(a,o));const l=c(e,["audioStreamEnd"]);l!=null&&d(t,["audioStreamEnd"],l);const f=c(e,["video"]);f!=null&&d(t,["video"],QA(a,f));const m=c(e,["text"]);return m!=null&&d(t,["text"],m),c(e,["activityStart"])!=null&&d(t,["activityStart"],_b()),c(e,["activityEnd"])!=null&&d(t,["activityEnd"],Sb()),t}function Ab(a,e){const t={},i=c(e,["media"]);if(i!=null&&d(t,["mediaChunks"],Dv(a,i)),c(e,["audio"])!==void 0)throw new Error("audio parameter is not supported in Vertex AI.");const o=c(e,["audioStreamEnd"]);if(o!=null&&d(t,["audioStreamEnd"],o),c(e,["video"])!==void 0)throw new Error("video parameter is not supported in Vertex AI.");if(c(e,["text"])!==void 0)throw new Error("text parameter is not supported in Vertex AI.");return c(e,["activityStart"])!=null&&d(t,["activityStart"],Tb()),c(e,["activityEnd"])!=null&&d(t,["activityEnd"],Cb()),t}function zv(a,e){const t={},i=c(e,["text"]);i!=null&&d(t,["text"],i);const o=c(e,["weight"]);return o!=null&&d(t,["weight"],o),t}function wb(a,e){const t={},i=c(e,["weightedPrompts"]);if(i!=null){let o=i;Array.isArray(o)&&(o=o.map(l=>zv(a,l))),d(t,["weightedPrompts"],o)}return t}function Gv(a,e){const t={},i=c(e,["temperature"]);i!=null&&d(t,["temperature"],i);const o=c(e,["topK"]);o!=null&&d(t,["topK"],o);const l=c(e,["seed"]);l!=null&&d(t,["seed"],l);const f=c(e,["guidance"]);f!=null&&d(t,["guidance"],f);const m=c(e,["bpm"]);m!=null&&d(t,["bpm"],m);const g=c(e,["density"]);g!=null&&d(t,["density"],g);const p=c(e,["brightness"]);p!=null&&d(t,["brightness"],p);const v=c(e,["scale"]);v!=null&&d(t,["scale"],v);const _=c(e,["muteBass"]);_!=null&&d(t,["muteBass"],_);const S=c(e,["muteDrums"]);S!=null&&d(t,["muteDrums"],S);const E=c(e,["onlyBassAndDrums"]);E!=null&&d(t,["onlyBassAndDrums"],E);const A=c(e,["musicGenerationMode"]);return A!=null&&d(t,["musicGenerationMode"],A),t}function xb(a,e){const t={},i=c(e,["musicGenerationConfig"]);return i!=null&&d(t,["musicGenerationConfig"],Gv(a,i)),t}function Hv(a,e){const t={},i=c(e,["model"]);return i!=null&&d(t,["model"],i),t}function $v(a,e){const t={},i=c(e,["weightedPrompts"]);if(i!=null){let o=i;Array.isArray(o)&&(o=o.map(l=>zv(a,l))),d(t,["weightedPrompts"],o)}return t}function mf(a,e){const t={},i=c(e,["setup"]);i!=null&&d(t,["setup"],Hv(a,i));const o=c(e,["clientContent"]);o!=null&&d(t,["clientContent"],$v(a,o));const l=c(e,["musicGenerationConfig"]);l!=null&&d(t,["musicGenerationConfig"],Gv(a,l));const f=c(e,["playbackControl"]);return f!=null&&d(t,["playbackControl"],f),t}function bb(){return{}}function Rb(){return{}}function Mb(a,e){const t={},i=c(e,["fps"]);i!=null&&d(t,["fps"],i);const o=c(e,["endOffset"]);o!=null&&d(t,["endOffset"],o);const l=c(e,["startOffset"]);return l!=null&&d(t,["startOffset"],l),t}function Db(a,e){const t={},i=c(e,["fps"]);i!=null&&d(t,["fps"],i);const o=c(e,["endOffset"]);o!=null&&d(t,["endOffset"],o);const l=c(e,["startOffset"]);return l!=null&&d(t,["startOffset"],l),t}function Nb(a,e){const t={},i=c(e,["data"]);i!=null&&d(t,["data"],i);const o=c(e,["mimeType"]);return o!=null&&d(t,["mimeType"],o),t}function kb(a,e){const t={},i=c(e,["displayName"]);i!=null&&d(t,["displayName"],i);const o=c(e,["data"]);o!=null&&d(t,["data"],o);const l=c(e,["mimeType"]);return l!=null&&d(t,["mimeType"],l),t}function Ub(a,e){const t={},i=c(e,["fileUri"]);i!=null&&d(t,["fileUri"],i);const o=c(e,["mimeType"]);return o!=null&&d(t,["mimeType"],o),t}function Ib(a,e){const t={},i=c(e,["displayName"]);i!=null&&d(t,["displayName"],i);const o=c(e,["fileUri"]);o!=null&&d(t,["fileUri"],o);const l=c(e,["mimeType"]);return l!=null&&d(t,["mimeType"],l),t}function Ob(a,e){const t={},i=c(e,["videoMetadata"]);i!=null&&d(t,["videoMetadata"],Mb(a,i));const o=c(e,["thought"]);o!=null&&d(t,["thought"],o);const l=c(e,["inlineData"]);l!=null&&d(t,["inlineData"],Nb(a,l));const f=c(e,["fileData"]);f!=null&&d(t,["fileData"],Ub(a,f));const m=c(e,["codeExecutionResult"]);m!=null&&d(t,["codeExecutionResult"],m);const g=c(e,["executableCode"]);g!=null&&d(t,["executableCode"],g);const p=c(e,["functionCall"]);p!=null&&d(t,["functionCall"],p);const v=c(e,["functionResponse"]);v!=null&&d(t,["functionResponse"],v);const _=c(e,["text"]);return _!=null&&d(t,["text"],_),t}function Lb(a,e){const t={},i=c(e,["videoMetadata"]);i!=null&&d(t,["videoMetadata"],Db(a,i));const o=c(e,["thought"]);o!=null&&d(t,["thought"],o);const l=c(e,["inlineData"]);l!=null&&d(t,["inlineData"],kb(a,l));const f=c(e,["fileData"]);f!=null&&d(t,["fileData"],Ib(a,f));const m=c(e,["codeExecutionResult"]);m!=null&&d(t,["codeExecutionResult"],m);const g=c(e,["executableCode"]);g!=null&&d(t,["executableCode"],g);const p=c(e,["functionCall"]);p!=null&&d(t,["functionCall"],p);const v=c(e,["functionResponse"]);v!=null&&d(t,["functionResponse"],v);const _=c(e,["text"]);return _!=null&&d(t,["text"],_),t}function Pb(a,e){const t={},i=c(e,["parts"]);if(i!=null){let l=i;Array.isArray(l)&&(l=l.map(f=>Ob(a,f))),d(t,["parts"],l)}const o=c(e,["role"]);return o!=null&&d(t,["role"],o),t}function Vb(a,e){const t={},i=c(e,["parts"]);if(i!=null){let l=i;Array.isArray(l)&&(l=l.map(f=>Lb(a,f))),d(t,["parts"],l)}const o=c(e,["role"]);return o!=null&&d(t,["role"],o),t}function Ry(a,e){const t={},i=c(e,["text"]);i!=null&&d(t,["text"],i);const o=c(e,["finished"]);return o!=null&&d(t,["finished"],o),t}function My(a,e){const t={},i=c(e,["text"]);i!=null&&d(t,["text"],i);const o=c(e,["finished"]);return o!=null&&d(t,["finished"],o),t}function qb(a,e){const t={},i=c(e,["retrievedUrl"]);i!=null&&d(t,["retrievedUrl"],i);const o=c(e,["urlRetrievalStatus"]);return o!=null&&d(t,["urlRetrievalStatus"],o),t}function Bb(a,e){const t={},i=c(e,["urlMetadata"]);if(i!=null){let o=i;Array.isArray(o)&&(o=o.map(l=>qb(a,l))),d(t,["urlMetadata"],o)}return t}function zb(a,e){const t={},i=c(e,["modelTurn"]);i!=null&&d(t,["modelTurn"],Pb(a,i));const o=c(e,["turnComplete"]);o!=null&&d(t,["turnComplete"],o);const l=c(e,["interrupted"]);l!=null&&d(t,["interrupted"],l);const f=c(e,["groundingMetadata"]);f!=null&&d(t,["groundingMetadata"],f);const m=c(e,["generationComplete"]);m!=null&&d(t,["generationComplete"],m);const g=c(e,["inputTranscription"]);g!=null&&d(t,["inputTranscription"],Ry(a,g));const p=c(e,["outputTranscription"]);p!=null&&d(t,["outputTranscription"],Ry(a,p));const v=c(e,["urlContextMetadata"]);return v!=null&&d(t,["urlContextMetadata"],Bb(a,v)),t}function Gb(a,e){const t={},i=c(e,["modelTurn"]);i!=null&&d(t,["modelTurn"],Vb(a,i));const o=c(e,["turnComplete"]);o!=null&&d(t,["turnComplete"],o);const l=c(e,["interrupted"]);l!=null&&d(t,["interrupted"],l);const f=c(e,["groundingMetadata"]);f!=null&&d(t,["groundingMetadata"],f);const m=c(e,["generationComplete"]);m!=null&&d(t,["generationComplete"],m);const g=c(e,["inputTranscription"]);g!=null&&d(t,["inputTranscription"],My(a,g));const p=c(e,["outputTranscription"]);return p!=null&&d(t,["outputTranscription"],My(a,p)),t}function Hb(a,e){const t={},i=c(e,["id"]);i!=null&&d(t,["id"],i);const o=c(e,["args"]);o!=null&&d(t,["args"],o);const l=c(e,["name"]);return l!=null&&d(t,["name"],l),t}function $b(a,e){const t={},i=c(e,["args"]);i!=null&&d(t,["args"],i);const o=c(e,["name"]);return o!=null&&d(t,["name"],o),t}function Fb(a,e){const t={},i=c(e,["functionCalls"]);if(i!=null){let o=i;Array.isArray(o)&&(o=o.map(l=>Hb(a,l))),d(t,["functionCalls"],o)}return t}function Yb(a,e){const t={},i=c(e,["functionCalls"]);if(i!=null){let o=i;Array.isArray(o)&&(o=o.map(l=>$b(a,l))),d(t,["functionCalls"],o)}return t}function Jb(a,e){const t={},i=c(e,["ids"]);return i!=null&&d(t,["ids"],i),t}function Zb(a,e){const t={},i=c(e,["ids"]);return i!=null&&d(t,["ids"],i),t}function zs(a,e){const t={},i=c(e,["modality"]);i!=null&&d(t,["modality"],i);const o=c(e,["tokenCount"]);return o!=null&&d(t,["tokenCount"],o),t}function Gs(a,e){const t={},i=c(e,["modality"]);i!=null&&d(t,["modality"],i);const o=c(e,["tokenCount"]);return o!=null&&d(t,["tokenCount"],o),t}function Kb(a,e){const t={},i=c(e,["promptTokenCount"]);i!=null&&d(t,["promptTokenCount"],i);const o=c(e,["cachedContentTokenCount"]);o!=null&&d(t,["cachedContentTokenCount"],o);const l=c(e,["responseTokenCount"]);l!=null&&d(t,["responseTokenCount"],l);const f=c(e,["toolUsePromptTokenCount"]);f!=null&&d(t,["toolUsePromptTokenCount"],f);const m=c(e,["thoughtsTokenCount"]);m!=null&&d(t,["thoughtsTokenCount"],m);const g=c(e,["totalTokenCount"]);g!=null&&d(t,["totalTokenCount"],g);const p=c(e,["promptTokensDetails"]);if(p!=null){let E=p;Array.isArray(E)&&(E=E.map(A=>zs(a,A))),d(t,["promptTokensDetails"],E)}const v=c(e,["cacheTokensDetails"]);if(v!=null){let E=v;Array.isArray(E)&&(E=E.map(A=>zs(a,A))),d(t,["cacheTokensDetails"],E)}const _=c(e,["responseTokensDetails"]);if(_!=null){let E=_;Array.isArray(E)&&(E=E.map(A=>zs(a,A))),d(t,["responseTokensDetails"],E)}const S=c(e,["toolUsePromptTokensDetails"]);if(S!=null){let E=S;Array.isArray(E)&&(E=E.map(A=>zs(a,A))),d(t,["toolUsePromptTokensDetails"],E)}return t}function Xb(a,e){const t={},i=c(e,["promptTokenCount"]);i!=null&&d(t,["promptTokenCount"],i);const o=c(e,["cachedContentTokenCount"]);o!=null&&d(t,["cachedContentTokenCount"],o);const l=c(e,["candidatesTokenCount"]);l!=null&&d(t,["responseTokenCount"],l);const f=c(e,["toolUsePromptTokenCount"]);f!=null&&d(t,["toolUsePromptTokenCount"],f);const m=c(e,["thoughtsTokenCount"]);m!=null&&d(t,["thoughtsTokenCount"],m);const g=c(e,["totalTokenCount"]);g!=null&&d(t,["totalTokenCount"],g);const p=c(e,["promptTokensDetails"]);if(p!=null){let A=p;Array.isArray(A)&&(A=A.map(b=>Gs(a,b))),d(t,["promptTokensDetails"],A)}const v=c(e,["cacheTokensDetails"]);if(v!=null){let A=v;Array.isArray(A)&&(A=A.map(b=>Gs(a,b))),d(t,["cacheTokensDetails"],A)}const _=c(e,["candidatesTokensDetails"]);if(_!=null){let A=_;Array.isArray(A)&&(A=A.map(b=>Gs(a,b))),d(t,["responseTokensDetails"],A)}const S=c(e,["toolUsePromptTokensDetails"]);if(S!=null){let A=S;Array.isArray(A)&&(A=A.map(b=>Gs(a,b))),d(t,["toolUsePromptTokensDetails"],A)}const E=c(e,["trafficType"]);return E!=null&&d(t,["trafficType"],E),t}function Qb(a,e){const t={},i=c(e,["timeLeft"]);return i!=null&&d(t,["timeLeft"],i),t}function Wb(a,e){const t={},i=c(e,["timeLeft"]);return i!=null&&d(t,["timeLeft"],i),t}function jb(a,e){const t={},i=c(e,["newHandle"]);i!=null&&d(t,["newHandle"],i);const o=c(e,["resumable"]);o!=null&&d(t,["resumable"],o);const l=c(e,["lastConsumedClientMessageIndex"]);return l!=null&&d(t,["lastConsumedClientMessageIndex"],l),t}function eR(a,e){const t={},i=c(e,["newHandle"]);i!=null&&d(t,["newHandle"],i);const o=c(e,["resumable"]);o!=null&&d(t,["resumable"],o);const l=c(e,["lastConsumedClientMessageIndex"]);return l!=null&&d(t,["lastConsumedClientMessageIndex"],l),t}function tR(a,e){const t={};c(e,["setupComplete"])!=null&&d(t,["setupComplete"],bb());const o=c(e,["serverContent"]);o!=null&&d(t,["serverContent"],zb(a,o));const l=c(e,["toolCall"]);l!=null&&d(t,["toolCall"],Fb(a,l));const f=c(e,["toolCallCancellation"]);f!=null&&d(t,["toolCallCancellation"],Jb(a,f));const m=c(e,["usageMetadata"]);m!=null&&d(t,["usageMetadata"],Kb(a,m));const g=c(e,["goAway"]);g!=null&&d(t,["goAway"],Qb(a,g));const p=c(e,["sessionResumptionUpdate"]);return p!=null&&d(t,["sessionResumptionUpdate"],jb(a,p)),t}function nR(a,e){const t={};c(e,["setupComplete"])!=null&&d(t,["setupComplete"],Rb());const o=c(e,["serverContent"]);o!=null&&d(t,["serverContent"],Gb(a,o));const l=c(e,["toolCall"]);l!=null&&d(t,["toolCall"],Yb(a,l));const f=c(e,["toolCallCancellation"]);f!=null&&d(t,["toolCallCancellation"],Zb(a,f));const m=c(e,["usageMetadata"]);m!=null&&d(t,["usageMetadata"],Xb(a,m));const g=c(e,["goAway"]);g!=null&&d(t,["goAway"],Wb(a,g));const p=c(e,["sessionResumptionUpdate"]);return p!=null&&d(t,["sessionResumptionUpdate"],eR(a,p)),t}function iR(){return{}}function rR(a,e){const t={},i=c(e,["text"]);i!=null&&d(t,["text"],i);const o=c(e,["weight"]);return o!=null&&d(t,["weight"],o),t}function aR(a,e){const t={},i=c(e,["weightedPrompts"]);if(i!=null){let o=i;Array.isArray(o)&&(o=o.map(l=>rR(a,l))),d(t,["weightedPrompts"],o)}return t}function oR(a,e){const t={},i=c(e,["temperature"]);i!=null&&d(t,["temperature"],i);const o=c(e,["topK"]);o!=null&&d(t,["topK"],o);const l=c(e,["seed"]);l!=null&&d(t,["seed"],l);const f=c(e,["guidance"]);f!=null&&d(t,["guidance"],f);const m=c(e,["bpm"]);m!=null&&d(t,["bpm"],m);const g=c(e,["density"]);g!=null&&d(t,["density"],g);const p=c(e,["brightness"]);p!=null&&d(t,["brightness"],p);const v=c(e,["scale"]);v!=null&&d(t,["scale"],v);const _=c(e,["muteBass"]);_!=null&&d(t,["muteBass"],_);const S=c(e,["muteDrums"]);S!=null&&d(t,["muteDrums"],S);const E=c(e,["onlyBassAndDrums"]);E!=null&&d(t,["onlyBassAndDrums"],E);const A=c(e,["musicGenerationMode"]);return A!=null&&d(t,["musicGenerationMode"],A),t}function sR(a,e){const t={},i=c(e,["clientContent"]);i!=null&&d(t,["clientContent"],aR(a,i));const o=c(e,["musicGenerationConfig"]);return o!=null&&d(t,["musicGenerationConfig"],oR(a,o)),t}function lR(a,e){const t={},i=c(e,["data"]);i!=null&&d(t,["data"],i);const o=c(e,["mimeType"]);o!=null&&d(t,["mimeType"],o);const l=c(e,["sourceMetadata"]);return l!=null&&d(t,["sourceMetadata"],sR(a,l)),t}function uR(a,e){const t={},i=c(e,["audioChunks"]);if(i!=null){let o=i;Array.isArray(o)&&(o=o.map(l=>lR(a,l))),d(t,["audioChunks"],o)}return t}function cR(a,e){const t={},i=c(e,["text"]);i!=null&&d(t,["text"],i);const o=c(e,["filteredReason"]);return o!=null&&d(t,["filteredReason"],o),t}function fR(a,e){const t={};c(e,["setupComplete"])!=null&&d(t,["setupComplete"],iR());const o=c(e,["serverContent"]);o!=null&&d(t,["serverContent"],uR(a,o));const l=c(e,["filteredPrompt"]);return l!=null&&d(t,["filteredPrompt"],cR(a,l)),t}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function dR(a,e){const t={},i=c(e,["fps"]);i!=null&&d(t,["fps"],i);const o=c(e,["endOffset"]);o!=null&&d(t,["endOffset"],o);const l=c(e,["startOffset"]);return l!=null&&d(t,["startOffset"],l),t}function hR(a,e){const t={};if(c(e,["displayName"])!==void 0)throw new Error("displayName parameter is not supported in Gemini API.");const i=c(e,["data"]);i!=null&&d(t,["data"],i);const o=c(e,["mimeType"]);return o!=null&&d(t,["mimeType"],o),t}function mR(a,e){const t={};if(c(e,["displayName"])!==void 0)throw new Error("displayName parameter is not supported in Gemini API.");const i=c(e,["fileUri"]);i!=null&&d(t,["fileUri"],i);const o=c(e,["mimeType"]);return o!=null&&d(t,["mimeType"],o),t}function pR(a,e){const t={},i=c(e,["videoMetadata"]);i!=null&&d(t,["videoMetadata"],dR(a,i));const o=c(e,["thought"]);o!=null&&d(t,["thought"],o);const l=c(e,["inlineData"]);l!=null&&d(t,["inlineData"],hR(a,l));const f=c(e,["fileData"]);f!=null&&d(t,["fileData"],mR(a,f));const m=c(e,["codeExecutionResult"]);m!=null&&d(t,["codeExecutionResult"],m);const g=c(e,["executableCode"]);g!=null&&d(t,["executableCode"],g);const p=c(e,["functionCall"]);p!=null&&d(t,["functionCall"],p);const v=c(e,["functionResponse"]);v!=null&&d(t,["functionResponse"],v);const _=c(e,["text"]);return _!=null&&d(t,["text"],_),t}function hl(a,e){const t={},i=c(e,["parts"]);if(i!=null){let l=i;Array.isArray(l)&&(l=l.map(f=>pR(a,f))),d(t,["parts"],l)}const o=c(e,["role"]);return o!=null&&d(t,["role"],o),t}function gR(a,e){const t={},i=c(e,["anyOf"]);i!=null&&d(t,["anyOf"],i);const o=c(e,["default"]);o!=null&&d(t,["default"],o);const l=c(e,["description"]);l!=null&&d(t,["description"],l);const f=c(e,["enum"]);f!=null&&d(t,["enum"],f);const m=c(e,["example"]);m!=null&&d(t,["example"],m);const g=c(e,["format"]);g!=null&&d(t,["format"],g);const p=c(e,["items"]);p!=null&&d(t,["items"],p);const v=c(e,["maxItems"]);v!=null&&d(t,["maxItems"],v);const _=c(e,["maxLength"]);_!=null&&d(t,["maxLength"],_);const S=c(e,["maxProperties"]);S!=null&&d(t,["maxProperties"],S);const E=c(e,["maximum"]);E!=null&&d(t,["maximum"],E);const A=c(e,["minItems"]);A!=null&&d(t,["minItems"],A);const b=c(e,["minLength"]);b!=null&&d(t,["minLength"],b);const N=c(e,["minProperties"]);N!=null&&d(t,["minProperties"],N);const O=c(e,["minimum"]);O!=null&&d(t,["minimum"],O);const q=c(e,["nullable"]);q!=null&&d(t,["nullable"],q);const H=c(e,["pattern"]);H!=null&&d(t,["pattern"],H);const J=c(e,["properties"]);J!=null&&d(t,["properties"],J);const F=c(e,["propertyOrdering"]);F!=null&&d(t,["propertyOrdering"],F);const oe=c(e,["required"]);oe!=null&&d(t,["required"],oe);const se=c(e,["title"]);se!=null&&d(t,["title"],se);const ve=c(e,["type"]);return ve!=null&&d(t,["type"],ve),t}function yR(a,e){const t={};if(c(e,["method"])!==void 0)throw new Error("method parameter is not supported in Gemini API.");const i=c(e,["category"]);i!=null&&d(t,["category"],i);const o=c(e,["threshold"]);return o!=null&&d(t,["threshold"],o),t}function vR(a,e){const t={},i=c(e,["behavior"]);i!=null&&d(t,["behavior"],i);const o=c(e,["description"]);o!=null&&d(t,["description"],o);const l=c(e,["name"]);l!=null&&d(t,["name"],l);const f=c(e,["parameters"]);f!=null&&d(t,["parameters"],f);const m=c(e,["response"]);return m!=null&&d(t,["response"],m),t}function _R(a,e){const t={},i=c(e,["startTime"]);i!=null&&d(t,["startTime"],i);const o=c(e,["endTime"]);return o!=null&&d(t,["endTime"],o),t}function TR(a,e){const t={},i=c(e,["timeRangeFilter"]);return i!=null&&d(t,["timeRangeFilter"],_R(a,i)),t}function SR(a,e){const t={},i=c(e,["mode"]);i!=null&&d(t,["mode"],i);const o=c(e,["dynamicThreshold"]);return o!=null&&d(t,["dynamicThreshold"],o),t}function CR(a,e){const t={},i=c(e,["dynamicRetrievalConfig"]);return i!=null&&d(t,["dynamicRetrievalConfig"],SR(a,i)),t}function ER(){return{}}function AR(a,e){const t={},i=c(e,["functionDeclarations"]);if(i!=null){let g=i;Array.isArray(g)&&(g=g.map(p=>vR(a,p))),d(t,["functionDeclarations"],g)}if(c(e,["retrieval"])!==void 0)throw new Error("retrieval parameter is not supported in Gemini API.");const o=c(e,["googleSearch"]);o!=null&&d(t,["googleSearch"],TR(a,o));const l=c(e,["googleSearchRetrieval"]);if(l!=null&&d(t,["googleSearchRetrieval"],CR(a,l)),c(e,["enterpriseWebSearch"])!==void 0)throw new Error("enterpriseWebSearch parameter is not supported in Gemini API.");if(c(e,["googleMaps"])!==void 0)throw new Error("googleMaps parameter is not supported in Gemini API.");c(e,["urlContext"])!=null&&d(t,["urlContext"],ER());const m=c(e,["codeExecution"]);return m!=null&&d(t,["codeExecution"],m),t}function wR(a,e){const t={},i=c(e,["mode"]);i!=null&&d(t,["mode"],i);const o=c(e,["allowedFunctionNames"]);return o!=null&&d(t,["allowedFunctionNames"],o),t}function xR(a,e){const t={},i=c(e,["latitude"]);i!=null&&d(t,["latitude"],i);const o=c(e,["longitude"]);return o!=null&&d(t,["longitude"],o),t}function bR(a,e){const t={},i=c(e,["latLng"]);i!=null&&d(t,["latLng"],xR(a,i));const o=c(e,["languageCode"]);return o!=null&&d(t,["languageCode"],o),t}function RR(a,e){const t={},i=c(e,["functionCallingConfig"]);i!=null&&d(t,["functionCallingConfig"],wR(a,i));const o=c(e,["retrievalConfig"]);return o!=null&&d(t,["retrievalConfig"],bR(a,o)),t}function MR(a,e){const t={},i=c(e,["voiceName"]);return i!=null&&d(t,["voiceName"],i),t}function Fv(a,e){const t={},i=c(e,["prebuiltVoiceConfig"]);return i!=null&&d(t,["prebuiltVoiceConfig"],MR(a,i)),t}function DR(a,e){const t={},i=c(e,["speaker"]);i!=null&&d(t,["speaker"],i);const o=c(e,["voiceConfig"]);return o!=null&&d(t,["voiceConfig"],Fv(a,o)),t}function NR(a,e){const t={},i=c(e,["speakerVoiceConfigs"]);if(i!=null){let o=i;Array.isArray(o)&&(o=o.map(l=>DR(a,l))),d(t,["speakerVoiceConfigs"],o)}return t}function kR(a,e){const t={},i=c(e,["voiceConfig"]);i!=null&&d(t,["voiceConfig"],Fv(a,i));const o=c(e,["multiSpeakerVoiceConfig"]);o!=null&&d(t,["multiSpeakerVoiceConfig"],NR(a,o));const l=c(e,["languageCode"]);return l!=null&&d(t,["languageCode"],l),t}function UR(a,e){const t={},i=c(e,["includeThoughts"]);i!=null&&d(t,["includeThoughts"],i);const o=c(e,["thinkingBudget"]);return o!=null&&d(t,["thinkingBudget"],o),t}function IR(a,e,t){const i={},o=c(e,["systemInstruction"]);t!==void 0&&o!=null&&d(t,["systemInstruction"],hl(a,wt(a,o)));const l=c(e,["temperature"]);l!=null&&d(i,["temperature"],l);const f=c(e,["topP"]);f!=null&&d(i,["topP"],f);const m=c(e,["topK"]);m!=null&&d(i,["topK"],m);const g=c(e,["candidateCount"]);g!=null&&d(i,["candidateCount"],g);const p=c(e,["maxOutputTokens"]);p!=null&&d(i,["maxOutputTokens"],p);const v=c(e,["stopSequences"]);v!=null&&d(i,["stopSequences"],v);const _=c(e,["responseLogprobs"]);_!=null&&d(i,["responseLogprobs"],_);const S=c(e,["logprobs"]);S!=null&&d(i,["logprobs"],S);const E=c(e,["presencePenalty"]);E!=null&&d(i,["presencePenalty"],E);const A=c(e,["frequencyPenalty"]);A!=null&&d(i,["frequencyPenalty"],A);const b=c(e,["seed"]);b!=null&&d(i,["seed"],b);const N=c(e,["responseMimeType"]);N!=null&&d(i,["responseMimeType"],N);const O=c(e,["responseSchema"]);if(O!=null&&d(i,["responseSchema"],gR(a,ol(a,O))),c(e,["routingConfig"])!==void 0)throw new Error("routingConfig parameter is not supported in Gemini API.");if(c(e,["modelSelectionConfig"])!==void 0)throw new Error("modelSelectionConfig parameter is not supported in Gemini API.");const q=c(e,["safetySettings"]);if(t!==void 0&&q!=null){let me=q;Array.isArray(me)&&(me=me.map(ze=>yR(a,ze))),d(t,["safetySettings"],me)}const H=c(e,["tools"]);if(t!==void 0&&H!=null){let me=fl(a,H);Array.isArray(me)&&(me=me.map(ze=>AR(a,cl(a,ze)))),d(t,["tools"],me)}const J=c(e,["toolConfig"]);if(t!==void 0&&J!=null&&d(t,["toolConfig"],RR(a,J)),c(e,["labels"])!==void 0)throw new Error("labels parameter is not supported in Gemini API.");const F=c(e,["cachedContent"]);t!==void 0&&F!=null&&d(t,["cachedContent"],di(a,F));const oe=c(e,["responseModalities"]);oe!=null&&d(i,["responseModalities"],oe);const se=c(e,["mediaResolution"]);se!=null&&d(i,["mediaResolution"],se);const ve=c(e,["speechConfig"]);if(ve!=null&&d(i,["speechConfig"],kR(a,Uv(a,ve))),c(e,["audioTimestamp"])!==void 0)throw new Error("audioTimestamp parameter is not supported in Gemini API.");const te=c(e,["thinkingConfig"]);return te!=null&&d(i,["thinkingConfig"],UR(a,te)),i}function Dy(a,e){const t={},i=c(e,["model"]);i!=null&&d(t,["_url","model"],Ge(a,i));const o=c(e,["contents"]);if(o!=null){let f=Wt(a,o);Array.isArray(f)&&(f=f.map(m=>hl(a,m))),d(t,["contents"],f)}const l=c(e,["config"]);return l!=null&&d(t,["generationConfig"],IR(a,l,t)),t}function OR(a,e,t){const i={},o=c(e,["taskType"]);t!==void 0&&o!=null&&d(t,["requests[]","taskType"],o);const l=c(e,["title"]);t!==void 0&&l!=null&&d(t,["requests[]","title"],l);const f=c(e,["outputDimensionality"]);if(t!==void 0&&f!=null&&d(t,["requests[]","outputDimensionality"],f),c(e,["mimeType"])!==void 0)throw new Error("mimeType parameter is not supported in Gemini API.");if(c(e,["autoTruncate"])!==void 0)throw new Error("autoTruncate parameter is not supported in Gemini API.");return i}function LR(a,e){const t={},i=c(e,["model"]);i!=null&&d(t,["_url","model"],Ge(a,i));const o=c(e,["contents"]);o!=null&&d(t,["requests[]","content"],kv(a,o));const l=c(e,["config"]);l!=null&&d(t,["config"],OR(a,l,t));const f=c(e,["model"]);return f!==void 0&&d(t,["requests[]","model"],Ge(a,f)),t}function PR(a,e,t){const i={};if(c(e,["outputGcsUri"])!==void 0)throw new Error("outputGcsUri parameter is not supported in Gemini API.");if(c(e,["negativePrompt"])!==void 0)throw new Error("negativePrompt parameter is not supported in Gemini API.");const o=c(e,["numberOfImages"]);t!==void 0&&o!=null&&d(t,["parameters","sampleCount"],o);const l=c(e,["aspectRatio"]);t!==void 0&&l!=null&&d(t,["parameters","aspectRatio"],l);const f=c(e,["guidanceScale"]);if(t!==void 0&&f!=null&&d(t,["parameters","guidanceScale"],f),c(e,["seed"])!==void 0)throw new Error("seed parameter is not supported in Gemini API.");const m=c(e,["safetyFilterLevel"]);t!==void 0&&m!=null&&d(t,["parameters","safetySetting"],m);const g=c(e,["personGeneration"]);t!==void 0&&g!=null&&d(t,["parameters","personGeneration"],g);const p=c(e,["includeSafetyAttributes"]);t!==void 0&&p!=null&&d(t,["parameters","includeSafetyAttributes"],p);const v=c(e,["includeRaiReason"]);t!==void 0&&v!=null&&d(t,["parameters","includeRaiReason"],v);const _=c(e,["language"]);t!==void 0&&_!=null&&d(t,["parameters","language"],_);const S=c(e,["outputMimeType"]);t!==void 0&&S!=null&&d(t,["parameters","outputOptions","mimeType"],S);const E=c(e,["outputCompressionQuality"]);if(t!==void 0&&E!=null&&d(t,["parameters","outputOptions","compressionQuality"],E),c(e,["addWatermark"])!==void 0)throw new Error("addWatermark parameter is not supported in Gemini API.");if(c(e,["enhancePrompt"])!==void 0)throw new Error("enhancePrompt parameter is not supported in Gemini API.");return i}function VR(a,e){const t={},i=c(e,["model"]);i!=null&&d(t,["_url","model"],Ge(a,i));const o=c(e,["prompt"]);o!=null&&d(t,["instances[0]","prompt"],o);const l=c(e,["config"]);return l!=null&&d(t,["config"],PR(a,l,t)),t}function qR(a,e){const t={},i=c(e,["model"]);i!=null&&d(t,["_url","name"],Ge(a,i));const o=c(e,["config"]);return o!=null&&d(t,["config"],o),t}function BR(a,e,t){const i={},o=c(e,["pageSize"]);t!==void 0&&o!=null&&d(t,["_query","pageSize"],o);const l=c(e,["pageToken"]);t!==void 0&&l!=null&&d(t,["_query","pageToken"],l);const f=c(e,["filter"]);t!==void 0&&f!=null&&d(t,["_query","filter"],f);const m=c(e,["queryBase"]);return t!==void 0&&m!=null&&d(t,["_url","models_url"],Pv(a,m)),i}function zR(a,e){const t={},i=c(e,["config"]);return i!=null&&d(t,["config"],BR(a,i,t)),t}function GR(a,e,t){const i={},o=c(e,["displayName"]);t!==void 0&&o!=null&&d(t,["displayName"],o);const l=c(e,["description"]);t!==void 0&&l!=null&&d(t,["description"],l);const f=c(e,["defaultCheckpointId"]);return t!==void 0&&f!=null&&d(t,["defaultCheckpointId"],f),i}function HR(a,e){const t={},i=c(e,["model"]);i!=null&&d(t,["_url","name"],Ge(a,i));const o=c(e,["config"]);return o!=null&&d(t,["config"],GR(a,o,t)),t}function $R(a,e){const t={},i=c(e,["model"]);i!=null&&d(t,["_url","name"],Ge(a,i));const o=c(e,["config"]);return o!=null&&d(t,["config"],o),t}function FR(a,e){const t={};if(c(e,["systemInstruction"])!==void 0)throw new Error("systemInstruction parameter is not supported in Gemini API.");if(c(e,["tools"])!==void 0)throw new Error("tools parameter is not supported in Gemini API.");if(c(e,["generationConfig"])!==void 0)throw new Error("generationConfig parameter is not supported in Gemini API.");return t}function YR(a,e){const t={},i=c(e,["model"]);i!=null&&d(t,["_url","model"],Ge(a,i));const o=c(e,["contents"]);if(o!=null){let f=Wt(a,o);Array.isArray(f)&&(f=f.map(m=>hl(a,m))),d(t,["contents"],f)}const l=c(e,["config"]);return l!=null&&d(t,["config"],FR(a,l)),t}function JR(a,e){const t={};if(c(e,["gcsUri"])!==void 0)throw new Error("gcsUri parameter is not supported in Gemini API.");const i=c(e,["imageBytes"]);i!=null&&d(t,["bytesBase64Encoded"],hi(a,i));const o=c(e,["mimeType"]);return o!=null&&d(t,["mimeType"],o),t}function ZR(a,e,t){const i={},o=c(e,["numberOfVideos"]);if(t!==void 0&&o!=null&&d(t,["parameters","sampleCount"],o),c(e,["outputGcsUri"])!==void 0)throw new Error("outputGcsUri parameter is not supported in Gemini API.");if(c(e,["fps"])!==void 0)throw new Error("fps parameter is not supported in Gemini API.");const l=c(e,["durationSeconds"]);if(t!==void 0&&l!=null&&d(t,["parameters","durationSeconds"],l),c(e,["seed"])!==void 0)throw new Error("seed parameter is not supported in Gemini API.");const f=c(e,["aspectRatio"]);if(t!==void 0&&f!=null&&d(t,["parameters","aspectRatio"],f),c(e,["resolution"])!==void 0)throw new Error("resolution parameter is not supported in Gemini API.");const m=c(e,["personGeneration"]);if(t!==void 0&&m!=null&&d(t,["parameters","personGeneration"],m),c(e,["pubsubTopic"])!==void 0)throw new Error("pubsubTopic parameter is not supported in Gemini API.");const g=c(e,["negativePrompt"]);if(t!==void 0&&g!=null&&d(t,["parameters","negativePrompt"],g),c(e,["enhancePrompt"])!==void 0)throw new Error("enhancePrompt parameter is not supported in Gemini API.");return i}function KR(a,e){const t={},i=c(e,["model"]);i!=null&&d(t,["_url","model"],Ge(a,i));const o=c(e,["prompt"]);o!=null&&d(t,["instances[0]","prompt"],o);const l=c(e,["image"]);l!=null&&d(t,["instances[0]","image"],JR(a,l));const f=c(e,["config"]);return f!=null&&d(t,["config"],ZR(a,f,t)),t}function XR(a,e){const t={},i=c(e,["fps"]);i!=null&&d(t,["fps"],i);const o=c(e,["endOffset"]);o!=null&&d(t,["endOffset"],o);const l=c(e,["startOffset"]);return l!=null&&d(t,["startOffset"],l),t}function QR(a,e){const t={},i=c(e,["displayName"]);i!=null&&d(t,["displayName"],i);const o=c(e,["data"]);o!=null&&d(t,["data"],o);const l=c(e,["mimeType"]);return l!=null&&d(t,["mimeType"],l),t}function WR(a,e){const t={},i=c(e,["displayName"]);i!=null&&d(t,["displayName"],i);const o=c(e,["fileUri"]);o!=null&&d(t,["fileUri"],o);const l=c(e,["mimeType"]);return l!=null&&d(t,["mimeType"],l),t}function jR(a,e){const t={},i=c(e,["videoMetadata"]);i!=null&&d(t,["videoMetadata"],XR(a,i));const o=c(e,["thought"]);o!=null&&d(t,["thought"],o);const l=c(e,["inlineData"]);l!=null&&d(t,["inlineData"],QR(a,l));const f=c(e,["fileData"]);f!=null&&d(t,["fileData"],WR(a,f));const m=c(e,["codeExecutionResult"]);m!=null&&d(t,["codeExecutionResult"],m);const g=c(e,["executableCode"]);g!=null&&d(t,["executableCode"],g);const p=c(e,["functionCall"]);p!=null&&d(t,["functionCall"],p);const v=c(e,["functionResponse"]);v!=null&&d(t,["functionResponse"],v);const _=c(e,["text"]);return _!=null&&d(t,["text"],_),t}function Xr(a,e){const t={},i=c(e,["parts"]);if(i!=null){let l=i;Array.isArray(l)&&(l=l.map(f=>jR(a,f))),d(t,["parts"],l)}const o=c(e,["role"]);return o!=null&&d(t,["role"],o),t}function eM(a,e){const t={},i=c(e,["anyOf"]);i!=null&&d(t,["anyOf"],i);const o=c(e,["default"]);o!=null&&d(t,["default"],o);const l=c(e,["description"]);l!=null&&d(t,["description"],l);const f=c(e,["enum"]);f!=null&&d(t,["enum"],f);const m=c(e,["example"]);m!=null&&d(t,["example"],m);const g=c(e,["format"]);g!=null&&d(t,["format"],g);const p=c(e,["items"]);p!=null&&d(t,["items"],p);const v=c(e,["maxItems"]);v!=null&&d(t,["maxItems"],v);const _=c(e,["maxLength"]);_!=null&&d(t,["maxLength"],_);const S=c(e,["maxProperties"]);S!=null&&d(t,["maxProperties"],S);const E=c(e,["maximum"]);E!=null&&d(t,["maximum"],E);const A=c(e,["minItems"]);A!=null&&d(t,["minItems"],A);const b=c(e,["minLength"]);b!=null&&d(t,["minLength"],b);const N=c(e,["minProperties"]);N!=null&&d(t,["minProperties"],N);const O=c(e,["minimum"]);O!=null&&d(t,["minimum"],O);const q=c(e,["nullable"]);q!=null&&d(t,["nullable"],q);const H=c(e,["pattern"]);H!=null&&d(t,["pattern"],H);const J=c(e,["properties"]);J!=null&&d(t,["properties"],J);const F=c(e,["propertyOrdering"]);F!=null&&d(t,["propertyOrdering"],F);const oe=c(e,["required"]);oe!=null&&d(t,["required"],oe);const se=c(e,["title"]);se!=null&&d(t,["title"],se);const ve=c(e,["type"]);return ve!=null&&d(t,["type"],ve),t}function tM(a,e){const t={},i=c(e,["featureSelectionPreference"]);return i!=null&&d(t,["featureSelectionPreference"],i),t}function nM(a,e){const t={},i=c(e,["method"]);i!=null&&d(t,["method"],i);const o=c(e,["category"]);o!=null&&d(t,["category"],o);const l=c(e,["threshold"]);return l!=null&&d(t,["threshold"],l),t}function iM(a,e){const t={};if(c(e,["behavior"])!==void 0)throw new Error("behavior parameter is not supported in Vertex AI.");const i=c(e,["description"]);i!=null&&d(t,["description"],i);const o=c(e,["name"]);o!=null&&d(t,["name"],o);const l=c(e,["parameters"]);l!=null&&d(t,["parameters"],l);const f=c(e,["response"]);return f!=null&&d(t,["response"],f),t}function rM(a,e){const t={},i=c(e,["startTime"]);i!=null&&d(t,["startTime"],i);const o=c(e,["endTime"]);return o!=null&&d(t,["endTime"],o),t}function aM(a,e){const t={},i=c(e,["timeRangeFilter"]);return i!=null&&d(t,["timeRangeFilter"],rM(a,i)),t}function oM(a,e){const t={},i=c(e,["mode"]);i!=null&&d(t,["mode"],i);const o=c(e,["dynamicThreshold"]);return o!=null&&d(t,["dynamicThreshold"],o),t}function sM(a,e){const t={},i=c(e,["dynamicRetrievalConfig"]);return i!=null&&d(t,["dynamicRetrievalConfig"],oM(a,i)),t}function lM(){return{}}function uM(a,e){const t={},i=c(e,["apiKeyString"]);return i!=null&&d(t,["apiKeyString"],i),t}function cM(a,e){const t={},i=c(e,["apiKeyConfig"]);i!=null&&d(t,["apiKeyConfig"],uM(a,i));const o=c(e,["authType"]);o!=null&&d(t,["authType"],o);const l=c(e,["googleServiceAccountConfig"]);l!=null&&d(t,["googleServiceAccountConfig"],l);const f=c(e,["httpBasicAuthConfig"]);f!=null&&d(t,["httpBasicAuthConfig"],f);const m=c(e,["oauthConfig"]);m!=null&&d(t,["oauthConfig"],m);const g=c(e,["oidcConfig"]);return g!=null&&d(t,["oidcConfig"],g),t}function fM(a,e){const t={},i=c(e,["authConfig"]);return i!=null&&d(t,["authConfig"],cM(a,i)),t}function Yv(a,e){const t={},i=c(e,["functionDeclarations"]);if(i!=null){let v=i;Array.isArray(v)&&(v=v.map(_=>iM(a,_))),d(t,["functionDeclarations"],v)}const o=c(e,["retrieval"]);o!=null&&d(t,["retrieval"],o);const l=c(e,["googleSearch"]);l!=null&&d(t,["googleSearch"],aM(a,l));const f=c(e,["googleSearchRetrieval"]);f!=null&&d(t,["googleSearchRetrieval"],sM(a,f)),c(e,["enterpriseWebSearch"])!=null&&d(t,["enterpriseWebSearch"],lM());const g=c(e,["googleMaps"]);if(g!=null&&d(t,["googleMaps"],fM(a,g)),c(e,["urlContext"])!==void 0)throw new Error("urlContext parameter is not supported in Vertex AI.");const p=c(e,["codeExecution"]);return p!=null&&d(t,["codeExecution"],p),t}function dM(a,e){const t={},i=c(e,["mode"]);i!=null&&d(t,["mode"],i);const o=c(e,["allowedFunctionNames"]);return o!=null&&d(t,["allowedFunctionNames"],o),t}function hM(a,e){const t={},i=c(e,["latitude"]);i!=null&&d(t,["latitude"],i);const o=c(e,["longitude"]);return o!=null&&d(t,["longitude"],o),t}function mM(a,e){const t={},i=c(e,["latLng"]);i!=null&&d(t,["latLng"],hM(a,i));const o=c(e,["languageCode"]);return o!=null&&d(t,["languageCode"],o),t}function pM(a,e){const t={},i=c(e,["functionCallingConfig"]);i!=null&&d(t,["functionCallingConfig"],dM(a,i));const o=c(e,["retrievalConfig"]);return o!=null&&d(t,["retrievalConfig"],mM(a,o)),t}function gM(a,e){const t={},i=c(e,["voiceName"]);return i!=null&&d(t,["voiceName"],i),t}function yM(a,e){const t={},i=c(e,["prebuiltVoiceConfig"]);return i!=null&&d(t,["prebuiltVoiceConfig"],gM(a,i)),t}function vM(a,e){const t={},i=c(e,["voiceConfig"]);if(i!=null&&d(t,["voiceConfig"],yM(a,i)),c(e,["multiSpeakerVoiceConfig"])!==void 0)throw new Error("multiSpeakerVoiceConfig parameter is not supported in Vertex AI.");const o=c(e,["languageCode"]);return o!=null&&d(t,["languageCode"],o),t}function _M(a,e){const t={},i=c(e,["includeThoughts"]);i!=null&&d(t,["includeThoughts"],i);const o=c(e,["thinkingBudget"]);return o!=null&&d(t,["thinkingBudget"],o),t}function TM(a,e,t){const i={},o=c(e,["systemInstruction"]);t!==void 0&&o!=null&&d(t,["systemInstruction"],Xr(a,wt(a,o)));const l=c(e,["temperature"]);l!=null&&d(i,["temperature"],l);const f=c(e,["topP"]);f!=null&&d(i,["topP"],f);const m=c(e,["topK"]);m!=null&&d(i,["topK"],m);const g=c(e,["candidateCount"]);g!=null&&d(i,["candidateCount"],g);const p=c(e,["maxOutputTokens"]);p!=null&&d(i,["maxOutputTokens"],p);const v=c(e,["stopSequences"]);v!=null&&d(i,["stopSequences"],v);const _=c(e,["responseLogprobs"]);_!=null&&d(i,["responseLogprobs"],_);const S=c(e,["logprobs"]);S!=null&&d(i,["logprobs"],S);const E=c(e,["presencePenalty"]);E!=null&&d(i,["presencePenalty"],E);const A=c(e,["frequencyPenalty"]);A!=null&&d(i,["frequencyPenalty"],A);const b=c(e,["seed"]);b!=null&&d(i,["seed"],b);const N=c(e,["responseMimeType"]);N!=null&&d(i,["responseMimeType"],N);const O=c(e,["responseSchema"]);O!=null&&d(i,["responseSchema"],eM(a,ol(a,O)));const q=c(e,["routingConfig"]);q!=null&&d(i,["routingConfig"],q);const H=c(e,["modelSelectionConfig"]);H!=null&&d(i,["modelConfig"],tM(a,H));const J=c(e,["safetySettings"]);if(t!==void 0&&J!=null){let nt=J;Array.isArray(nt)&&(nt=nt.map(Je=>nM(a,Je))),d(t,["safetySettings"],nt)}const F=c(e,["tools"]);if(t!==void 0&&F!=null){let nt=fl(a,F);Array.isArray(nt)&&(nt=nt.map(Je=>Yv(a,cl(a,Je)))),d(t,["tools"],nt)}const oe=c(e,["toolConfig"]);t!==void 0&&oe!=null&&d(t,["toolConfig"],pM(a,oe));const se=c(e,["labels"]);t!==void 0&&se!=null&&d(t,["labels"],se);const ve=c(e,["cachedContent"]);t!==void 0&&ve!=null&&d(t,["cachedContent"],di(a,ve));const te=c(e,["responseModalities"]);te!=null&&d(i,["responseModalities"],te);const me=c(e,["mediaResolution"]);me!=null&&d(i,["mediaResolution"],me);const ze=c(e,["speechConfig"]);ze!=null&&d(i,["speechConfig"],vM(a,Uv(a,ze)));const Xe=c(e,["audioTimestamp"]);Xe!=null&&d(i,["audioTimestamp"],Xe);const Lt=c(e,["thinkingConfig"]);return Lt!=null&&d(i,["thinkingConfig"],_M(a,Lt)),i}function Ny(a,e){const t={},i=c(e,["model"]);i!=null&&d(t,["_url","model"],Ge(a,i));const o=c(e,["contents"]);if(o!=null){let f=Wt(a,o);Array.isArray(f)&&(f=f.map(m=>Xr(a,m))),d(t,["contents"],f)}const l=c(e,["config"]);return l!=null&&d(t,["generationConfig"],TM(a,l,t)),t}function SM(a,e,t){const i={},o=c(e,["taskType"]);t!==void 0&&o!=null&&d(t,["instances[]","task_type"],o);const l=c(e,["title"]);t!==void 0&&l!=null&&d(t,["instances[]","title"],l);const f=c(e,["outputDimensionality"]);t!==void 0&&f!=null&&d(t,["parameters","outputDimensionality"],f);const m=c(e,["mimeType"]);t!==void 0&&m!=null&&d(t,["instances[]","mimeType"],m);const g=c(e,["autoTruncate"]);return t!==void 0&&g!=null&&d(t,["parameters","autoTruncate"],g),i}function CM(a,e){const t={},i=c(e,["model"]);i!=null&&d(t,["_url","model"],Ge(a,i));const o=c(e,["contents"]);o!=null&&d(t,["instances[]","content"],kv(a,o));const l=c(e,["config"]);return l!=null&&d(t,["config"],SM(a,l,t)),t}function EM(a,e,t){const i={},o=c(e,["outputGcsUri"]);t!==void 0&&o!=null&&d(t,["parameters","storageUri"],o);const l=c(e,["negativePrompt"]);t!==void 0&&l!=null&&d(t,["parameters","negativePrompt"],l);const f=c(e,["numberOfImages"]);t!==void 0&&f!=null&&d(t,["parameters","sampleCount"],f);const m=c(e,["aspectRatio"]);t!==void 0&&m!=null&&d(t,["parameters","aspectRatio"],m);const g=c(e,["guidanceScale"]);t!==void 0&&g!=null&&d(t,["parameters","guidanceScale"],g);const p=c(e,["seed"]);t!==void 0&&p!=null&&d(t,["parameters","seed"],p);const v=c(e,["safetyFilterLevel"]);t!==void 0&&v!=null&&d(t,["parameters","safetySetting"],v);const _=c(e,["personGeneration"]);t!==void 0&&_!=null&&d(t,["parameters","personGeneration"],_);const S=c(e,["includeSafetyAttributes"]);t!==void 0&&S!=null&&d(t,["parameters","includeSafetyAttributes"],S);const E=c(e,["includeRaiReason"]);t!==void 0&&E!=null&&d(t,["parameters","includeRaiReason"],E);const A=c(e,["language"]);t!==void 0&&A!=null&&d(t,["parameters","language"],A);const b=c(e,["outputMimeType"]);t!==void 0&&b!=null&&d(t,["parameters","outputOptions","mimeType"],b);const N=c(e,["outputCompressionQuality"]);t!==void 0&&N!=null&&d(t,["parameters","outputOptions","compressionQuality"],N);const O=c(e,["addWatermark"]);t!==void 0&&O!=null&&d(t,["parameters","addWatermark"],O);const q=c(e,["enhancePrompt"]);return t!==void 0&&q!=null&&d(t,["parameters","enhancePrompt"],q),i}function AM(a,e){const t={},i=c(e,["model"]);i!=null&&d(t,["_url","model"],Ge(a,i));const o=c(e,["prompt"]);o!=null&&d(t,["instances[0]","prompt"],o);const l=c(e,["config"]);return l!=null&&d(t,["config"],EM(a,l,t)),t}function kf(a,e){const t={},i=c(e,["gcsUri"]);i!=null&&d(t,["gcsUri"],i);const o=c(e,["imageBytes"]);o!=null&&d(t,["bytesBase64Encoded"],hi(a,o));const l=c(e,["mimeType"]);return l!=null&&d(t,["mimeType"],l),t}function wM(a,e){const t={},i=c(e,["maskMode"]);i!=null&&d(t,["maskMode"],i);const o=c(e,["segmentationClasses"]);o!=null&&d(t,["maskClasses"],o);const l=c(e,["maskDilation"]);return l!=null&&d(t,["dilation"],l),t}function xM(a,e){const t={},i=c(e,["controlType"]);i!=null&&d(t,["controlType"],i);const o=c(e,["enableControlImageComputation"]);return o!=null&&d(t,["computeControl"],o),t}function bM(a,e){const t={},i=c(e,["styleDescription"]);return i!=null&&d(t,["styleDescription"],i),t}function RM(a,e){const t={},i=c(e,["subjectType"]);i!=null&&d(t,["subjectType"],i);const o=c(e,["subjectDescription"]);return o!=null&&d(t,["subjectDescription"],o),t}function MM(a,e){const t={},i=c(e,["referenceImage"]);i!=null&&d(t,["referenceImage"],kf(a,i));const o=c(e,["referenceId"]);o!=null&&d(t,["referenceId"],o);const l=c(e,["referenceType"]);l!=null&&d(t,["referenceType"],l);const f=c(e,["maskImageConfig"]);f!=null&&d(t,["maskImageConfig"],wM(a,f));const m=c(e,["controlImageConfig"]);m!=null&&d(t,["controlImageConfig"],xM(a,m));const g=c(e,["styleImageConfig"]);g!=null&&d(t,["styleImageConfig"],bM(a,g));const p=c(e,["subjectImageConfig"]);return p!=null&&d(t,["subjectImageConfig"],RM(a,p)),t}function DM(a,e,t){const i={},o=c(e,["outputGcsUri"]);t!==void 0&&o!=null&&d(t,["parameters","storageUri"],o);const l=c(e,["negativePrompt"]);t!==void 0&&l!=null&&d(t,["parameters","negativePrompt"],l);const f=c(e,["numberOfImages"]);t!==void 0&&f!=null&&d(t,["parameters","sampleCount"],f);const m=c(e,["aspectRatio"]);t!==void 0&&m!=null&&d(t,["parameters","aspectRatio"],m);const g=c(e,["guidanceScale"]);t!==void 0&&g!=null&&d(t,["parameters","guidanceScale"],g);const p=c(e,["seed"]);t!==void 0&&p!=null&&d(t,["parameters","seed"],p);const v=c(e,["safetyFilterLevel"]);t!==void 0&&v!=null&&d(t,["parameters","safetySetting"],v);const _=c(e,["personGeneration"]);t!==void 0&&_!=null&&d(t,["parameters","personGeneration"],_);const S=c(e,["includeSafetyAttributes"]);t!==void 0&&S!=null&&d(t,["parameters","includeSafetyAttributes"],S);const E=c(e,["includeRaiReason"]);t!==void 0&&E!=null&&d(t,["parameters","includeRaiReason"],E);const A=c(e,["language"]);t!==void 0&&A!=null&&d(t,["parameters","language"],A);const b=c(e,["outputMimeType"]);t!==void 0&&b!=null&&d(t,["parameters","outputOptions","mimeType"],b);const N=c(e,["outputCompressionQuality"]);t!==void 0&&N!=null&&d(t,["parameters","outputOptions","compressionQuality"],N);const O=c(e,["editMode"]);t!==void 0&&O!=null&&d(t,["parameters","editMode"],O);const q=c(e,["baseSteps"]);return t!==void 0&&q!=null&&d(t,["parameters","editConfig","baseSteps"],q),i}function NM(a,e){const t={},i=c(e,["model"]);i!=null&&d(t,["_url","model"],Ge(a,i));const o=c(e,["prompt"]);o!=null&&d(t,["instances[0]","prompt"],o);const l=c(e,["referenceImages"]);if(l!=null){let m=l;Array.isArray(m)&&(m=m.map(g=>MM(a,g))),d(t,["instances[0]","referenceImages"],m)}const f=c(e,["config"]);return f!=null&&d(t,["config"],DM(a,f,t)),t}function kM(a,e,t){const i={},o=c(e,["includeRaiReason"]);t!==void 0&&o!=null&&d(t,["parameters","includeRaiReason"],o);const l=c(e,["outputMimeType"]);t!==void 0&&l!=null&&d(t,["parameters","outputOptions","mimeType"],l);const f=c(e,["outputCompressionQuality"]);t!==void 0&&f!=null&&d(t,["parameters","outputOptions","compressionQuality"],f);const m=c(e,["numberOfImages"]);t!==void 0&&m!=null&&d(t,["parameters","sampleCount"],m);const g=c(e,["mode"]);return t!==void 0&&g!=null&&d(t,["parameters","mode"],g),i}function UM(a,e){const t={},i=c(e,["model"]);i!=null&&d(t,["_url","model"],Ge(a,i));const o=c(e,["image"]);o!=null&&d(t,["instances[0]","image"],kf(a,o));const l=c(e,["upscaleFactor"]);l!=null&&d(t,["parameters","upscaleConfig","upscaleFactor"],l);const f=c(e,["config"]);return f!=null&&d(t,["config"],kM(a,f,t)),t}function IM(a,e){const t={},i=c(e,["model"]);i!=null&&d(t,["_url","name"],Ge(a,i));const o=c(e,["config"]);return o!=null&&d(t,["config"],o),t}function OM(a,e,t){const i={},o=c(e,["pageSize"]);t!==void 0&&o!=null&&d(t,["_query","pageSize"],o);const l=c(e,["pageToken"]);t!==void 0&&l!=null&&d(t,["_query","pageToken"],l);const f=c(e,["filter"]);t!==void 0&&f!=null&&d(t,["_query","filter"],f);const m=c(e,["queryBase"]);return t!==void 0&&m!=null&&d(t,["_url","models_url"],Pv(a,m)),i}function LM(a,e){const t={},i=c(e,["config"]);return i!=null&&d(t,["config"],OM(a,i,t)),t}function PM(a,e,t){const i={},o=c(e,["displayName"]);t!==void 0&&o!=null&&d(t,["displayName"],o);const l=c(e,["description"]);t!==void 0&&l!=null&&d(t,["description"],l);const f=c(e,["defaultCheckpointId"]);return t!==void 0&&f!=null&&d(t,["defaultCheckpointId"],f),i}function VM(a,e){const t={},i=c(e,["model"]);i!=null&&d(t,["_url","model"],Ge(a,i));const o=c(e,["config"]);return o!=null&&d(t,["config"],PM(a,o,t)),t}function qM(a,e){const t={},i=c(e,["model"]);i!=null&&d(t,["_url","name"],Ge(a,i));const o=c(e,["config"]);return o!=null&&d(t,["config"],o),t}function BM(a,e,t){const i={},o=c(e,["systemInstruction"]);t!==void 0&&o!=null&&d(t,["systemInstruction"],Xr(a,wt(a,o)));const l=c(e,["tools"]);if(t!==void 0&&l!=null){let m=l;Array.isArray(m)&&(m=m.map(g=>Yv(a,g))),d(t,["tools"],m)}const f=c(e,["generationConfig"]);return t!==void 0&&f!=null&&d(t,["generationConfig"],f),i}function zM(a,e){const t={},i=c(e,["model"]);i!=null&&d(t,["_url","model"],Ge(a,i));const o=c(e,["contents"]);if(o!=null){let f=Wt(a,o);Array.isArray(f)&&(f=f.map(m=>Xr(a,m))),d(t,["contents"],f)}const l=c(e,["config"]);return l!=null&&d(t,["config"],BM(a,l,t)),t}function GM(a,e){const t={},i=c(e,["model"]);i!=null&&d(t,["_url","model"],Ge(a,i));const o=c(e,["contents"]);if(o!=null){let f=Wt(a,o);Array.isArray(f)&&(f=f.map(m=>Xr(a,m))),d(t,["contents"],f)}const l=c(e,["config"]);return l!=null&&d(t,["config"],l),t}function HM(a,e,t){const i={},o=c(e,["numberOfVideos"]);t!==void 0&&o!=null&&d(t,["parameters","sampleCount"],o);const l=c(e,["outputGcsUri"]);t!==void 0&&l!=null&&d(t,["parameters","storageUri"],l);const f=c(e,["fps"]);t!==void 0&&f!=null&&d(t,["parameters","fps"],f);const m=c(e,["durationSeconds"]);t!==void 0&&m!=null&&d(t,["parameters","durationSeconds"],m);const g=c(e,["seed"]);t!==void 0&&g!=null&&d(t,["parameters","seed"],g);const p=c(e,["aspectRatio"]);t!==void 0&&p!=null&&d(t,["parameters","aspectRatio"],p);const v=c(e,["resolution"]);t!==void 0&&v!=null&&d(t,["parameters","resolution"],v);const _=c(e,["personGeneration"]);t!==void 0&&_!=null&&d(t,["parameters","personGeneration"],_);const S=c(e,["pubsubTopic"]);t!==void 0&&S!=null&&d(t,["parameters","pubsubTopic"],S);const E=c(e,["negativePrompt"]);t!==void 0&&E!=null&&d(t,["parameters","negativePrompt"],E);const A=c(e,["enhancePrompt"]);return t!==void 0&&A!=null&&d(t,["parameters","enhancePrompt"],A),i}function $M(a,e){const t={},i=c(e,["model"]);i!=null&&d(t,["_url","model"],Ge(a,i));const o=c(e,["prompt"]);o!=null&&d(t,["instances[0]","prompt"],o);const l=c(e,["image"]);l!=null&&d(t,["instances[0]","image"],kf(a,l));const f=c(e,["config"]);return f!=null&&d(t,["config"],HM(a,f,t)),t}function FM(a,e){const t={},i=c(e,["fps"]);i!=null&&d(t,["fps"],i);const o=c(e,["endOffset"]);o!=null&&d(t,["endOffset"],o);const l=c(e,["startOffset"]);return l!=null&&d(t,["startOffset"],l),t}function YM(a,e){const t={},i=c(e,["data"]);i!=null&&d(t,["data"],i);const o=c(e,["mimeType"]);return o!=null&&d(t,["mimeType"],o),t}function JM(a,e){const t={},i=c(e,["fileUri"]);i!=null&&d(t,["fileUri"],i);const o=c(e,["mimeType"]);return o!=null&&d(t,["mimeType"],o),t}function ZM(a,e){const t={},i=c(e,["videoMetadata"]);i!=null&&d(t,["videoMetadata"],FM(a,i));const o=c(e,["thought"]);o!=null&&d(t,["thought"],o);const l=c(e,["inlineData"]);l!=null&&d(t,["inlineData"],YM(a,l));const f=c(e,["fileData"]);f!=null&&d(t,["fileData"],JM(a,f));const m=c(e,["codeExecutionResult"]);m!=null&&d(t,["codeExecutionResult"],m);const g=c(e,["executableCode"]);g!=null&&d(t,["executableCode"],g);const p=c(e,["functionCall"]);p!=null&&d(t,["functionCall"],p);const v=c(e,["functionResponse"]);v!=null&&d(t,["functionResponse"],v);const _=c(e,["text"]);return _!=null&&d(t,["text"],_),t}function KM(a,e){const t={},i=c(e,["parts"]);if(i!=null){let l=i;Array.isArray(l)&&(l=l.map(f=>ZM(a,f))),d(t,["parts"],l)}const o=c(e,["role"]);return o!=null&&d(t,["role"],o),t}function XM(a,e){const t={},i=c(e,["citationSources"]);return i!=null&&d(t,["citations"],i),t}function QM(a,e){const t={},i=c(e,["retrievedUrl"]);i!=null&&d(t,["retrievedUrl"],i);const o=c(e,["urlRetrievalStatus"]);return o!=null&&d(t,["urlRetrievalStatus"],o),t}function WM(a,e){const t={},i=c(e,["urlMetadata"]);if(i!=null){let o=i;Array.isArray(o)&&(o=o.map(l=>QM(a,l))),d(t,["urlMetadata"],o)}return t}function jM(a,e){const t={},i=c(e,["content"]);i!=null&&d(t,["content"],KM(a,i));const o=c(e,["citationMetadata"]);o!=null&&d(t,["citationMetadata"],XM(a,o));const l=c(e,["tokenCount"]);l!=null&&d(t,["tokenCount"],l);const f=c(e,["finishReason"]);f!=null&&d(t,["finishReason"],f);const m=c(e,["urlContextMetadata"]);m!=null&&d(t,["urlContextMetadata"],WM(a,m));const g=c(e,["avgLogprobs"]);g!=null&&d(t,["avgLogprobs"],g);const p=c(e,["groundingMetadata"]);p!=null&&d(t,["groundingMetadata"],p);const v=c(e,["index"]);v!=null&&d(t,["index"],v);const _=c(e,["logprobsResult"]);_!=null&&d(t,["logprobsResult"],_);const S=c(e,["safetyRatings"]);return S!=null&&d(t,["safetyRatings"],S),t}function ky(a,e){const t={},i=c(e,["candidates"]);if(i!=null){let m=i;Array.isArray(m)&&(m=m.map(g=>jM(a,g))),d(t,["candidates"],m)}const o=c(e,["modelVersion"]);o!=null&&d(t,["modelVersion"],o);const l=c(e,["promptFeedback"]);l!=null&&d(t,["promptFeedback"],l);const f=c(e,["usageMetadata"]);return f!=null&&d(t,["usageMetadata"],f),t}function e1(a,e){const t={},i=c(e,["values"]);return i!=null&&d(t,["values"],i),t}function t1(){return{}}function n1(a,e){const t={},i=c(e,["embeddings"]);if(i!=null){let l=i;Array.isArray(l)&&(l=l.map(f=>e1(a,f))),d(t,["embeddings"],l)}return c(e,["metadata"])!=null&&d(t,["metadata"],t1()),t}function i1(a,e){const t={},i=c(e,["bytesBase64Encoded"]);i!=null&&d(t,["imageBytes"],hi(a,i));const o=c(e,["mimeType"]);return o!=null&&d(t,["mimeType"],o),t}function Jv(a,e){const t={},i=c(e,["safetyAttributes","categories"]);i!=null&&d(t,["categories"],i);const o=c(e,["safetyAttributes","scores"]);o!=null&&d(t,["scores"],o);const l=c(e,["contentType"]);return l!=null&&d(t,["contentType"],l),t}function r1(a,e){const t={},i=c(e,["_self"]);i!=null&&d(t,["image"],i1(a,i));const o=c(e,["raiFilteredReason"]);o!=null&&d(t,["raiFilteredReason"],o);const l=c(e,["_self"]);return l!=null&&d(t,["safetyAttributes"],Jv(a,l)),t}function a1(a,e){const t={},i=c(e,["predictions"]);if(i!=null){let l=i;Array.isArray(l)&&(l=l.map(f=>r1(a,f))),d(t,["generatedImages"],l)}const o=c(e,["positivePromptSafetyAttributes"]);return o!=null&&d(t,["positivePromptSafetyAttributes"],Jv(a,o)),t}function o1(a,e){const t={},i=c(e,["baseModel"]);i!=null&&d(t,["baseModel"],i);const o=c(e,["createTime"]);o!=null&&d(t,["createTime"],o);const l=c(e,["updateTime"]);return l!=null&&d(t,["updateTime"],l),t}function pf(a,e){const t={},i=c(e,["name"]);i!=null&&d(t,["name"],i);const o=c(e,["displayName"]);o!=null&&d(t,["displayName"],o);const l=c(e,["description"]);l!=null&&d(t,["description"],l);const f=c(e,["version"]);f!=null&&d(t,["version"],f);const m=c(e,["_self"]);m!=null&&d(t,["tunedModelInfo"],o1(a,m));const g=c(e,["inputTokenLimit"]);g!=null&&d(t,["inputTokenLimit"],g);const p=c(e,["outputTokenLimit"]);p!=null&&d(t,["outputTokenLimit"],p);const v=c(e,["supportedGenerationMethods"]);return v!=null&&d(t,["supportedActions"],v),t}function s1(a,e){const t={},i=c(e,["nextPageToken"]);i!=null&&d(t,["nextPageToken"],i);const o=c(e,["_self"]);if(o!=null){let l=Vv(a,o);Array.isArray(l)&&(l=l.map(f=>pf(a,f))),d(t,["models"],l)}return t}function l1(){return{}}function u1(a,e){const t={},i=c(e,["totalTokens"]);i!=null&&d(t,["totalTokens"],i);const o=c(e,["cachedContentTokenCount"]);return o!=null&&d(t,["cachedContentTokenCount"],o),t}function c1(a,e){const t={},i=c(e,["video","uri"]);i!=null&&d(t,["uri"],i);const o=c(e,["video","encodedVideo"]);o!=null&&d(t,["videoBytes"],hi(a,o));const l=c(e,["encoding"]);return l!=null&&d(t,["mimeType"],l),t}function f1(a,e){const t={},i=c(e,["_self"]);return i!=null&&d(t,["video"],c1(a,i)),t}function d1(a,e){const t={},i=c(e,["generatedSamples"]);if(i!=null){let f=i;Array.isArray(f)&&(f=f.map(m=>f1(a,m))),d(t,["generatedVideos"],f)}const o=c(e,["raiMediaFilteredCount"]);o!=null&&d(t,["raiMediaFilteredCount"],o);const l=c(e,["raiMediaFilteredReasons"]);return l!=null&&d(t,["raiMediaFilteredReasons"],l),t}function h1(a,e){const t={},i=c(e,["name"]);i!=null&&d(t,["name"],i);const o=c(e,["metadata"]);o!=null&&d(t,["metadata"],o);const l=c(e,["done"]);l!=null&&d(t,["done"],l);const f=c(e,["error"]);f!=null&&d(t,["error"],f);const m=c(e,["response","generateVideoResponse"]);return m!=null&&d(t,["response"],d1(a,m)),t}function m1(a,e){const t={},i=c(e,["fps"]);i!=null&&d(t,["fps"],i);const o=c(e,["endOffset"]);o!=null&&d(t,["endOffset"],o);const l=c(e,["startOffset"]);return l!=null&&d(t,["startOffset"],l),t}function p1(a,e){const t={},i=c(e,["displayName"]);i!=null&&d(t,["displayName"],i);const o=c(e,["data"]);o!=null&&d(t,["data"],o);const l=c(e,["mimeType"]);return l!=null&&d(t,["mimeType"],l),t}function g1(a,e){const t={},i=c(e,["displayName"]);i!=null&&d(t,["displayName"],i);const o=c(e,["fileUri"]);o!=null&&d(t,["fileUri"],o);const l=c(e,["mimeType"]);return l!=null&&d(t,["mimeType"],l),t}function y1(a,e){const t={},i=c(e,["videoMetadata"]);i!=null&&d(t,["videoMetadata"],m1(a,i));const o=c(e,["thought"]);o!=null&&d(t,["thought"],o);const l=c(e,["inlineData"]);l!=null&&d(t,["inlineData"],p1(a,l));const f=c(e,["fileData"]);f!=null&&d(t,["fileData"],g1(a,f));const m=c(e,["codeExecutionResult"]);m!=null&&d(t,["codeExecutionResult"],m);const g=c(e,["executableCode"]);g!=null&&d(t,["executableCode"],g);const p=c(e,["functionCall"]);p!=null&&d(t,["functionCall"],p);const v=c(e,["functionResponse"]);v!=null&&d(t,["functionResponse"],v);const _=c(e,["text"]);return _!=null&&d(t,["text"],_),t}function v1(a,e){const t={},i=c(e,["parts"]);if(i!=null){let l=i;Array.isArray(l)&&(l=l.map(f=>y1(a,f))),d(t,["parts"],l)}const o=c(e,["role"]);return o!=null&&d(t,["role"],o),t}function _1(a,e){const t={},i=c(e,["citations"]);return i!=null&&d(t,["citations"],i),t}function T1(a,e){const t={},i=c(e,["content"]);i!=null&&d(t,["content"],v1(a,i));const o=c(e,["citationMetadata"]);o!=null&&d(t,["citationMetadata"],_1(a,o));const l=c(e,["finishMessage"]);l!=null&&d(t,["finishMessage"],l);const f=c(e,["finishReason"]);f!=null&&d(t,["finishReason"],f);const m=c(e,["avgLogprobs"]);m!=null&&d(t,["avgLogprobs"],m);const g=c(e,["groundingMetadata"]);g!=null&&d(t,["groundingMetadata"],g);const p=c(e,["index"]);p!=null&&d(t,["index"],p);const v=c(e,["logprobsResult"]);v!=null&&d(t,["logprobsResult"],v);const _=c(e,["safetyRatings"]);return _!=null&&d(t,["safetyRatings"],_),t}function Uy(a,e){const t={},i=c(e,["candidates"]);if(i!=null){let p=i;Array.isArray(p)&&(p=p.map(v=>T1(a,v))),d(t,["candidates"],p)}const o=c(e,["createTime"]);o!=null&&d(t,["createTime"],o);const l=c(e,["responseId"]);l!=null&&d(t,["responseId"],l);const f=c(e,["modelVersion"]);f!=null&&d(t,["modelVersion"],f);const m=c(e,["promptFeedback"]);m!=null&&d(t,["promptFeedback"],m);const g=c(e,["usageMetadata"]);return g!=null&&d(t,["usageMetadata"],g),t}function S1(a,e){const t={},i=c(e,["truncated"]);i!=null&&d(t,["truncated"],i);const o=c(e,["token_count"]);return o!=null&&d(t,["tokenCount"],o),t}function C1(a,e){const t={},i=c(e,["values"]);i!=null&&d(t,["values"],i);const o=c(e,["statistics"]);return o!=null&&d(t,["statistics"],S1(a,o)),t}function E1(a,e){const t={},i=c(e,["billableCharacterCount"]);return i!=null&&d(t,["billableCharacterCount"],i),t}function A1(a,e){const t={},i=c(e,["predictions[]","embeddings"]);if(i!=null){let l=i;Array.isArray(l)&&(l=l.map(f=>C1(a,f))),d(t,["embeddings"],l)}const o=c(e,["metadata"]);return o!=null&&d(t,["metadata"],E1(a,o)),t}function w1(a,e){const t={},i=c(e,["gcsUri"]);i!=null&&d(t,["gcsUri"],i);const o=c(e,["bytesBase64Encoded"]);o!=null&&d(t,["imageBytes"],hi(a,o));const l=c(e,["mimeType"]);return l!=null&&d(t,["mimeType"],l),t}function Zv(a,e){const t={},i=c(e,["safetyAttributes","categories"]);i!=null&&d(t,["categories"],i);const o=c(e,["safetyAttributes","scores"]);o!=null&&d(t,["scores"],o);const l=c(e,["contentType"]);return l!=null&&d(t,["contentType"],l),t}function Uf(a,e){const t={},i=c(e,["_self"]);i!=null&&d(t,["image"],w1(a,i));const o=c(e,["raiFilteredReason"]);o!=null&&d(t,["raiFilteredReason"],o);const l=c(e,["_self"]);l!=null&&d(t,["safetyAttributes"],Zv(a,l));const f=c(e,["prompt"]);return f!=null&&d(t,["enhancedPrompt"],f),t}function x1(a,e){const t={},i=c(e,["predictions"]);if(i!=null){let l=i;Array.isArray(l)&&(l=l.map(f=>Uf(a,f))),d(t,["generatedImages"],l)}const o=c(e,["positivePromptSafetyAttributes"]);return o!=null&&d(t,["positivePromptSafetyAttributes"],Zv(a,o)),t}function b1(a,e){const t={},i=c(e,["predictions"]);if(i!=null){let o=i;Array.isArray(o)&&(o=o.map(l=>Uf(a,l))),d(t,["generatedImages"],o)}return t}function R1(a,e){const t={},i=c(e,["predictions"]);if(i!=null){let o=i;Array.isArray(o)&&(o=o.map(l=>Uf(a,l))),d(t,["generatedImages"],o)}return t}function M1(a,e){const t={},i=c(e,["endpoint"]);i!=null&&d(t,["name"],i);const o=c(e,["deployedModelId"]);return o!=null&&d(t,["deployedModelId"],o),t}function D1(a,e){const t={},i=c(e,["labels","google-vertex-llm-tuning-base-model-id"]);i!=null&&d(t,["baseModel"],i);const o=c(e,["createTime"]);o!=null&&d(t,["createTime"],o);const l=c(e,["updateTime"]);return l!=null&&d(t,["updateTime"],l),t}function N1(a,e){const t={},i=c(e,["checkpointId"]);i!=null&&d(t,["checkpointId"],i);const o=c(e,["epoch"]);o!=null&&d(t,["epoch"],o);const l=c(e,["step"]);return l!=null&&d(t,["step"],l),t}function gf(a,e){const t={},i=c(e,["name"]);i!=null&&d(t,["name"],i);const o=c(e,["displayName"]);o!=null&&d(t,["displayName"],o);const l=c(e,["description"]);l!=null&&d(t,["description"],l);const f=c(e,["versionId"]);f!=null&&d(t,["version"],f);const m=c(e,["deployedModels"]);if(m!=null){let S=m;Array.isArray(S)&&(S=S.map(E=>M1(a,E))),d(t,["endpoints"],S)}const g=c(e,["labels"]);g!=null&&d(t,["labels"],g);const p=c(e,["_self"]);p!=null&&d(t,["tunedModelInfo"],D1(a,p));const v=c(e,["defaultCheckpointId"]);v!=null&&d(t,["defaultCheckpointId"],v);const _=c(e,["checkpoints"]);if(_!=null){let S=_;Array.isArray(S)&&(S=S.map(E=>N1(a,E))),d(t,["checkpoints"],S)}return t}function k1(a,e){const t={},i=c(e,["nextPageToken"]);i!=null&&d(t,["nextPageToken"],i);const o=c(e,["_self"]);if(o!=null){let l=Vv(a,o);Array.isArray(l)&&(l=l.map(f=>gf(a,f))),d(t,["models"],l)}return t}function U1(){return{}}function I1(a,e){const t={},i=c(e,["totalTokens"]);return i!=null&&d(t,["totalTokens"],i),t}function O1(a,e){const t={},i=c(e,["tokensInfo"]);return i!=null&&d(t,["tokensInfo"],i),t}function L1(a,e){const t={},i=c(e,["gcsUri"]);i!=null&&d(t,["uri"],i);const o=c(e,["bytesBase64Encoded"]);o!=null&&d(t,["videoBytes"],hi(a,o));const l=c(e,["mimeType"]);return l!=null&&d(t,["mimeType"],l),t}function P1(a,e){const t={},i=c(e,["_self"]);return i!=null&&d(t,["video"],L1(a,i)),t}function V1(a,e){const t={},i=c(e,["videos"]);if(i!=null){let f=i;Array.isArray(f)&&(f=f.map(m=>P1(a,m))),d(t,["generatedVideos"],f)}const o=c(e,["raiMediaFilteredCount"]);o!=null&&d(t,["raiMediaFilteredCount"],o);const l=c(e,["raiMediaFilteredReasons"]);return l!=null&&d(t,["raiMediaFilteredReasons"],l),t}function q1(a,e){const t={},i=c(e,["name"]);i!=null&&d(t,["name"],i);const o=c(e,["metadata"]);o!=null&&d(t,["metadata"],o);const l=c(e,["done"]);l!=null&&d(t,["done"],l);const f=c(e,["error"]);f!=null&&d(t,["error"],f);const m=c(e,["response"]);return m!=null&&d(t,["response"],V1(a,m)),t}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */const B1="Content-Type",z1="X-Server-Timeout",G1="User-Agent",yf="x-goog-api-client",H1="1.1.0",$1=`google-genai-sdk/${H1}`,F1="v1beta1",Y1="v1beta",Iy=/^data: (.*)(?:\n\n|\r\r|\r\n\r\n)/;class Kv extends Error{constructor(e,t){t?super(e,{cause:t}):super(e,{cause:new Error().stack}),this.message=e,this.name="ClientError"}}class vf extends Error{constructor(e,t){t?super(e,{cause:t}):super(e,{cause:new Error().stack}),this.message=e,this.name="ServerError"}}class J1{constructor(e){var t,i;this.clientOptions=Object.assign(Object.assign({},e),{project:e.project,location:e.location,apiKey:e.apiKey,vertexai:e.vertexai});const o={};this.clientOptions.vertexai?(o.apiVersion=(t=this.clientOptions.apiVersion)!==null&&t!==void 0?t:F1,o.baseUrl=this.baseUrlFromProjectLocation(),this.normalizeAuthParameters()):(o.apiVersion=(i=this.clientOptions.apiVersion)!==null&&i!==void 0?i:Y1,o.baseUrl="https://generativelanguage.googleapis.com/"),o.headers=this.getDefaultHeaders(),this.clientOptions.httpOptions=o,e.httpOptions&&(this.clientOptions.httpOptions=this.patchHttpOptions(o,e.httpOptions))}baseUrlFromProjectLocation(){return this.clientOptions.project&&this.clientOptions.location&&this.clientOptions.location!=="global"?`https://${this.clientOptions.location}-aiplatform.googleapis.com/`:"https://aiplatform.googleapis.com/"}normalizeAuthParameters(){if(this.clientOptions.project&&this.clientOptions.location){this.clientOptions.apiKey=void 0;return}this.clientOptions.project=void 0,this.clientOptions.location=void 0}isVertexAI(){var e;return(e=this.clientOptions.vertexai)!==null&&e!==void 0?e:!1}getProject(){return this.clientOptions.project}getLocation(){return this.clientOptions.location}getApiVersion(){if(this.clientOptions.httpOptions&&this.clientOptions.httpOptions.apiVersion!==void 0)return this.clientOptions.httpOptions.apiVersion;throw new Error("API version is not set.")}getBaseUrl(){if(this.clientOptions.httpOptions&&this.clientOptions.httpOptions.baseUrl!==void 0)return this.clientOptions.httpOptions.baseUrl;throw new Error("Base URL is not set.")}getRequestUrl(){return this.getRequestUrlInternal(this.clientOptions.httpOptions)}getHeaders(){if(this.clientOptions.httpOptions&&this.clientOptions.httpOptions.headers!==void 0)return this.clientOptions.httpOptions.headers;throw new Error("Headers are not set.")}getRequestUrlInternal(e){if(!e||e.baseUrl===void 0||e.apiVersion===void 0)throw new Error("HTTP options are not correctly set.");const i=[e.baseUrl.endsWith("/")?e.baseUrl.slice(0,-1):e.baseUrl];return e.apiVersion&&e.apiVersion!==""&&i.push(e.apiVersion),i.join("/")}getBaseResourcePath(){return`projects/${this.clientOptions.project}/locations/${this.clientOptions.location}`}getApiKey(){return this.clientOptions.apiKey}getWebsocketBaseUrl(){const e=this.getBaseUrl(),t=new URL(e);return t.protocol=t.protocol=="http:"?"ws":"wss",t.toString()}setBaseUrl(e){if(this.clientOptions.httpOptions)this.clientOptions.httpOptions.baseUrl=e;else throw new Error("HTTP options are not correctly set.")}constructUrl(e,t,i){const o=[this.getRequestUrlInternal(t)];return i&&o.push(this.getBaseResourcePath()),e!==""&&o.push(e),new URL(`${o.join("/")}`)}shouldPrependVertexProjectPath(e){return!(this.clientOptions.apiKey||!this.clientOptions.vertexai||e.path.startsWith("projects/")||e.httpMethod==="GET"&&e.path.startsWith("publishers/google/models"))}async request(e){let t=this.clientOptions.httpOptions;e.httpOptions&&(t=this.patchHttpOptions(this.clientOptions.httpOptions,e.httpOptions));const i=this.shouldPrependVertexProjectPath(e),o=this.constructUrl(e.path,t,i);if(e.queryParams)for(const[f,m]of Object.entries(e.queryParams))o.searchParams.append(f,String(m));let l={};if(e.httpMethod==="GET"){if(e.body&&e.body!=="{}")throw new Error("Request body should be empty for GET request, but got non empty request body")}else l.body=e.body;return l=await this.includeExtraHttpOptionsToRequestInit(l,t,e.abortSignal),this.unaryApiCall(o,l,e.httpMethod)}patchHttpOptions(e,t){const i=JSON.parse(JSON.stringify(e));for(const[o,l]of Object.entries(t))typeof l=="object"?i[o]=Object.assign(Object.assign({},i[o]),l):l!==void 0&&(i[o]=l);return i}async requestStream(e){let t=this.clientOptions.httpOptions;e.httpOptions&&(t=this.patchHttpOptions(this.clientOptions.httpOptions,e.httpOptions));const i=this.shouldPrependVertexProjectPath(e),o=this.constructUrl(e.path,t,i);(!o.searchParams.has("alt")||o.searchParams.get("alt")!=="sse")&&o.searchParams.set("alt","sse");let l={};return l.body=e.body,l=await this.includeExtraHttpOptionsToRequestInit(l,t,e.abortSignal),this.streamApiCall(o,l,e.httpMethod)}async includeExtraHttpOptionsToRequestInit(e,t,i){if(t&&t.timeout||i){const o=new AbortController,l=o.signal;t.timeout&&(t==null?void 0:t.timeout)>0&&setTimeout(()=>o.abort(),t.timeout),i&&i.addEventListener("abort",()=>{o.abort()}),e.signal=l}return e.headers=await this.getHeadersInternal(t),e}async unaryApiCall(e,t,i){return this.apiCall(e.toString(),Object.assign(Object.assign({},t),{method:i})).then(async o=>(await Oy(o),new ff(o))).catch(o=>{throw o instanceof Error?o:new Error(JSON.stringify(o))})}async streamApiCall(e,t,i){return this.apiCall(e.toString(),Object.assign(Object.assign({},t),{method:i})).then(async o=>(await Oy(o),this.processStreamResponse(o))).catch(o=>{throw o instanceof Error?o:new Error(JSON.stringify(o))})}processStreamResponse(e){var t;return co(this,arguments,function*(){const o=(t=e==null?void 0:e.body)===null||t===void 0?void 0:t.getReader(),l=new TextDecoder("utf-8");if(!o)throw new Error("Response body is empty");try{let f="";for(;;){const{done:m,value:g}=yield Fe(o.read());if(m){if(f.trim().length>0)throw new Error("Incomplete JSON segment at the end");break}const p=l.decode(g);try{const _=JSON.parse(p);if("error"in _){const S=JSON.parse(JSON.stringify(_.error)),E=S.status,A=S.code,b=`got status: ${E}. ${JSON.stringify(_)}`;if(A>=400&&A<500)throw new Kv(b);if(A>=500&&A<600)throw new vf(b)}}catch(_){const S=_;if(S.name==="ClientError"||S.name==="ServerError")throw _}f+=p;let v=f.match(Iy);for(;v;){const _=v[1];try{const S=new Response(_,{headers:e==null?void 0:e.headers,status:e==null?void 0:e.status,statusText:e==null?void 0:e.statusText});yield yield Fe(new ff(S)),f=f.slice(v[0].length),v=f.match(Iy)}catch(S){throw new Error(`exception parsing stream chunk ${_}. ${S}`)}}}}finally{o.releaseLock()}})}async apiCall(e,t){return fetch(e,t).catch(i=>{throw new Error(`exception ${i} sending request`)})}getDefaultHeaders(){const e={},t=$1+" "+this.clientOptions.userAgentExtra;return e[G1]=t,e[yf]=t,e[B1]="application/json",e}async getHeadersInternal(e){const t=new Headers;if(e&&e.headers){for(const[i,o]of Object.entries(e.headers))t.append(i,o);e.timeout&&e.timeout>0&&t.append(z1,String(Math.ceil(e.timeout/1e3)))}return await this.clientOptions.auth.addAuthHeaders(t),t}async uploadFile(e,t){var i;const o={};t!=null&&(o.mimeType=t.mimeType,o.name=t.name,o.displayName=t.displayName),o.name&&!o.name.startsWith("files/")&&(o.name=`files/${o.name}`);const l=this.clientOptions.uploader,f=await l.stat(e);o.sizeBytes=String(f.size);const m=(i=t==null?void 0:t.mimeType)!==null&&i!==void 0?i:f.type;if(m===void 0||m==="")throw new Error("Can not determine mimeType. Please provide mimeType in the config.");o.mimeType=m;const g=await this.fetchUploadUrl(o,t);return l.upload(e,g,this)}async downloadFile(e){await this.clientOptions.downloader.download(e,this)}async fetchUploadUrl(e,t){var i;let o={};t!=null&&t.httpOptions?o=t.httpOptions:o={apiVersion:"",headers:{"Content-Type":"application/json","X-Goog-Upload-Protocol":"resumable","X-Goog-Upload-Command":"start","X-Goog-Upload-Header-Content-Length":`${e.sizeBytes}`,"X-Goog-Upload-Header-Content-Type":`${e.mimeType}`}};const l={file:e},f=await this.request({path:fe("upload/v1beta/files",l._url),body:JSON.stringify(l),httpMethod:"POST",httpOptions:o});if(!f||!(f!=null&&f.headers))throw new Error("Server did not return an HttpResponse or the returned HttpResponse did not have headers.");const m=(i=f==null?void 0:f.headers)===null||i===void 0?void 0:i["x-goog-upload-url"];if(m===void 0)throw new Error("Failed to get upload url. Server did not return the x-google-upload-url in the headers");return m}}async function Oy(a){var e;if(a===void 0)throw new vf("response is undefined");if(!a.ok){const t=a.status,i=a.statusText;let o;!((e=a.headers.get("content-type"))===null||e===void 0)&&e.includes("application/json")?o=await a.json():o={error:{message:await a.text(),code:a.status,status:a.statusText}};const l=`got status: ${t} ${i}. ${JSON.stringify(o)}`;throw t>=400&&t<500?new Kv(l):t>=500&&t<600?new vf(l):new Error(l)}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */const Ly="mcp_used/unknown";function Xv(a){for(const e of a)if(If(e)||typeof e=="object"&&"inputSchema"in e)return!0;return!1}function Qv(a){var e;const t=(e=a[yf])!==null&&e!==void 0?e:"";t.includes(Ly)||(a[yf]=(t+` ${Ly}`).trimStart())}function Z1(a){var e,t,i;return(i=(t=(e=a.config)===null||e===void 0?void 0:e.tools)===null||t===void 0?void 0:t.some(o=>If(o)))!==null&&i!==void 0?i:!1}function K1(a){var e,t,i;return(i=(t=(e=a.config)===null||e===void 0?void 0:e.tools)===null||t===void 0?void 0:t.some(o=>!If(o)))!==null&&i!==void 0?i:!1}function If(a){return a!==null&&typeof a=="object"&&"tool"in a&&"callTool"in a}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */async function X1(a,e,t){const i=new XA;let o;t.data instanceof Blob?o=JSON.parse(await t.data.text()):o=JSON.parse(t.data);const l=fR(a,o);Object.assign(i,l),e(i)}class Q1{constructor(e,t,i){this.apiClient=e,this.auth=t,this.webSocketFactory=i}async connect(e){var t,i;if(this.apiClient.isVertexAI())throw new Error("Live music is not supported for Vertex AI.");console.warn("Live music generation is experimental and may change in future versions.");const o=this.apiClient.getWebsocketBaseUrl(),l=this.apiClient.getApiVersion(),f=eD(this.apiClient.getDefaultHeaders()),m=this.apiClient.getApiKey(),g=`${o}/ws/google.ai.generativelanguage.${l}.GenerativeService.BidiGenerateMusic?key=${m}`;let p=()=>{};const v=new Promise(H=>{p=H}),_=e.callbacks,S=function(){p({})},E=this.apiClient,A={onopen:S,onmessage:H=>{X1(E,_.onmessage,H)},onerror:(t=_==null?void 0:_.onerror)!==null&&t!==void 0?t:function(H){},onclose:(i=_==null?void 0:_.onclose)!==null&&i!==void 0?i:function(H){}},b=this.webSocketFactory.create(g,j1(f),A);b.connect(),await v;const N=Ge(this.apiClient,e.model),O=Hv(this.apiClient,{model:N}),q=mf(this.apiClient,{setup:O});return b.send(JSON.stringify(q)),new W1(b,this.apiClient)}}class W1{constructor(e,t){this.conn=e,this.apiClient=t}async setWeightedPrompts(e){if(!e.weightedPrompts||Object.keys(e.weightedPrompts).length===0)throw new Error("Weighted prompts must be set and contain at least one entry.");const t=wb(this.apiClient,e),i=$v(this.apiClient,t);this.conn.send(JSON.stringify({clientContent:i}))}async setMusicGenerationConfig(e){e.musicGenerationConfig||(e.musicGenerationConfig={});const t=xb(this.apiClient,e),i=mf(this.apiClient,t);this.conn.send(JSON.stringify(i))}sendPlaybackControl(e){const t=mf(this.apiClient,{playbackControl:e});this.conn.send(JSON.stringify(t))}play(){this.sendPlaybackControl(Pr.PLAY)}pause(){this.sendPlaybackControl(Pr.PAUSE)}stop(){this.sendPlaybackControl(Pr.STOP)}resetContext(){this.sendPlaybackControl(Pr.RESET_CONTEXT)}close(){this.conn.close()}}function j1(a){const e={};return a.forEach((t,i)=>{e[i]=t}),e}function eD(a){const e=new Headers;for(const[t,i]of Object.entries(a))e.append(t,i);return e}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */const tD="FunctionResponse request must have an `id` field from the response of a ToolCall.FunctionalCalls in Google AI.";async function nD(a,e,t){const i=new KA;let o;if(t.data instanceof Blob?o=JSON.parse(await t.data.text()):o=JSON.parse(t.data),a.isVertexAI()){const l=nR(a,o);Object.assign(i,l)}else{const l=tR(a,o);Object.assign(i,l)}e(i)}class iD{constructor(e,t,i){this.apiClient=e,this.auth=t,this.webSocketFactory=i,this.music=new Q1(this.apiClient,this.auth,this.webSocketFactory)}async connect(e){var t,i,o,l,f,m;const g=this.apiClient.getWebsocketBaseUrl(),p=this.apiClient.getApiVersion();let v;const _=this.apiClient.getDefaultHeaders();e.config&&e.config.tools&&Xv(e.config.tools)&&Qv(_);const S=sD(_);if(this.apiClient.isVertexAI())v=`${g}/ws/google.cloud.aiplatform.${p}.LlmBidiService/BidiGenerateContent`,await this.auth.addAuthHeaders(S);else{const te=this.apiClient.getApiKey();v=`${g}/ws/google.ai.generativelanguage.${p}.GenerativeService.BidiGenerateContent?key=${te}`}let E=()=>{};const A=new Promise(te=>{E=te}),b=e.callbacks,N=function(){var te;(te=b==null?void 0:b.onopen)===null||te===void 0||te.call(b),E({})},O=this.apiClient,q={onopen:N,onmessage:te=>{nD(O,b.onmessage,te)},onerror:(t=b==null?void 0:b.onerror)!==null&&t!==void 0?t:function(te){},onclose:(i=b==null?void 0:b.onclose)!==null&&i!==void 0?i:function(te){}},H=this.webSocketFactory.create(v,oD(S),q);H.connect(),await A;let J=Ge(this.apiClient,e.model);if(this.apiClient.isVertexAI()&&J.startsWith("publishers/")){const te=this.apiClient.getProject(),me=this.apiClient.getLocation();J=`projects/${te}/locations/${me}/`+J}let F={};this.apiClient.isVertexAI()&&((o=e.config)===null||o===void 0?void 0:o.responseModalities)===void 0&&(e.config===void 0?e.config={responseModalities:[rl.AUDIO]}:e.config.responseModalities=[rl.AUDIO]),!((l=e.config)===null||l===void 0)&&l.generationConfig&&console.warn("Setting `LiveConnectConfig.generation_config` is deprecated, please set the fields on `LiveConnectConfig` directly. This will become an error in a future version (not before Q3 2025).");const oe=(m=(f=e.config)===null||f===void 0?void 0:f.tools)!==null&&m!==void 0?m:[],se=[];for(const te of oe)if(this.isCallableTool(te)){const me=te;se.push(await me.tool())}else se.push(te);se.length>0&&(e.config.tools=se);const ve={model:J,config:e.config,callbacks:e.callbacks};return this.apiClient.isVertexAI()?F=vb(this.apiClient,ve):F=yb(this.apiClient,ve),delete F.config,H.send(JSON.stringify(F)),new aD(H,this.apiClient)}isCallableTool(e){return"callTool"in e&&typeof e.callTool=="function"}}const rD={turnComplete:!0};class aD{constructor(e,t){this.conn=e,this.apiClient=t}tLiveClientContent(e,t){if(t.turns!==null&&t.turns!==void 0){let i=[];try{i=Wt(e,t.turns),e.isVertexAI()?i=i.map(o=>Xr(e,o)):i=i.map(o=>hl(e,o))}catch{throw new Error(`Failed to parse client content "turns", type: '${typeof t.turns}'`)}return{clientContent:{turns:i,turnComplete:t.turnComplete}}}return{clientContent:{turnComplete:t.turnComplete}}}tLiveClienttToolResponse(e,t){let i=[];if(t.functionResponses==null)throw new Error("functionResponses is required.");if(Array.isArray(t.functionResponses)?i=t.functionResponses:i=[t.functionResponses],i.length===0)throw new Error("functionResponses is required.");for(const l of i){if(typeof l!="object"||l===null||!("name"in l)||!("response"in l))throw new Error(`Could not parse function response, type '${typeof l}'.`);if(!e.isVertexAI()&&!("id"in l))throw new Error(tD)}return{toolResponse:{functionResponses:i}}}sendClientContent(e){e=Object.assign(Object.assign({},rD),e);const t=this.tLiveClientContent(this.apiClient,e);this.conn.send(JSON.stringify(t))}sendRealtimeInput(e){let t={};this.apiClient.isVertexAI()?t={realtimeInput:Ab(this.apiClient,e)}:t={realtimeInput:Eb(this.apiClient,e)},this.conn.send(JSON.stringify(t))}sendToolResponse(e){if(e.functionResponses==null)throw new Error("Tool response parameters are required.");const t=this.tLiveClienttToolResponse(this.apiClient,e);this.conn.send(JSON.stringify(t))}close(){this.conn.close()}}function oD(a){const e={};return a.forEach((t,i)=>{e[i]=t}),e}function sD(a){const e=new Headers;for(const[t,i]of Object.entries(a))e.append(t,i);return e}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */const Py=10;function Vy(a){var e,t,i;if(!((e=a==null?void 0:a.automaticFunctionCalling)===null||e===void 0)&&e.disable)return!0;let o=!1;for(const f of(t=a==null?void 0:a.tools)!==null&&t!==void 0?t:[])if(Zs(f)){o=!0;break}if(!o)return!0;const l=(i=a==null?void 0:a.automaticFunctionCalling)===null||i===void 0?void 0:i.maximumRemoteCalls;return l&&(l<0||!Number.isInteger(l))||l==0?(console.warn("Invalid maximumRemoteCalls value provided for automatic function calling. Disabled automatic function calling. Please provide a valid integer value greater than 0. maximumRemoteCalls provided:",l),!0):!1}function Zs(a){return"callTool"in a&&typeof a.callTool=="function"}function qy(a){var e;return!(!((e=a==null?void 0:a.automaticFunctionCalling)===null||e===void 0)&&e.ignoreCallHistory)}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class lD extends _o{constructor(e){super(),this.apiClient=e,this.generateContent=async t=>{var i,o,l,f,m;const g=await this.processParamsForMcpUsage(t);if(!Z1(t)||Vy(t.config))return await this.generateContentInternal(g);if(K1(t))throw new Error("Automatic function calling with CallableTools and Tools is not yet supported.");let p,v;const _=Wt(this.apiClient,g.contents),S=(l=(o=(i=g.config)===null||i===void 0?void 0:i.automaticFunctionCalling)===null||o===void 0?void 0:o.maximumRemoteCalls)!==null&&l!==void 0?l:Py;let E=0;for(;E<S&&(p=await this.generateContentInternal(g),!(!p.functionCalls||p.functionCalls.length===0));){const A=p.candidates[0].content,b=[];for(const N of(m=(f=t.config)===null||f===void 0?void 0:f.tools)!==null&&m!==void 0?m:[])if(Zs(N)){const q=await N.callTool(p.functionCalls);b.push(...q)}E++,v={role:"user",parts:b},g.contents=Wt(this.apiClient,g.contents),g.contents.push(A),g.contents.push(v),qy(g.config)&&(_.push(A),_.push(v))}return qy(g.config)&&(p.automaticFunctionCallingHistory=_),p},this.generateContentStream=async t=>{if(Vy(t.config)){const i=await this.processParamsForMcpUsage(t);return await this.generateContentStreamInternal(i)}else return await this.processAfcStream(t)},this.generateImages=async t=>await this.generateImagesInternal(t).then(i=>{var o;let l;const f=[];if(i!=null&&i.generatedImages)for(const g of i.generatedImages)g&&(g!=null&&g.safetyAttributes)&&((o=g==null?void 0:g.safetyAttributes)===null||o===void 0?void 0:o.contentType)==="Positive Prompt"?l=g==null?void 0:g.safetyAttributes:f.push(g);let m;return l?m={generatedImages:f,positivePromptSafetyAttributes:l}:m={generatedImages:f},m}),this.list=async t=>{var i;const f={config:Object.assign(Object.assign({},{queryBase:!0}),t==null?void 0:t.config)};if(this.apiClient.isVertexAI()&&!f.config.queryBase){if(!((i=f.config)===null||i===void 0)&&i.filter)throw new Error("Filtering tuned models list for Vertex AI is not currently supported");f.config.filter="labels.tune-type:*"}return new dl(Yr.PAGED_ITEM_MODELS,m=>this.listInternal(m),await this.listInternal(f),f)},this.editImage=async t=>{const i={model:t.model,prompt:t.prompt,referenceImages:[],config:t.config};return t.referenceImages&&t.referenceImages&&(i.referenceImages=t.referenceImages.map(o=>o.toReferenceImageAPI())),await this.editImageInternal(i)},this.upscaleImage=async t=>{let i={numberOfImages:1,mode:"upscale"};t.config&&(i=Object.assign(Object.assign({},i),t.config));const o={model:t.model,image:t.image,upscaleFactor:t.upscaleFactor,config:i};return await this.upscaleImageInternal(o)}}async processParamsForMcpUsage(e){var t,i,o;const l=(t=e.config)===null||t===void 0?void 0:t.tools;if(!l)return e;const f=await Promise.all(l.map(async g=>Zs(g)?await g.tool():g)),m={model:e.model,contents:e.contents,config:Object.assign(Object.assign({},e.config),{tools:f})};if(m.config.tools=f,e.config&&e.config.tools&&Xv(e.config.tools)){const g=(o=(i=e.config.httpOptions)===null||i===void 0?void 0:i.headers)!==null&&o!==void 0?o:{};let p=Object.assign({},g);Object.keys(p).length===0&&(p=this.apiClient.getDefaultHeaders()),Qv(p),m.config.httpOptions=Object.assign(Object.assign({},e.config.httpOptions),{headers:p})}return m}async initAfcToolsMap(e){var t,i,o;const l=new Map;for(const f of(i=(t=e.config)===null||t===void 0?void 0:t.tools)!==null&&i!==void 0?i:[])if(Zs(f)){const m=f,g=await m.tool();for(const p of(o=g.functionDeclarations)!==null&&o!==void 0?o:[]){if(!p.name)throw new Error("Function declaration name is required.");if(l.has(p.name))throw new Error(`Duplicate tool declaration name: ${p.name}`);l.set(p.name,m)}}return l}async processAfcStream(e){var t,i,o;const l=(o=(i=(t=e.config)===null||t===void 0?void 0:t.automaticFunctionCalling)===null||i===void 0?void 0:i.maximumRemoteCalls)!==null&&o!==void 0?o:Py;let f=!1,m=0;const g=await this.initAfcToolsMap(e);return function(p,v,_){var S,E;return co(this,arguments,function*(){for(var A,b,N,O;m<l;){f&&(m++,f=!1);const F=yield Fe(p.processParamsForMcpUsage(_)),oe=yield Fe(p.generateContentStreamInternal(F)),se=[],ve=[];try{for(var q=!0,H=(b=void 0,Js(oe)),J;J=yield Fe(H.next()),A=J.done,!A;q=!0){O=J.value,q=!1;const te=O;if(yield yield Fe(te),te.candidates&&(!((S=te.candidates[0])===null||S===void 0)&&S.content)){ve.push(te.candidates[0].content);for(const me of(E=te.candidates[0].content.parts)!==null&&E!==void 0?E:[])if(m<l&&me.functionCall){if(!me.functionCall.name)throw new Error("Function call name was not returned by the model.");if(v.has(me.functionCall.name)){const ze=yield Fe(v.get(me.functionCall.name).callTool([me.functionCall]));se.push(...ze)}else throw new Error(`Automatic function calling was requested, but not all the tools the model used implement the CallableTool interface. Available tools: ${v.keys()}, mising tool: ${me.functionCall.name}`)}}}}catch(te){b={error:te}}finally{try{!q&&!A&&(N=H.return)&&(yield Fe(N.call(H)))}finally{if(b)throw b.error}}if(se.length>0){f=!0;const te=new eo;te.candidates=[{content:{role:"user",parts:se}}],yield yield Fe(te);const me=[];me.push(...ve),me.push({role:"user",parts:se});const ze=Wt(p.apiClient,_.contents).concat(me);_.contents=ze}else break}})}(this,g,e)}async generateContentInternal(e){var t,i,o,l;let f,m="",g={};if(this.apiClient.isVertexAI()){const p=Ny(this.apiClient,e);return m=fe("{model}:generateContent",p._url),g=p._query,delete p.config,delete p._url,delete p._query,f=this.apiClient.request({path:m,queryParams:g,body:JSON.stringify(p),httpMethod:"POST",httpOptions:(t=e.config)===null||t===void 0?void 0:t.httpOptions,abortSignal:(i=e.config)===null||i===void 0?void 0:i.abortSignal}).then(v=>v.json()),f.then(v=>{const _=Uy(this.apiClient,v),S=new eo;return Object.assign(S,_),S})}else{const p=Dy(this.apiClient,e);return m=fe("{model}:generateContent",p._url),g=p._query,delete p.config,delete p._url,delete p._query,f=this.apiClient.request({path:m,queryParams:g,body:JSON.stringify(p),httpMethod:"POST",httpOptions:(o=e.config)===null||o===void 0?void 0:o.httpOptions,abortSignal:(l=e.config)===null||l===void 0?void 0:l.abortSignal}).then(v=>v.json()),f.then(v=>{const _=ky(this.apiClient,v),S=new eo;return Object.assign(S,_),S})}}async generateContentStreamInternal(e){var t,i,o,l;let f,m="",g={};if(this.apiClient.isVertexAI()){const p=Ny(this.apiClient,e);m=fe("{model}:streamGenerateContent?alt=sse",p._url),g=p._query,delete p.config,delete p._url,delete p._query;const v=this.apiClient;return f=v.requestStream({path:m,queryParams:g,body:JSON.stringify(p),httpMethod:"POST",httpOptions:(t=e.config)===null||t===void 0?void 0:t.httpOptions,abortSignal:(i=e.config)===null||i===void 0?void 0:i.abortSignal}),f.then(function(_){return co(this,arguments,function*(){var S,E,A,b;try{for(var N=!0,O=Js(_),q;q=yield Fe(O.next()),S=q.done,!S;N=!0){b=q.value,N=!1;const J=Uy(v,yield Fe(b.json())),F=new eo;Object.assign(F,J),yield yield Fe(F)}}catch(H){E={error:H}}finally{try{!N&&!S&&(A=O.return)&&(yield Fe(A.call(O)))}finally{if(E)throw E.error}}})})}else{const p=Dy(this.apiClient,e);m=fe("{model}:streamGenerateContent?alt=sse",p._url),g=p._query,delete p.config,delete p._url,delete p._query;const v=this.apiClient;return f=v.requestStream({path:m,queryParams:g,body:JSON.stringify(p),httpMethod:"POST",httpOptions:(o=e.config)===null||o===void 0?void 0:o.httpOptions,abortSignal:(l=e.config)===null||l===void 0?void 0:l.abortSignal}),f.then(function(_){return co(this,arguments,function*(){var S,E,A,b;try{for(var N=!0,O=Js(_),q;q=yield Fe(O.next()),S=q.done,!S;N=!0){b=q.value,N=!1;const J=ky(v,yield Fe(b.json())),F=new eo;Object.assign(F,J),yield yield Fe(F)}}catch(H){E={error:H}}finally{try{!N&&!S&&(A=O.return)&&(yield Fe(A.call(O)))}finally{if(E)throw E.error}}})})}}async embedContent(e){var t,i,o,l;let f,m="",g={};if(this.apiClient.isVertexAI()){const p=CM(this.apiClient,e);return m=fe("{model}:predict",p._url),g=p._query,delete p.config,delete p._url,delete p._query,f=this.apiClient.request({path:m,queryParams:g,body:JSON.stringify(p),httpMethod:"POST",httpOptions:(t=e.config)===null||t===void 0?void 0:t.httpOptions,abortSignal:(i=e.config)===null||i===void 0?void 0:i.abortSignal}).then(v=>v.json()),f.then(v=>{const _=A1(this.apiClient,v),S=new cy;return Object.assign(S,_),S})}else{const p=LR(this.apiClient,e);return m=fe("{model}:batchEmbedContents",p._url),g=p._query,delete p.config,delete p._url,delete p._query,f=this.apiClient.request({path:m,queryParams:g,body:JSON.stringify(p),httpMethod:"POST",httpOptions:(o=e.config)===null||o===void 0?void 0:o.httpOptions,abortSignal:(l=e.config)===null||l===void 0?void 0:l.abortSignal}).then(v=>v.json()),f.then(v=>{const _=n1(this.apiClient,v),S=new cy;return Object.assign(S,_),S})}}async generateImagesInternal(e){var t,i,o,l;let f,m="",g={};if(this.apiClient.isVertexAI()){const p=AM(this.apiClient,e);return m=fe("{model}:predict",p._url),g=p._query,delete p.config,delete p._url,delete p._query,f=this.apiClient.request({path:m,queryParams:g,body:JSON.stringify(p),httpMethod:"POST",httpOptions:(t=e.config)===null||t===void 0?void 0:t.httpOptions,abortSignal:(i=e.config)===null||i===void 0?void 0:i.abortSignal}).then(v=>v.json()),f.then(v=>{const _=x1(this.apiClient,v),S=new fy;return Object.assign(S,_),S})}else{const p=VR(this.apiClient,e);return m=fe("{model}:predict",p._url),g=p._query,delete p.config,delete p._url,delete p._query,f=this.apiClient.request({path:m,queryParams:g,body:JSON.stringify(p),httpMethod:"POST",httpOptions:(o=e.config)===null||o===void 0?void 0:o.httpOptions,abortSignal:(l=e.config)===null||l===void 0?void 0:l.abortSignal}).then(v=>v.json()),f.then(v=>{const _=a1(this.apiClient,v),S=new fy;return Object.assign(S,_),S})}}async editImageInternal(e){var t,i;let o,l="",f={};if(this.apiClient.isVertexAI()){const m=NM(this.apiClient,e);return l=fe("{model}:predict",m._url),f=m._query,delete m.config,delete m._url,delete m._query,o=this.apiClient.request({path:l,queryParams:f,body:JSON.stringify(m),httpMethod:"POST",httpOptions:(t=e.config)===null||t===void 0?void 0:t.httpOptions,abortSignal:(i=e.config)===null||i===void 0?void 0:i.abortSignal}).then(g=>g.json()),o.then(g=>{const p=b1(this.apiClient,g),v=new HA;return Object.assign(v,p),v})}else throw new Error("This method is only supported by the Vertex AI.")}async upscaleImageInternal(e){var t,i;let o,l="",f={};if(this.apiClient.isVertexAI()){const m=UM(this.apiClient,e);return l=fe("{model}:predict",m._url),f=m._query,delete m.config,delete m._url,delete m._query,o=this.apiClient.request({path:l,queryParams:f,body:JSON.stringify(m),httpMethod:"POST",httpOptions:(t=e.config)===null||t===void 0?void 0:t.httpOptions,abortSignal:(i=e.config)===null||i===void 0?void 0:i.abortSignal}).then(g=>g.json()),o.then(g=>{const p=R1(this.apiClient,g),v=new $A;return Object.assign(v,p),v})}else throw new Error("This method is only supported by the Vertex AI.")}async get(e){var t,i,o,l;let f,m="",g={};if(this.apiClient.isVertexAI()){const p=IM(this.apiClient,e);return m=fe("{name}",p._url),g=p._query,delete p.config,delete p._url,delete p._query,f=this.apiClient.request({path:m,queryParams:g,body:JSON.stringify(p),httpMethod:"GET",httpOptions:(t=e.config)===null||t===void 0?void 0:t.httpOptions,abortSignal:(i=e.config)===null||i===void 0?void 0:i.abortSignal}).then(v=>v.json()),f.then(v=>gf(this.apiClient,v))}else{const p=qR(this.apiClient,e);return m=fe("{name}",p._url),g=p._query,delete p.config,delete p._url,delete p._query,f=this.apiClient.request({path:m,queryParams:g,body:JSON.stringify(p),httpMethod:"GET",httpOptions:(o=e.config)===null||o===void 0?void 0:o.httpOptions,abortSignal:(l=e.config)===null||l===void 0?void 0:l.abortSignal}).then(v=>v.json()),f.then(v=>pf(this.apiClient,v))}}async listInternal(e){var t,i,o,l;let f,m="",g={};if(this.apiClient.isVertexAI()){const p=LM(this.apiClient,e);return m=fe("{models_url}",p._url),g=p._query,delete p.config,delete p._url,delete p._query,f=this.apiClient.request({path:m,queryParams:g,body:JSON.stringify(p),httpMethod:"GET",httpOptions:(t=e.config)===null||t===void 0?void 0:t.httpOptions,abortSignal:(i=e.config)===null||i===void 0?void 0:i.abortSignal}).then(v=>v.json()),f.then(v=>{const _=k1(this.apiClient,v),S=new dy;return Object.assign(S,_),S})}else{const p=zR(this.apiClient,e);return m=fe("{models_url}",p._url),g=p._query,delete p.config,delete p._url,delete p._query,f=this.apiClient.request({path:m,queryParams:g,body:JSON.stringify(p),httpMethod:"GET",httpOptions:(o=e.config)===null||o===void 0?void 0:o.httpOptions,abortSignal:(l=e.config)===null||l===void 0?void 0:l.abortSignal}).then(v=>v.json()),f.then(v=>{const _=s1(this.apiClient,v),S=new dy;return Object.assign(S,_),S})}}async update(e){var t,i,o,l;let f,m="",g={};if(this.apiClient.isVertexAI()){const p=VM(this.apiClient,e);return m=fe("{model}",p._url),g=p._query,delete p.config,delete p._url,delete p._query,f=this.apiClient.request({path:m,queryParams:g,body:JSON.stringify(p),httpMethod:"PATCH",httpOptions:(t=e.config)===null||t===void 0?void 0:t.httpOptions,abortSignal:(i=e.config)===null||i===void 0?void 0:i.abortSignal}).then(v=>v.json()),f.then(v=>gf(this.apiClient,v))}else{const p=HR(this.apiClient,e);return m=fe("{name}",p._url),g=p._query,delete p.config,delete p._url,delete p._query,f=this.apiClient.request({path:m,queryParams:g,body:JSON.stringify(p),httpMethod:"PATCH",httpOptions:(o=e.config)===null||o===void 0?void 0:o.httpOptions,abortSignal:(l=e.config)===null||l===void 0?void 0:l.abortSignal}).then(v=>v.json()),f.then(v=>pf(this.apiClient,v))}}async delete(e){var t,i,o,l;let f,m="",g={};if(this.apiClient.isVertexAI()){const p=qM(this.apiClient,e);return m=fe("{name}",p._url),g=p._query,delete p.config,delete p._url,delete p._query,f=this.apiClient.request({path:m,queryParams:g,body:JSON.stringify(p),httpMethod:"DELETE",httpOptions:(t=e.config)===null||t===void 0?void 0:t.httpOptions,abortSignal:(i=e.config)===null||i===void 0?void 0:i.abortSignal}).then(v=>v.json()),f.then(()=>{const v=U1(),_=new hy;return Object.assign(_,v),_})}else{const p=$R(this.apiClient,e);return m=fe("{name}",p._url),g=p._query,delete p.config,delete p._url,delete p._query,f=this.apiClient.request({path:m,queryParams:g,body:JSON.stringify(p),httpMethod:"DELETE",httpOptions:(o=e.config)===null||o===void 0?void 0:o.httpOptions,abortSignal:(l=e.config)===null||l===void 0?void 0:l.abortSignal}).then(v=>v.json()),f.then(()=>{const v=l1(),_=new hy;return Object.assign(_,v),_})}}async countTokens(e){var t,i,o,l;let f,m="",g={};if(this.apiClient.isVertexAI()){const p=zM(this.apiClient,e);return m=fe("{model}:countTokens",p._url),g=p._query,delete p.config,delete p._url,delete p._query,f=this.apiClient.request({path:m,queryParams:g,body:JSON.stringify(p),httpMethod:"POST",httpOptions:(t=e.config)===null||t===void 0?void 0:t.httpOptions,abortSignal:(i=e.config)===null||i===void 0?void 0:i.abortSignal}).then(v=>v.json()),f.then(v=>{const _=I1(this.apiClient,v),S=new my;return Object.assign(S,_),S})}else{const p=YR(this.apiClient,e);return m=fe("{model}:countTokens",p._url),g=p._query,delete p.config,delete p._url,delete p._query,f=this.apiClient.request({path:m,queryParams:g,body:JSON.stringify(p),httpMethod:"POST",httpOptions:(o=e.config)===null||o===void 0?void 0:o.httpOptions,abortSignal:(l=e.config)===null||l===void 0?void 0:l.abortSignal}).then(v=>v.json()),f.then(v=>{const _=u1(this.apiClient,v),S=new my;return Object.assign(S,_),S})}}async computeTokens(e){var t,i;let o,l="",f={};if(this.apiClient.isVertexAI()){const m=GM(this.apiClient,e);return l=fe("{model}:computeTokens",m._url),f=m._query,delete m.config,delete m._url,delete m._query,o=this.apiClient.request({path:l,queryParams:f,body:JSON.stringify(m),httpMethod:"POST",httpOptions:(t=e.config)===null||t===void 0?void 0:t.httpOptions,abortSignal:(i=e.config)===null||i===void 0?void 0:i.abortSignal}).then(g=>g.json()),o.then(g=>{const p=O1(this.apiClient,g),v=new FA;return Object.assign(v,p),v})}else throw new Error("This method is only supported by the Vertex AI.")}async generateVideos(e){var t,i,o,l;let f,m="",g={};if(this.apiClient.isVertexAI()){const p=$M(this.apiClient,e);return m=fe("{model}:predictLongRunning",p._url),g=p._query,delete p.config,delete p._url,delete p._query,f=this.apiClient.request({path:m,queryParams:g,body:JSON.stringify(p),httpMethod:"POST",httpOptions:(t=e.config)===null||t===void 0?void 0:t.httpOptions,abortSignal:(i=e.config)===null||i===void 0?void 0:i.abortSignal}).then(v=>v.json()),f.then(v=>q1(this.apiClient,v))}else{const p=KR(this.apiClient,e);return m=fe("{model}:predictLongRunning",p._url),g=p._query,delete p.config,delete p._url,delete p._query,f=this.apiClient.request({path:m,queryParams:g,body:JSON.stringify(p),httpMethod:"POST",httpOptions:(o=e.config)===null||o===void 0?void 0:o.httpOptions,abortSignal:(l=e.config)===null||l===void 0?void 0:l.abortSignal}).then(v=>v.json()),f.then(v=>h1(this.apiClient,v))}}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function uD(a,e){const t={},i=c(e,["operationName"]);i!=null&&d(t,["_url","operationName"],i);const o=c(e,["config"]);return o!=null&&d(t,["config"],o),t}function cD(a,e){const t={},i=c(e,["operationName"]);i!=null&&d(t,["_url","operationName"],i);const o=c(e,["config"]);return o!=null&&d(t,["config"],o),t}function fD(a,e){const t={},i=c(e,["operationName"]);i!=null&&d(t,["operationName"],i);const o=c(e,["resourceName"]);o!=null&&d(t,["_url","resourceName"],o);const l=c(e,["config"]);return l!=null&&d(t,["config"],l),t}function dD(a,e){const t={},i=c(e,["video","uri"]);i!=null&&d(t,["uri"],i);const o=c(e,["video","encodedVideo"]);o!=null&&d(t,["videoBytes"],hi(a,o));const l=c(e,["encoding"]);return l!=null&&d(t,["mimeType"],l),t}function hD(a,e){const t={},i=c(e,["_self"]);return i!=null&&d(t,["video"],dD(a,i)),t}function mD(a,e){const t={},i=c(e,["generatedSamples"]);if(i!=null){let f=i;Array.isArray(f)&&(f=f.map(m=>hD(a,m))),d(t,["generatedVideos"],f)}const o=c(e,["raiMediaFilteredCount"]);o!=null&&d(t,["raiMediaFilteredCount"],o);const l=c(e,["raiMediaFilteredReasons"]);return l!=null&&d(t,["raiMediaFilteredReasons"],l),t}function pD(a,e){const t={},i=c(e,["name"]);i!=null&&d(t,["name"],i);const o=c(e,["metadata"]);o!=null&&d(t,["metadata"],o);const l=c(e,["done"]);l!=null&&d(t,["done"],l);const f=c(e,["error"]);f!=null&&d(t,["error"],f);const m=c(e,["response","generateVideoResponse"]);return m!=null&&d(t,["response"],mD(a,m)),t}function gD(a,e){const t={},i=c(e,["gcsUri"]);i!=null&&d(t,["uri"],i);const o=c(e,["bytesBase64Encoded"]);o!=null&&d(t,["videoBytes"],hi(a,o));const l=c(e,["mimeType"]);return l!=null&&d(t,["mimeType"],l),t}function yD(a,e){const t={},i=c(e,["_self"]);return i!=null&&d(t,["video"],gD(a,i)),t}function vD(a,e){const t={},i=c(e,["videos"]);if(i!=null){let f=i;Array.isArray(f)&&(f=f.map(m=>yD(a,m))),d(t,["generatedVideos"],f)}const o=c(e,["raiMediaFilteredCount"]);o!=null&&d(t,["raiMediaFilteredCount"],o);const l=c(e,["raiMediaFilteredReasons"]);return l!=null&&d(t,["raiMediaFilteredReasons"],l),t}function By(a,e){const t={},i=c(e,["name"]);i!=null&&d(t,["name"],i);const o=c(e,["metadata"]);o!=null&&d(t,["metadata"],o);const l=c(e,["done"]);l!=null&&d(t,["done"],l);const f=c(e,["error"]);f!=null&&d(t,["error"],f);const m=c(e,["response"]);return m!=null&&d(t,["response"],vD(a,m)),t}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class _D extends _o{constructor(e){super(),this.apiClient=e}async getVideosOperation(e){const t=e.operation,i=e.config;if(t.name===void 0||t.name==="")throw new Error("Operation name is required.");if(this.apiClient.isVertexAI()){const o=t.name.split("/operations/")[0];let l;return i&&"httpOptions"in i&&(l=i.httpOptions),this.fetchPredictVideosOperationInternal({operationName:t.name,resourceName:o,config:{httpOptions:l}})}else return this.getVideosOperationInternal({operationName:t.name,config:i})}async getVideosOperationInternal(e){var t,i,o,l;let f,m="",g={};if(this.apiClient.isVertexAI()){const p=cD(this.apiClient,e);return m=fe("{operationName}",p._url),g=p._query,delete p.config,delete p._url,delete p._query,f=this.apiClient.request({path:m,queryParams:g,body:JSON.stringify(p),httpMethod:"GET",httpOptions:(t=e.config)===null||t===void 0?void 0:t.httpOptions,abortSignal:(i=e.config)===null||i===void 0?void 0:i.abortSignal}).then(v=>v.json()),f.then(v=>By(this.apiClient,v))}else{const p=uD(this.apiClient,e);return m=fe("{operationName}",p._url),g=p._query,delete p.config,delete p._url,delete p._query,f=this.apiClient.request({path:m,queryParams:g,body:JSON.stringify(p),httpMethod:"GET",httpOptions:(o=e.config)===null||o===void 0?void 0:o.httpOptions,abortSignal:(l=e.config)===null||l===void 0?void 0:l.abortSignal}).then(v=>v.json()),f.then(v=>pD(this.apiClient,v))}}async fetchPredictVideosOperationInternal(e){var t,i;let o,l="",f={};if(this.apiClient.isVertexAI()){const m=fD(this.apiClient,e);return l=fe("{resourceName}:fetchPredictOperation",m._url),f=m._query,delete m.config,delete m._url,delete m._query,o=this.apiClient.request({path:l,queryParams:f,body:JSON.stringify(m),httpMethod:"POST",httpOptions:(t=e.config)===null||t===void 0?void 0:t.httpOptions,abortSignal:(i=e.config)===null||i===void 0?void 0:i.abortSignal}).then(g=>g.json()),o.then(g=>By(this.apiClient,g))}else throw new Error("This method is only supported by the Vertex AI.")}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function TD(a,e){const t={},i=c(e,["name"]);i!=null&&d(t,["_url","name"],i);const o=c(e,["config"]);return o!=null&&d(t,["config"],o),t}function SD(a,e,t){const i={},o=c(e,["pageSize"]);t!==void 0&&o!=null&&d(t,["_query","pageSize"],o);const l=c(e,["pageToken"]);t!==void 0&&l!=null&&d(t,["_query","pageToken"],l);const f=c(e,["filter"]);return t!==void 0&&f!=null&&d(t,["_query","filter"],f),i}function CD(a,e){const t={},i=c(e,["config"]);return i!=null&&d(t,["config"],SD(a,i,t)),t}function ED(a,e){const t={},i=c(e,["textInput"]);i!=null&&d(t,["textInput"],i);const o=c(e,["output"]);return o!=null&&d(t,["output"],o),t}function AD(a,e){const t={};if(c(e,["gcsUri"])!==void 0)throw new Error("gcsUri parameter is not supported in Gemini API.");const i=c(e,["examples"]);if(i!=null){let o=i;Array.isArray(o)&&(o=o.map(l=>ED(a,l))),d(t,["examples","examples"],o)}return t}function wD(a,e,t){const i={};if(c(e,["validationDataset"])!==void 0)throw new Error("validationDataset parameter is not supported in Gemini API.");const o=c(e,["tunedModelDisplayName"]);if(t!==void 0&&o!=null&&d(t,["displayName"],o),c(e,["description"])!==void 0)throw new Error("description parameter is not supported in Gemini API.");const l=c(e,["epochCount"]);t!==void 0&&l!=null&&d(t,["tuningTask","hyperparameters","epochCount"],l);const f=c(e,["learningRateMultiplier"]);if(f!=null&&d(i,["tuningTask","hyperparameters","learningRateMultiplier"],f),c(e,["exportLastCheckpointOnly"])!==void 0)throw new Error("exportLastCheckpointOnly parameter is not supported in Gemini API.");if(c(e,["adapterSize"])!==void 0)throw new Error("adapterSize parameter is not supported in Gemini API.");const m=c(e,["batchSize"]);t!==void 0&&m!=null&&d(t,["tuningTask","hyperparameters","batchSize"],m);const g=c(e,["learningRate"]);return t!==void 0&&g!=null&&d(t,["tuningTask","hyperparameters","learningRate"],g),i}function xD(a,e){const t={},i=c(e,["baseModel"]);i!=null&&d(t,["baseModel"],i);const o=c(e,["trainingDataset"]);o!=null&&d(t,["tuningTask","trainingData"],AD(a,o));const l=c(e,["config"]);return l!=null&&d(t,["config"],wD(a,l,t)),t}function bD(a,e){const t={},i=c(e,["name"]);i!=null&&d(t,["_url","name"],i);const o=c(e,["config"]);return o!=null&&d(t,["config"],o),t}function RD(a,e,t){const i={},o=c(e,["pageSize"]);t!==void 0&&o!=null&&d(t,["_query","pageSize"],o);const l=c(e,["pageToken"]);t!==void 0&&l!=null&&d(t,["_query","pageToken"],l);const f=c(e,["filter"]);return t!==void 0&&f!=null&&d(t,["_query","filter"],f),i}function MD(a,e){const t={},i=c(e,["config"]);return i!=null&&d(t,["config"],RD(a,i,t)),t}function DD(a,e,t){const i={},o=c(e,["gcsUri"]);if(t!==void 0&&o!=null&&d(t,["supervisedTuningSpec","trainingDatasetUri"],o),c(e,["examples"])!==void 0)throw new Error("examples parameter is not supported in Vertex AI.");return i}function ND(a,e){const t={},i=c(e,["gcsUri"]);return i!=null&&d(t,["validationDatasetUri"],i),t}function kD(a,e,t){const i={},o=c(e,["validationDataset"]);t!==void 0&&o!=null&&d(t,["supervisedTuningSpec"],ND(a,o));const l=c(e,["tunedModelDisplayName"]);t!==void 0&&l!=null&&d(t,["tunedModelDisplayName"],l);const f=c(e,["description"]);t!==void 0&&f!=null&&d(t,["description"],f);const m=c(e,["epochCount"]);t!==void 0&&m!=null&&d(t,["supervisedTuningSpec","hyperParameters","epochCount"],m);const g=c(e,["learningRateMultiplier"]);t!==void 0&&g!=null&&d(t,["supervisedTuningSpec","hyperParameters","learningRateMultiplier"],g);const p=c(e,["exportLastCheckpointOnly"]);t!==void 0&&p!=null&&d(t,["supervisedTuningSpec","exportLastCheckpointOnly"],p);const v=c(e,["adapterSize"]);if(t!==void 0&&v!=null&&d(t,["supervisedTuningSpec","hyperParameters","adapterSize"],v),c(e,["batchSize"])!==void 0)throw new Error("batchSize parameter is not supported in Vertex AI.");if(c(e,["learningRate"])!==void 0)throw new Error("learningRate parameter is not supported in Vertex AI.");return i}function UD(a,e){const t={},i=c(e,["baseModel"]);i!=null&&d(t,["baseModel"],i);const o=c(e,["trainingDataset"]);o!=null&&d(t,["supervisedTuningSpec","trainingDatasetUri"],DD(a,o,t));const l=c(e,["config"]);return l!=null&&d(t,["config"],kD(a,l,t)),t}function ID(a,e){const t={},i=c(e,["name"]);i!=null&&d(t,["model"],i);const o=c(e,["name"]);return o!=null&&d(t,["endpoint"],o),t}function Wv(a,e){const t={},i=c(e,["name"]);i!=null&&d(t,["name"],i);const o=c(e,["state"]);o!=null&&d(t,["state"],Ov(a,o));const l=c(e,["createTime"]);l!=null&&d(t,["createTime"],l);const f=c(e,["tuningTask","startTime"]);f!=null&&d(t,["startTime"],f);const m=c(e,["tuningTask","completeTime"]);m!=null&&d(t,["endTime"],m);const g=c(e,["updateTime"]);g!=null&&d(t,["updateTime"],g);const p=c(e,["description"]);p!=null&&d(t,["description"],p);const v=c(e,["baseModel"]);v!=null&&d(t,["baseModel"],v);const _=c(e,["_self"]);_!=null&&d(t,["tunedModel"],ID(a,_));const S=c(e,["distillationSpec"]);S!=null&&d(t,["distillationSpec"],S);const E=c(e,["experiment"]);E!=null&&d(t,["experiment"],E);const A=c(e,["labels"]);A!=null&&d(t,["labels"],A);const b=c(e,["pipelineJob"]);b!=null&&d(t,["pipelineJob"],b);const N=c(e,["serviceAccount"]);N!=null&&d(t,["serviceAccount"],N);const O=c(e,["tunedModelDisplayName"]);return O!=null&&d(t,["tunedModelDisplayName"],O),t}function OD(a,e){const t={},i=c(e,["nextPageToken"]);i!=null&&d(t,["nextPageToken"],i);const o=c(e,["tunedModels"]);if(o!=null){let l=o;Array.isArray(l)&&(l=l.map(f=>Wv(a,f))),d(t,["tuningJobs"],l)}return t}function LD(a,e){const t={},i=c(e,["name"]);i!=null&&d(t,["name"],i);const o=c(e,["metadata"]);o!=null&&d(t,["metadata"],o);const l=c(e,["done"]);l!=null&&d(t,["done"],l);const f=c(e,["error"]);return f!=null&&d(t,["error"],f),t}function PD(a,e){const t={},i=c(e,["checkpointId"]);i!=null&&d(t,["checkpointId"],i);const o=c(e,["epoch"]);o!=null&&d(t,["epoch"],o);const l=c(e,["step"]);l!=null&&d(t,["step"],l);const f=c(e,["endpoint"]);return f!=null&&d(t,["endpoint"],f),t}function VD(a,e){const t={},i=c(e,["model"]);i!=null&&d(t,["model"],i);const o=c(e,["endpoint"]);o!=null&&d(t,["endpoint"],o);const l=c(e,["checkpoints"]);if(l!=null){let f=l;Array.isArray(f)&&(f=f.map(m=>PD(a,m))),d(t,["checkpoints"],f)}return t}function _f(a,e){const t={},i=c(e,["name"]);i!=null&&d(t,["name"],i);const o=c(e,["state"]);o!=null&&d(t,["state"],Ov(a,o));const l=c(e,["createTime"]);l!=null&&d(t,["createTime"],l);const f=c(e,["startTime"]);f!=null&&d(t,["startTime"],f);const m=c(e,["endTime"]);m!=null&&d(t,["endTime"],m);const g=c(e,["updateTime"]);g!=null&&d(t,["updateTime"],g);const p=c(e,["error"]);p!=null&&d(t,["error"],p);const v=c(e,["description"]);v!=null&&d(t,["description"],v);const _=c(e,["baseModel"]);_!=null&&d(t,["baseModel"],_);const S=c(e,["tunedModel"]);S!=null&&d(t,["tunedModel"],VD(a,S));const E=c(e,["supervisedTuningSpec"]);E!=null&&d(t,["supervisedTuningSpec"],E);const A=c(e,["tuningDataStats"]);A!=null&&d(t,["tuningDataStats"],A);const b=c(e,["encryptionSpec"]);b!=null&&d(t,["encryptionSpec"],b);const N=c(e,["partnerModelTuningSpec"]);N!=null&&d(t,["partnerModelTuningSpec"],N);const O=c(e,["distillationSpec"]);O!=null&&d(t,["distillationSpec"],O);const q=c(e,["experiment"]);q!=null&&d(t,["experiment"],q);const H=c(e,["labels"]);H!=null&&d(t,["labels"],H);const J=c(e,["pipelineJob"]);J!=null&&d(t,["pipelineJob"],J);const F=c(e,["serviceAccount"]);F!=null&&d(t,["serviceAccount"],F);const oe=c(e,["tunedModelDisplayName"]);return oe!=null&&d(t,["tunedModelDisplayName"],oe),t}function qD(a,e){const t={},i=c(e,["nextPageToken"]);i!=null&&d(t,["nextPageToken"],i);const o=c(e,["tuningJobs"]);if(o!=null){let l=o;Array.isArray(l)&&(l=l.map(f=>_f(a,f))),d(t,["tuningJobs"],l)}return t}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class BD extends _o{constructor(e){super(),this.apiClient=e,this.get=async t=>await this.getInternal(t),this.list=async(t={})=>new dl(Yr.PAGED_ITEM_TUNING_JOBS,i=>this.listInternal(i),await this.listInternal(t),t),this.tune=async t=>{if(this.apiClient.isVertexAI())return await this.tuneInternal(t);{const i=await this.tuneMldevInternal(t);let o="";return i.metadata!==void 0&&i.metadata.tunedModel!==void 0?o=i.metadata.tunedModel:i.name!==void 0&&i.name.includes("/operations/")&&(o=i.name.split("/operations/")[0]),{name:o,state:cf.JOB_STATE_QUEUED}}}}async getInternal(e){var t,i,o,l;let f,m="",g={};if(this.apiClient.isVertexAI()){const p=bD(this.apiClient,e);return m=fe("{name}",p._url),g=p._query,delete p.config,delete p._url,delete p._query,f=this.apiClient.request({path:m,queryParams:g,body:JSON.stringify(p),httpMethod:"GET",httpOptions:(t=e.config)===null||t===void 0?void 0:t.httpOptions,abortSignal:(i=e.config)===null||i===void 0?void 0:i.abortSignal}).then(v=>v.json()),f.then(v=>_f(this.apiClient,v))}else{const p=TD(this.apiClient,e);return m=fe("{name}",p._url),g=p._query,delete p.config,delete p._url,delete p._query,f=this.apiClient.request({path:m,queryParams:g,body:JSON.stringify(p),httpMethod:"GET",httpOptions:(o=e.config)===null||o===void 0?void 0:o.httpOptions,abortSignal:(l=e.config)===null||l===void 0?void 0:l.abortSignal}).then(v=>v.json()),f.then(v=>Wv(this.apiClient,v))}}async listInternal(e){var t,i,o,l;let f,m="",g={};if(this.apiClient.isVertexAI()){const p=MD(this.apiClient,e);return m=fe("tuningJobs",p._url),g=p._query,delete p.config,delete p._url,delete p._query,f=this.apiClient.request({path:m,queryParams:g,body:JSON.stringify(p),httpMethod:"GET",httpOptions:(t=e.config)===null||t===void 0?void 0:t.httpOptions,abortSignal:(i=e.config)===null||i===void 0?void 0:i.abortSignal}).then(v=>v.json()),f.then(v=>{const _=qD(this.apiClient,v),S=new py;return Object.assign(S,_),S})}else{const p=CD(this.apiClient,e);return m=fe("tunedModels",p._url),g=p._query,delete p.config,delete p._url,delete p._query,f=this.apiClient.request({path:m,queryParams:g,body:JSON.stringify(p),httpMethod:"GET",httpOptions:(o=e.config)===null||o===void 0?void 0:o.httpOptions,abortSignal:(l=e.config)===null||l===void 0?void 0:l.abortSignal}).then(v=>v.json()),f.then(v=>{const _=OD(this.apiClient,v),S=new py;return Object.assign(S,_),S})}}async tuneInternal(e){var t,i;let o,l="",f={};if(this.apiClient.isVertexAI()){const m=UD(this.apiClient,e);return l=fe("tuningJobs",m._url),f=m._query,delete m.config,delete m._url,delete m._query,o=this.apiClient.request({path:l,queryParams:f,body:JSON.stringify(m),httpMethod:"POST",httpOptions:(t=e.config)===null||t===void 0?void 0:t.httpOptions,abortSignal:(i=e.config)===null||i===void 0?void 0:i.abortSignal}).then(g=>g.json()),o.then(g=>_f(this.apiClient,g))}else throw new Error("This method is only supported by the Vertex AI.")}async tuneMldevInternal(e){var t,i;let o,l="",f={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const m=xD(this.apiClient,e);return l=fe("tunedModels",m._url),f=m._query,delete m.config,delete m._url,delete m._query,o=this.apiClient.request({path:l,queryParams:f,body:JSON.stringify(m),httpMethod:"POST",httpOptions:(t=e.config)===null||t===void 0?void 0:t.httpOptions,abortSignal:(i=e.config)===null||i===void 0?void 0:i.abortSignal}).then(g=>g.json()),o.then(g=>LD(this.apiClient,g))}}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class zD{async download(e,t){throw new Error("Download to file is not supported in the browser, please use a browser compliant download like an <a> tag.")}}const GD=1024*1024*8,HD=3,$D=1e3,FD=2,$c="x-goog-upload-status";async function YD(a,e,t){var i,o,l;let f=0,m=0,g=new ff(new Response),p="upload";for(f=a.size;m<f;){const _=Math.min(GD,f-m),S=a.slice(m,m+_);m+_>=f&&(p+=", finalize");let E=0,A=$D;for(;E<HD&&(g=await t.request({path:"",body:S,httpMethod:"POST",httpOptions:{apiVersion:"",baseUrl:e,headers:{"X-Goog-Upload-Command":p,"X-Goog-Upload-Offset":String(m),"Content-Length":String(_)}}}),!(!((i=g==null?void 0:g.headers)===null||i===void 0)&&i[$c]));)E++,await ZD(A),A=A*FD;if(m+=_,((o=g==null?void 0:g.headers)===null||o===void 0?void 0:o[$c])!=="active")break;if(f<=m)throw new Error("All content has been uploaded, but the upload status is not finalized.")}const v=await(g==null?void 0:g.json());if(((l=g==null?void 0:g.headers)===null||l===void 0?void 0:l[$c])!=="final")throw new Error("Failed to upload file: Upload status is not finalized.");return v.file}async function JD(a){return{size:a.size,type:a.type}}function ZD(a){return new Promise(e=>setTimeout(e,a))}class KD{async upload(e,t,i){if(typeof e=="string")throw new Error("File path is not supported in browser uploader.");return await YD(e,t,i)}async stat(e){if(typeof e=="string")throw new Error("File path is not supported in browser uploader.");return await JD(e)}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class XD{create(e,t,i){return new QD(e,t,i)}}class QD{constructor(e,t,i){this.url=e,this.headers=t,this.callbacks=i}connect(){this.ws=new WebSocket(this.url),this.ws.onopen=this.callbacks.onopen,this.ws.onerror=this.callbacks.onerror,this.ws.onclose=this.callbacks.onclose,this.ws.onmessage=this.callbacks.onmessage}send(e){if(this.ws===void 0)throw new Error("WebSocket is not connected");this.ws.send(e)}close(){if(this.ws===void 0)throw new Error("WebSocket is not connected");this.ws.close()}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */const zy="x-goog-api-key";class WD{constructor(e){this.apiKey=e}async addAuthHeaders(e){e.get(zy)===null&&e.append(zy,this.apiKey)}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */const jD="gl-node/";class eN{constructor(e){var t;if(e.apiKey==null)throw new Error("An API Key must be set when running in a browser");if(e.project||e.location)throw new Error("Vertex AI project based authentication is not supported on browser runtimes. Please do not provide a project or location.");this.vertexai=(t=e.vertexai)!==null&&t!==void 0?t:!1,this.apiKey=e.apiKey;const i=GA(e,void 0,void 0);i&&(e.httpOptions?e.httpOptions.baseUrl=i:e.httpOptions={baseUrl:i}),this.apiVersion=e.apiVersion;const o=new WD(this.apiKey);this.apiClient=new J1({auth:o,apiVersion:this.apiVersion,apiKey:this.apiKey,vertexai:this.vertexai,httpOptions:e.httpOptions,userAgentExtra:jD+"web",uploader:new KD,downloader:new zD}),this.models=new lD(this.apiClient),this.live=new iD(this.apiClient,o,new XD),this.chats=new ux(this.models,this.apiClient),this.caches=new ox(this.apiClient),this.files=new Cx(this.apiClient),this.operations=new _D(this.apiClient),this.tunings=new BD(this.apiClient)}}const tN=()=>{var ae,ke,x,$,Q;const[a,e]=L.useState(null),[t,i]=L.useState(!0),[o,l]=L.useState(null),[f,m]=L.useState([]),[g,p]=L.useState([]),[v,_]=L.useState(!1),[S,E]=L.useState(!1),[A,b]=L.useState(null),[N,O]=L.useState(null),[q,H]=L.useState(!1),[J,F]=L.useState(!1),[oe,se]=L.useState(""),[ve,te]=L.useState(!1),[me,ze]=L.useState(!1),Xe=Qy(),Lt=new eN({apiKey:"AIzaSyBv0XgPBnmDjZhBwdJrJ-G_-YyKduIBxVY"}),nt=async()=>{H(!0);try{const z=await Lt.models.generateContent({model:"gemini-2.0-flash",contents:`User's top artists are ${f.map(Z=>Z.name).join(", ")} and top tracks are ${g.map(Z=>Z.name+"-"+Z.artists[0].name).join(", ")}.`,config:{systemInstruction:`# Role
                You are a personality analyzer that uses a person's top artists, top tracks, and top genres to decide what the person is like.

                # Instructions
                1. You will be given the user's top artists and top tracks from their Spotify
                2. Create a description of their personality in a fun gen z/gen alpha way. Example phrases: 
                - huzz: girlfriend/boyfriend - find yourself a huzz! (find yourself a partner)
                - oh who is you: oh who are you
                - get outta here: get out of here
                - what the hell brother: what in the world
                You dont need to use all of these phrases, but use them in a way that makes sense. Please research your own phrases, don't always use the ones I provided.

                # Rules
                1. Do not use text formatting like bold and italics.
                2. You don't need to write a particular sentence for each song or artist. However, do analyze the whole personality based on all songs and artists. Keep it a maximum of two paragraphs but each paragraph at least 5 complete sentences. Don't make the paragraphs too short. 
                Remember, you are giving an in-depth analysis of the person's personality based on their Spotify data.

                # Output
                The description of the person. You can joke around, be a little prick by calling them a sad person or something. It's all fun, but it must be accurate and all based from their Spotify data. Make sure the output is a well written paragraph, not fragmented, but don't make it too formal.

                Just dive into the description. Don't start with sentences like "Ah, diving into your Spotify to find out what makes you, you. Let's see what we've got here." or similar ones.

                Do not output recommendations to other singers like "So, are you sad? Or are you just eclectic? Either way, get outta here with your cool music taste, and don't forget to add some JPEGMafia to balance out everything. Huzz!" or similar ones.

                # Example Outputs

                Example 1:
                One of the inputs: Sombr
                A part of the output: Why are you listening to Sombr? You're probably sad. Oh, who hurt you. I feel bad. 

                Example 2:
                One of the inputs: Back to Me - The Marias
                A part of the output: Did you just get over someone or are you just enjoying the beauty of Back to Me? Perhaps, you're someone who's very melancholic. But man, go get your huzz.

                Example 3:
                One of the inputs: JPEGMafia
                A part of the output: Oh, JPEGMafia is underrated. Are you trying to be cool or something?

                Example 4:
                Input: 
                Top Artists - Ravyn Lenae, Arctic Monkeys, Sombr, The Marias, Cigarettes After Sex

                Top Songs - Love Me Not by Ravyn Lenar, Starry Eyes by Cigarettes After Sex, Apocalypse by Cigarettes After Sex, Undressed by Sombr, I Wanna be Yours by Arctic Monkeys

                Output:
                Dawg, hello are you good? Why have you been listening to undressed and i wanna be yours lately. Are you not over someone? Or do you just like that feeling of being hurt? You really need a huzz, man.

                Listening to the Marias and Sombr at the same time is honestly depressing. Call your friends, genuinely. Arctic Monkeys in that list makes you quite the rockstar, though. You're probably a social person that gets exhausted easily based on your music taste. The fact that you listen to Love me not really adds to the fact that you get exhausted easily—you probably are that bed rotten person who only scrolls TikTok and talk energetically when its only the start of the conversation.`}});O(z.text)}catch(z){console.error("Error generating response:",z)}finally{H(!1)}};L.useEffect(()=>{if(N&&!q){se(""),te(!0);const z=setTimeout(()=>{let Z=0;const de=N,W=()=>{Z<de.length?(se(de.substring(0,Z+1)),Z++,setTimeout(W,30)):te(!1)};W()},500);return()=>clearTimeout(z)}},[N,q]);const Je=async()=>{try{_(!0),b(null);const{data:{session:z},error:Z}=await sn.auth.getSession();if(Z)return console.error("Session error:",Z),b("Session error"),[];if(!z)return console.error("No session found"),b("No session found"),[];const de=z.provider_token;if(!de)return console.error("No provider_token found in session"),b("No Spotify access token found"),[];const W=await fetch("https://api.spotify.com/v1/me/top/artists?limit=5&time_range=medium_term",{method:"GET",headers:{Authorization:`Bearer ${de}`,"Content-Type":"application/json"}});if(!W.ok){const xe=await W.text();return console.error("Spotify API error:",W.status,xe),W.status===429?(b("Rate limit exceeded. Please wait a moment and try again."),[]):W.status===401?(b("Access token expired. Please log in again."),[]):W.status===403?(b('Insufficient permissions. Please check your Spotify app scopes include "user-top-read".'),[]):(b(`Spotify API error: ${W.status}`),[])}return(await W.json()).items||[]}catch(z){return console.error("Error fetching top artists:",z),b("Failed to fetch top artists"),[]}finally{_(!1)}},P=async()=>{try{E(!0),b(null);const{data:{session:z},error:Z}=await sn.auth.getSession();if(Z)return console.error("Session error:",Z),b("Session error"),[];if(!z)return console.error("No session found"),b("No session found"),[];const de=z.provider_token;if(!de)return console.error("No provider_token found in session"),b("No Spotify access token found"),[];const W=await fetch("https://api.spotify.com/v1/me/top/tracks?limit=5&time_range=short_term",{method:"GET",headers:{Authorization:`Bearer ${de}`,"Content-Type":"application/json"}});if(!W.ok){const xe=await W.text();return console.error("Spotify API error:",W.status,xe),W.status===429?(b("Rate limit exceeded."),[]):W.status===401?(b("Access token expired. Please log in again."),[]):W.status===403?(b("Insufficient permissions."),[]):(b(`Spotify API error: ${W.status}`),[])}const Re=await W.json();return console.log("Top tracks data:",Re),Re.items||[]}catch(z){return console.error("Error fetching top tracks:",z),b("Failed to fetch top tracks"),[]}finally{E(!1)}},K=async()=>{try{const{error:z}=await sn.auth.signOut();z&&console.error("Logout error:",z),Xe("/"),await sn.auth.setSession(null)}catch(z){console.error("Error during logout:",z)}};return L.useEffect(()=>{const{data:{subscription:z}}=sn.auth.onAuthStateChange((Z,de)=>{Z==="SIGNED_OUT"&&localStorage.clear()});return()=>z.unsubscribe()},[]),L.useEffect(()=>{let z=!0;(async()=>{var W;try{const{data:{session:Re},error:xe}=await sn.auth.getSession();if(xe){console.error("Session error:",xe);return}console.log("Session data:",Re),z&&(e(((W=Re==null?void 0:Re.user)==null?void 0:W.user_metadata)||null),l(Re),i(!1))}catch(Re){console.error("Error getting session:",Re),z&&i(!1)}})();const{data:{subscription:de}}=sn.auth.onAuthStateChange((W,Re)=>{var xe,Jt;console.log("Auth state changed:",W,(xe=Re==null?void 0:Re.user)==null?void 0:xe.user_metadata),z&&(e(((Jt=Re==null?void 0:Re.user)==null?void 0:Jt.user_metadata)||null),l(Re),i(!1))});return()=>{z=!1,de==null||de.unsubscribe()}},[]),L.useEffect(()=>{!t&&o&&o.provider_token&&f.length===0&&(console.log("Auto-fetching top artists and tracks..."),Je().then(z=>{m(z)}),P().then(z=>{p(z)}))},[t,o]),L.useEffect(()=>{f.length>0&&g.length>0&&!v&&!S&&ze(!0)},[f,g,v,S]),L.useEffect(()=>{!J&&f.length>0&&g.length>0&&(F(!0),nt())},[f,g,J]),t||!me?re.jsx("div",{className:"header result-bg flex flex-col items-center justify-center min-h-screen p-10",children:re.jsxs("div",{className:"text-center",children:[re.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-white mx-auto mb-4"}),re.jsx("h2",{className:"text-xl font-bold mb-2",children:"Analyzing your music taste..."}),re.jsx("p",{className:"text-sm opacity-80",children:t?"Getting your session ready...":v||S?"Fetching your Spotify data...":"Almost done..."})]})}):A?re.jsx("div",{className:"header result-bg flex flex-col items-center justify-center min-h-screen p-10",children:re.jsxs("div",{className:"text-center",children:[re.jsx("h2",{className:"text-xl font-bold mb-2",children:"Oops! Something went wrong"}),re.jsx("p",{className:"text-sm mb-4",children:A}),re.jsx("button",{onClick:K,className:"text-sm font-bold border-2 border-white rounded-full px-4 py-2 hover:bg-white hover:text-black transition-colors",children:"Go Back"})]})}):re.jsxs("div",{className:"header result-bg flex flex-col items-center justify-center min-h-screen p-10",children:[re.jsxs("div",{className:"max-w-4xl text-center",children:[re.jsxs("h1",{className:"font-bold text-2xl mb-4",children:[(a==null?void 0:a.name)||(a==null?void 0:a.display_name),", here's your result"]}),re.jsx("div",{className:"description mb-8 px-10 text-sm text-left space-y-4",children:q?re.jsx("div",{className:"text-center",children:re.jsx("div",{className:"animate-pulse",children:"Generating your description..."})}):N?oe.split(`

`).map((z,Z)=>re.jsx("p",{children:z},Z)):null})]}),re.jsxs("div",{className:"flex flex-col items-start gap-12",children:[re.jsxs("div",{className:"flex items-start gap-6",children:[((ke=(ae=f[0])==null?void 0:ae.images)==null?void 0:ke.length)>0&&re.jsx("img",{src:f[0].images[0].url,className:"w-40 h-40 object-cover",alt:"Top artist"}),re.jsxs("div",{children:[re.jsx("h1",{className:"font-bold text-xl mb-2",children:"Current Top Artists"}),re.jsx("ol",{className:"text-left text-sm space-y-1",children:f.map((z,Z)=>re.jsxs("li",{className:"flex",children:[re.jsxs("span",{className:"w-6 font-medium",children:[Z+1,"."]}),re.jsx("span",{children:z.name})]},z.id||Z))})]})]}),re.jsxs("div",{className:"flex items-start gap-6",children:[((Q=($=(x=g[0])==null?void 0:x.album)==null?void 0:$.images)==null?void 0:Q.length)>0&&re.jsx("img",{src:g[0].album.images[0].url,className:"w-40 h-40 object-cover",alt:"Top track"}),re.jsxs("div",{children:[re.jsx("h1",{className:"font-bold text-xl mb-2",children:"Current Top Tracks"}),re.jsx("ol",{className:"text-left text-sm space-y-1",children:g.map((z,Z)=>re.jsxs("li",{className:"flex",children:[re.jsxs("span",{className:"w-6 font-medium",children:[Z+1,"."]}),re.jsx("span",{children:z.name})]},z.id||Z))})]})]}),re.jsx("button",{onClick:K,className:"mt-6 text-sm font-bold border-2 border-white rounded-full px-3 py-2 hover:bg-white hover:text-black transition-colors",children:"Log Out"})]})]})};kT.createRoot(document.getElementById("root")).render(re.jsx(L.StrictMode,{children:re.jsx(JS,{children:re.jsxs(ES,{children:[re.jsx(Yc,{path:"/",element:re.jsx(oA,{})}),re.jsx(Yc,{path:"/result",element:re.jsx(tN,{})})]})})}));export{ST as g};
